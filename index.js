var F0 = Object.defineProperty;
var B0 = (n, i, r) => i in n ? F0(n, i, { enumerable: !0, configurable: !0, writable: !0, value: r }) : n[i] = r;
var ke = (n, i, r) => (B0(n, typeof i != "symbol" ? i + "" : i, r), r);
function Me() {
}
const W0 = (n) => n;
function N0(n, i) {
  for (const r in i)
    n[r] = i[r];
  return (
    /** @type {T & S} */
    n
  );
}
function tc(n) {
  return n();
}
function Vf() {
  return /* @__PURE__ */ Object.create(null);
}
function It(n) {
  n.forEach(tc);
}
function he(n) {
  return typeof n == "function";
}
function Ze(n, i) {
  return n != n ? i == i : n !== i || n && typeof n == "object" || typeof n == "function";
}
function H0(n) {
  return Object.keys(n).length === 0;
}
function Ls(n, ...i) {
  if (n == null) {
    for (const u of i)
      u(void 0);
    return Me;
  }
  const r = n.subscribe(...i);
  return r.unsubscribe ? () => r.unsubscribe() : r;
}
function yo(n) {
  let i;
  return Ls(n, (r) => i = r)(), i;
}
function k(n, i, r) {
  n.$$.on_destroy.push(Ls(i, r));
}
function Di(n, i, r, u) {
  if (n) {
    const o = nc(n, i, r, u);
    return n[0](o);
  }
}
function nc(n, i, r, u) {
  return n[1] && u ? N0(r.ctx.slice(), n[1](u(i))) : r.ctx;
}
function Ei(n, i, r, u) {
  if (n[2] && u) {
    const o = n[2](u(r));
    if (i.dirty === void 0)
      return o;
    if (typeof o == "object") {
      const a = [], l = Math.max(i.dirty.length, o.length);
      for (let c = 0; c < l; c += 1)
        a[c] = i.dirty[c] | o[c];
      return a;
    }
    return i.dirty | o;
  }
  return i.dirty;
}
function ki(n, i, r, u, o, a) {
  if (o) {
    const l = nc(i, r, u, a);
    n.p(l, o);
  }
}
function Ai(n) {
  if (n.ctx.length > 32) {
    const i = [], r = n.ctx.length / 32;
    for (let u = 0; u < r; u++)
      i[u] = -1;
    return i;
  }
  return -1;
}
function We(n, i, r) {
  return n.set(r), i;
}
function bo(n) {
  return n && he(n.destroy) ? n.destroy : Me;
}
const rc = typeof window < "u" ? window : typeof globalThis < "u" ? globalThis : (
  // @ts-ignore Node typings have this
  global
);
function le(n, i) {
  n.appendChild(i);
}
function ue(n, i, r) {
  n.insertBefore(i, r || null);
}
function ie(n) {
  n.parentNode && n.parentNode.removeChild(n);
}
function vn(n, i) {
  for (let r = 0; r < n.length; r += 1)
    n[r] && n[r].d(i);
}
function se(n) {
  return document.createElement(n);
}
function kn(n) {
  return document.createTextNode(n);
}
function Ne() {
  return kn(" ");
}
function Ft() {
  return kn("");
}
function ye(n, i, r, u) {
  return n.addEventListener(i, r, u), () => n.removeEventListener(i, r, u);
}
function jf(n) {
  return function(i) {
    return i.preventDefault(), n.call(this, i);
  };
}
function z(n, i, r) {
  r == null ? n.removeAttribute(i) : n.getAttribute(i) !== r && n.setAttribute(i, r);
}
function G0(n) {
  return Array.from(n.childNodes);
}
function kr(n, i) {
  i = "" + i, n.data !== i && (n.data = /** @type {string} */
  i);
}
function Ss(n, i) {
  n.value = i ?? "";
}
function Ds(n, i, r, u) {
  r == null ? n.style.removeProperty(i) : n.style.setProperty(i, r, u ? "important" : "");
}
function $f(n, i, r) {
  n.classList.toggle(i, !!r);
}
function z0(n, i, { bubbles: r = !1, cancelable: u = !1 } = {}) {
  return new CustomEvent(n, { detail: i, bubbles: r, cancelable: u });
}
function or(n, i) {
  return new n(i);
}
let Ii;
function Ti(n) {
  Ii = n;
}
function Ar() {
  if (!Ii)
    throw new Error("Function called outside component initialization");
  return Ii;
}
function x0(n) {
  Ar().$$.before_update.push(n);
}
function ic(n) {
  Ar().$$.on_mount.push(n);
}
function Y0(n) {
  Ar().$$.after_update.push(n);
}
function Co() {
  const n = Ar();
  return (i, r, { cancelable: u = !1 } = {}) => {
    const o = n.$$.callbacks[i];
    if (o) {
      const a = z0(
        /** @type {string} */
        i,
        r,
        { cancelable: u }
      );
      return o.slice().forEach((l) => {
        l.call(n, a);
      }), !a.defaultPrevented;
    }
    return !0;
  };
}
function Os(n, i) {
  return Ar().$$.context.set(n, i), i;
}
function wt(n) {
  return Ar().$$.context.get(n);
}
function sc(n, i) {
  const r = n.$$.callbacks[i.type];
  r && r.slice().forEach((u) => u.call(this, i));
}
const jr = [], en = [];
let $r = [];
const ea = [], uc = /* @__PURE__ */ Promise.resolve();
let ho = !1;
function oc() {
  ho || (ho = !0, uc.then(fc));
}
function lc() {
  return oc(), uc;
}
function _o(n) {
  $r.push(n);
}
const no = /* @__PURE__ */ new Set();
let Qr = 0;
function fc() {
  if (Qr !== 0)
    return;
  const n = Ii;
  do {
    try {
      for (; Qr < jr.length; ) {
        const i = jr[Qr];
        Qr++, Ti(i), q0(i.$$);
      }
    } catch (i) {
      throw jr.length = 0, Qr = 0, i;
    }
    for (Ti(null), jr.length = 0, Qr = 0; en.length; )
      en.pop()();
    for (let i = 0; i < $r.length; i += 1) {
      const r = $r[i];
      no.has(r) || (no.add(r), r());
    }
    $r.length = 0;
  } while (jr.length);
  for (; ea.length; )
    ea.pop()();
  ho = !1, no.clear(), Ti(n);
}
function q0(n) {
  if (n.fragment !== null) {
    n.update(), It(n.before_update);
    const i = n.dirty;
    n.dirty = [-1], n.fragment && n.fragment.p(n.ctx, i), n.after_update.forEach(_o);
  }
}
function K0(n) {
  const i = [], r = [];
  $r.forEach((u) => n.indexOf(u) === -1 ? i.push(u) : r.push(u)), r.forEach((u) => u()), $r = i;
}
const bs = /* @__PURE__ */ new Set();
let Sr;
function ft() {
  Sr = {
    r: 0,
    c: [],
    p: Sr
    // parent group
  };
}
function at() {
  Sr.r || It(Sr.c), Sr = Sr.p;
}
function x(n, i) {
  n && n.i && (bs.delete(n), n.i(i));
}
function j(n, i, r, u) {
  if (n && n.o) {
    if (bs.has(n))
      return;
    bs.add(n), Sr.c.push(() => {
      bs.delete(n), u && (r && n.d(1), u());
    }), n.o(i);
  } else
    u && u();
}
function Ge(n) {
  return (n == null ? void 0 : n.length) !== void 0 ? n : Array.from(n);
}
function go(n, i) {
  j(n, 1, 1, () => {
    i.delete(n.key);
  });
}
function po(n, i, r, u, o, a, l, c, _, g, v, C) {
  let w = n.length, T = a.length, E = w;
  const F = {};
  for (; E--; )
    F[n[E].key] = E;
  const R = [], A = /* @__PURE__ */ new Map(), L = /* @__PURE__ */ new Map(), B = [];
  for (E = T; E--; ) {
    const D = C(o, a, E), Y = r(D);
    let q = l.get(Y);
    q ? u && B.push(() => q.p(D, i)) : (q = g(Y, D), q.c()), A.set(Y, R[E] = q), Y in F && L.set(Y, Math.abs(E - F[Y]));
  }
  const W = /* @__PURE__ */ new Set(), N = /* @__PURE__ */ new Set();
  function O(D) {
    x(D, 1), D.m(c, v), l.set(D.key, D), v = D.first, T--;
  }
  for (; w && T; ) {
    const D = R[T - 1], Y = n[w - 1], q = D.key, X = Y.key;
    D === Y ? (v = D.first, w--, T--) : A.has(X) ? !l.has(q) || W.has(q) ? O(D) : N.has(X) ? w-- : L.get(q) > L.get(X) ? (N.add(q), O(D)) : (W.add(X), w--) : (_(Y, l), w--);
  }
  for (; w--; ) {
    const D = n[w];
    A.has(D.key) || _(D, l);
  }
  for (; T; )
    O(R[T - 1]);
  return It(B), R;
}
function Oe(n) {
  n && n.c();
}
function Re(n, i, r) {
  const { fragment: u, after_update: o } = n.$$;
  u && u.m(i, r), _o(() => {
    const a = n.$$.on_mount.map(tc).filter(he);
    n.$$.on_destroy ? n.$$.on_destroy.push(...a) : It(a), n.$$.on_mount = [];
  }), o.forEach(_o);
}
function Ae(n, i) {
  const r = n.$$;
  r.fragment !== null && (K0(r.after_update), It(r.on_destroy), r.fragment && r.fragment.d(i), r.on_destroy = r.fragment = null, r.ctx = []);
}
function X0(n, i) {
  n.$$.dirty[0] === -1 && (jr.push(n), oc(), n.$$.dirty.fill(0)), n.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function rt(n, i, r, u, o, a, l, c = [-1]) {
  const _ = Ii;
  Ti(n);
  const g = n.$$ = {
    fragment: null,
    ctx: [],
    // state
    props: a,
    update: Me,
    not_equal: o,
    bound: Vf(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(i.context || (_ ? _.$$.context : [])),
    // everything else
    callbacks: Vf(),
    dirty: c,
    skip_bound: !1,
    root: i.target || _.$$.root
  };
  l && l(g.root);
  let v = !1;
  if (g.ctx = r ? r(n, i.props || {}, (C, w, ...T) => {
    const E = T.length ? T[0] : w;
    return g.ctx && o(g.ctx[C], g.ctx[C] = E) && (!g.skip_bound && g.bound[C] && g.bound[C](E), v && X0(n, C)), w;
  }) : [], g.update(), v = !0, It(g.before_update), g.fragment = u ? u(g.ctx) : !1, i.target) {
    if (i.hydrate) {
      const C = G0(i.target);
      g.fragment && g.fragment.l(C), C.forEach(ie);
    } else
      g.fragment && g.fragment.c();
    i.intro && x(n.$$.fragment), Re(n, i.target, i.anchor), fc();
  }
  Ti(_);
}
class it {
  constructor() {
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    ke(this, "$$");
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    ke(this, "$$set");
  }
  /** @returns {void} */
  $destroy() {
    Ae(this, 1), this.$destroy = Me;
  }
  /**
   * @template {Extract<keyof Events, string>} K
   * @param {K} type
   * @param {((e: Events[K]) => void) | null | undefined} callback
   * @returns {() => void}
   */
  $on(i, r) {
    if (!he(r))
      return Me;
    const u = this.$$.callbacks[i] || (this.$$.callbacks[i] = []);
    return u.push(r), () => {
      const o = u.indexOf(r);
      o !== -1 && u.splice(o, 1);
    };
  }
  /**
   * @param {Partial<Props>} props
   * @returns {void}
   */
  $set(i) {
    this.$$set && !H0(i) && (this.$$.skip_bound = !0, this.$$set(i), this.$$.skip_bound = !1);
  }
}
const Z0 = "4";
typeof window < "u" && (window.__svelte || (window.__svelte = { v: /* @__PURE__ */ new Set() })).v.add(Z0);
class To {
  constructor(i) {
    ke(this, "id", -1);
    ke(this, "first_name", "");
    ke(this, "last_name", "");
    const r = {
      ...this,
      ...i
    };
    return Object.setPrototypeOf(r, To.prototype), r;
  }
}
class J0 {
  constructor(i, r) {
    ke(this, "api_url");
    this.http = i, this.base_url = r, this.api_url = "employees";
  }
  async fetch_employee(i) {
    const r = this.url_employee(i), u = await this.http.get(r);
    return Q0(u.body);
  }
  url_employee(i) {
    const r = [this.api_url, i].join("/");
    return new URL(r, this.base_url).toString();
  }
}
function Q0(n) {
  return new To({
    id: n.id,
    first_name: n.firstName,
    last_name: n.lastName
  });
}
const Vr = [];
function ac(n, i) {
  return {
    subscribe: vt(n, i).subscribe
  };
}
function vt(n, i = Me) {
  let r;
  const u = /* @__PURE__ */ new Set();
  function o(c) {
    if (Ze(n, c) && (n = c, r)) {
      const _ = !Vr.length;
      for (const g of u)
        g[1](), Vr.push(g, n);
      if (_) {
        for (let g = 0; g < Vr.length; g += 2)
          Vr[g][0](Vr[g + 1]);
        Vr.length = 0;
      }
    }
  }
  function a(c) {
    o(c(n));
  }
  function l(c, _ = Me) {
    const g = [c, _];
    return u.add(g), u.size === 1 && (r = i(o, a) || Me), c(n), () => {
      u.delete(g), u.size === 0 && r && (r(), r = null);
    };
  }
  return { set: o, update: a, subscribe: l };
}
function Yt(n, i, r) {
  const u = !Array.isArray(n), o = u ? [n] : n;
  if (!o.every(Boolean))
    throw new Error("derived() expects stores as input, got a falsy value");
  const a = i.length < 2;
  return ac(r, (l, c) => {
    let _ = !1;
    const g = [];
    let v = 0, C = Me;
    const w = () => {
      if (v)
        return;
      C();
      const E = i(u ? g[0] : g, l, c);
      a ? l(E) : C = he(E) ? E : Me;
    }, T = o.map(
      (E, F) => Ls(
        E,
        (R) => {
          g[F] = R, v &= ~(1 << F), _ && w();
        },
        () => {
          v |= 1 << F;
        }
      )
    );
    return _ = !0, w(), function() {
      It(T), C(), _ = !1;
    };
  });
}
class V0 {
  constructor() {
    ke(this, "_store", vt(/* @__PURE__ */ new Map()));
    ke(this, "store", Yt(this._store, (i) => i));
  }
  set_projects(i, r) {
    this._store.update((u) => u.set(i, r));
  }
  create_project(i, r) {
    this._store.update((u) => {
      const o = u.get(i) ?? [];
      return u.set(i, [...o, r]);
    });
  }
}
const cc = {};
function j0() {
  Os(cc, new V0());
}
function hc() {
  const n = wt(cc);
  return n || console.warn({ level: "warn", msg: "project context has not been initalized" }), n;
}
function $0(n, i, r = []) {
  return {
    id: n,
    name: i,
    tasks: r
  };
}
function em(n, i) {
  return {
    id: n,
    name: i
  };
}
const Es = Intl.DateTimeFormat("de-DE", { timeStyle: "short" }).format;
Intl.DateTimeFormat("de-DE", { dateStyle: "short" }).format;
function Gn(n) {
  const i = n.getFullYear(), r = String(n.getMonth() + 1).padStart(2, "0"), u = String(n.getDate()).padStart(2, "0");
  return `${i}-${r}-${u}`;
}
function ta(n, i) {
  const r = new Date(n);
  return r.setDate(r.getDate() + i), r;
}
function tm(n, i = 1) {
  const r = n.getDay(), u = new Date(n), o = r >= i ? r - i : 6 - r;
  return u.setDate(n.getDate() - o), u.setHours(0, 0, 0, 0), u;
}
function nm(n, i) {
  return Math.floor((i.getTime() - n.getTime()) / 1e3 / 60);
}
function rm(n) {
  const i = Math.floor(n / 60), r = n % 60;
  return `${i}h ${r}min`;
}
class ro {
  constructor(i, r, u) {
    ke(this, "api_url");
    this.http = i, this.base_url = r, this.employee_id = u, this.api_url = `employees/${u}/projects`;
  }
  async fetch_projects(i) {
    const r = this.url_projects(i), u = await this.http.get(r);
    return im(u.body);
  }
  url_projects(i) {
    const r = new URL(this.api_url, this.base_url);
    return r.searchParams.set("date", Gn(i)), r.toString();
  }
}
function im(n) {
  const i = [];
  for (const r of n.projects) {
    const u = {
      id: r.id,
      name: r.name,
      tasks: []
    };
    for (const o of r.tasks) {
      const a = {
        id: o.id,
        name: o.name
      };
      u.tasks.push(a);
    }
    u.tasks.sort((o, a) => o.id > a.id ? 1 : o.id < a.id ? -1 : 0), i.push(u);
  }
  return i;
}
var Ci = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, ks = { exports: {} };
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
ks.exports;
(function(n, i) {
  (function() {
    var r, u = "4.17.21", o = 200, a = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", l = "Expected a function", c = "Invalid `variable` option passed into `_.template`", _ = "__lodash_hash_undefined__", g = 500, v = "__lodash_placeholder__", C = 1, w = 2, T = 4, E = 1, F = 2, R = 1, A = 2, L = 4, B = 8, W = 16, N = 32, O = 64, D = 128, Y = 256, q = 512, X = 30, K = "...", $ = 800, de = 16, He = 1, me = 2, De = 3, ze = 1 / 0, Q = 9007199254740991, oe = 17976931348623157e292, te = 0 / 0, Le = 4294967295, bt = Le - 1, Je = Le >>> 1, Ke = [
      ["ary", D],
      ["bind", R],
      ["bindKey", A],
      ["curry", B],
      ["curryRight", W],
      ["flip", q],
      ["partial", N],
      ["partialRight", O],
      ["rearg", Y]
    ], ct = "[object Arguments]", ht = "[object Array]", _t = "[object AsyncFunction]", $e = "[object Boolean]", V = "[object Date]", Ie = "[object DOMException]", Qe = "[object Error]", et = "[object Function]", Bt = "[object GeneratorFunction]", dt = "[object Map]", ne = "[object Number]", Rt = "[object Null]", gt = "[object Object]", lr = "[object Promise]", Ir = "[object Proxy]", wn = "[object RegExp]", J = "[object Set]", Wt = "[object String]", Lt = "[object Symbol]", Rr = "[object Undefined]", st = "[object WeakMap]", cn = "[object WeakSet]", Te = "[object ArrayBuffer]", qt = "[object DataView]", Kt = "[object Float32Array]", fr = "[object Float64Array]", St = "[object Int8Array]", yn = "[object Int16Array]", ar = "[object Int32Array]", cr = "[object Uint8Array]", tn = "[object Uint8ClampedArray]", Ve = "[object Uint16Array]", bn = "[object Uint32Array]", Cn = /\b__p \+= '';/g, ri = /\b(__p \+=) '' \+/g, Lr = /(__e\(.*?\)|\b__t\)) \+\n'';/g, An = /&(?:amp|lt|gt|quot|#39);/g, hn = /[&<>"']/g, ii = RegExp(An.source), Tn = RegExp(hn.source), Or = /<%-([\s\S]+?)%>/g, Pr = /<%([\s\S]+?)%>/g, Mr = /<%=([\s\S]+?)%>/g, Xn = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, hr = /^\w*$/, Ms = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, si = /[\\^$.*+?()[\]{}|]/g, Li = RegExp(si.source), In = /^\s+/, Us = /\s/, Fs = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, Bs = /\{\n\/\* \[wrapped with (.+)\] \*/, Ws = /,? & /, Oi = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, Ns = /[()=,{}\[\]\/\s]/, Hs = /\\(\\)?/g, Pi = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, ui = /\w*$/, Gs = /^[-+]0x[0-9a-f]+$/i, zs = /^0b[01]+$/i, _r = /^\[object .+?Constructor\]$/, xs = /^0o[0-7]+$/i, Zn = /^(?:0|[1-9]\d*)$/, Jn = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, Rn = /($^)/, Ys = /['\n\r\u2028\u2029\\]/g, Ur = "\\ud800-\\udfff", qs = "\\u0300-\\u036f", ko = "\\ufe20-\\ufe2f", H = "\\u20d0-\\u20ff", _e = qs + ko + H, ut = "\\u2700-\\u27bf", Ot = "a-z\\xdf-\\xf6\\xf8-\\xff", dr = "\\xac\\xb1\\xd7\\xf7", Pc = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", Mc = "\\u2000-\\u206f", Uc = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", Ao = "A-Z\\xc0-\\xd6\\xd8-\\xde", Io = "\\ufe0e\\ufe0f", Ro = dr + Pc + Mc + Uc, Ks = "['’]", Fc = "[" + Ur + "]", Lo = "[" + Ro + "]", Mi = "[" + _e + "]", Oo = "\\d+", Bc = "[" + ut + "]", Po = "[" + Ot + "]", Mo = "[^" + Ur + Ro + Oo + ut + Ot + Ao + "]", Xs = "\\ud83c[\\udffb-\\udfff]", Wc = "(?:" + Mi + "|" + Xs + ")", Uo = "[^" + Ur + "]", Zs = "(?:\\ud83c[\\udde6-\\uddff]){2}", Js = "[\\ud800-\\udbff][\\udc00-\\udfff]", Fr = "[" + Ao + "]", Fo = "\\u200d", Bo = "(?:" + Po + "|" + Mo + ")", Nc = "(?:" + Fr + "|" + Mo + ")", Wo = "(?:" + Ks + "(?:d|ll|m|re|s|t|ve))?", No = "(?:" + Ks + "(?:D|LL|M|RE|S|T|VE))?", Ho = Wc + "?", Go = "[" + Io + "]?", Hc = "(?:" + Fo + "(?:" + [Uo, Zs, Js].join("|") + ")" + Go + Ho + ")*", Gc = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", zc = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", zo = Go + Ho + Hc, xc = "(?:" + [Bc, Zs, Js].join("|") + ")" + zo, Yc = "(?:" + [Uo + Mi + "?", Mi, Zs, Js, Fc].join("|") + ")", qc = RegExp(Ks, "g"), Kc = RegExp(Mi, "g"), Qs = RegExp(Xs + "(?=" + Xs + ")|" + Yc + zo, "g"), Xc = RegExp([
      Fr + "?" + Po + "+" + Wo + "(?=" + [Lo, Fr, "$"].join("|") + ")",
      Nc + "+" + No + "(?=" + [Lo, Fr + Bo, "$"].join("|") + ")",
      Fr + "?" + Bo + "+" + Wo,
      Fr + "+" + No,
      zc,
      Gc,
      Oo,
      xc
    ].join("|"), "g"), Zc = RegExp("[" + Fo + Ur + _e + Io + "]"), Jc = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Qc = [
      "Array",
      "Buffer",
      "DataView",
      "Date",
      "Error",
      "Float32Array",
      "Float64Array",
      "Function",
      "Int8Array",
      "Int16Array",
      "Int32Array",
      "Map",
      "Math",
      "Object",
      "Promise",
      "RegExp",
      "Set",
      "String",
      "Symbol",
      "TypeError",
      "Uint8Array",
      "Uint8ClampedArray",
      "Uint16Array",
      "Uint32Array",
      "WeakMap",
      "_",
      "clearTimeout",
      "isFinite",
      "parseInt",
      "setTimeout"
    ], Vc = -1, qe = {};
    qe[Kt] = qe[fr] = qe[St] = qe[yn] = qe[ar] = qe[cr] = qe[tn] = qe[Ve] = qe[bn] = !0, qe[ct] = qe[ht] = qe[Te] = qe[$e] = qe[qt] = qe[V] = qe[Qe] = qe[et] = qe[dt] = qe[ne] = qe[gt] = qe[wn] = qe[J] = qe[Wt] = qe[st] = !1;
    var Ye = {};
    Ye[ct] = Ye[ht] = Ye[Te] = Ye[qt] = Ye[$e] = Ye[V] = Ye[Kt] = Ye[fr] = Ye[St] = Ye[yn] = Ye[ar] = Ye[dt] = Ye[ne] = Ye[gt] = Ye[wn] = Ye[J] = Ye[Wt] = Ye[Lt] = Ye[cr] = Ye[tn] = Ye[Ve] = Ye[bn] = !0, Ye[Qe] = Ye[et] = Ye[st] = !1;
    var jc = {
      // Latin-1 Supplement block.
      À: "A",
      Á: "A",
      Â: "A",
      Ã: "A",
      Ä: "A",
      Å: "A",
      à: "a",
      á: "a",
      â: "a",
      ã: "a",
      ä: "a",
      å: "a",
      Ç: "C",
      ç: "c",
      Ð: "D",
      ð: "d",
      È: "E",
      É: "E",
      Ê: "E",
      Ë: "E",
      è: "e",
      é: "e",
      ê: "e",
      ë: "e",
      Ì: "I",
      Í: "I",
      Î: "I",
      Ï: "I",
      ì: "i",
      í: "i",
      î: "i",
      ï: "i",
      Ñ: "N",
      ñ: "n",
      Ò: "O",
      Ó: "O",
      Ô: "O",
      Õ: "O",
      Ö: "O",
      Ø: "O",
      ò: "o",
      ó: "o",
      ô: "o",
      õ: "o",
      ö: "o",
      ø: "o",
      Ù: "U",
      Ú: "U",
      Û: "U",
      Ü: "U",
      ù: "u",
      ú: "u",
      û: "u",
      ü: "u",
      Ý: "Y",
      ý: "y",
      ÿ: "y",
      Æ: "Ae",
      æ: "ae",
      Þ: "Th",
      þ: "th",
      ß: "ss",
      // Latin Extended-A block.
      Ā: "A",
      Ă: "A",
      Ą: "A",
      ā: "a",
      ă: "a",
      ą: "a",
      Ć: "C",
      Ĉ: "C",
      Ċ: "C",
      Č: "C",
      ć: "c",
      ĉ: "c",
      ċ: "c",
      č: "c",
      Ď: "D",
      Đ: "D",
      ď: "d",
      đ: "d",
      Ē: "E",
      Ĕ: "E",
      Ė: "E",
      Ę: "E",
      Ě: "E",
      ē: "e",
      ĕ: "e",
      ė: "e",
      ę: "e",
      ě: "e",
      Ĝ: "G",
      Ğ: "G",
      Ġ: "G",
      Ģ: "G",
      ĝ: "g",
      ğ: "g",
      ġ: "g",
      ģ: "g",
      Ĥ: "H",
      Ħ: "H",
      ĥ: "h",
      ħ: "h",
      Ĩ: "I",
      Ī: "I",
      Ĭ: "I",
      Į: "I",
      İ: "I",
      ĩ: "i",
      ī: "i",
      ĭ: "i",
      į: "i",
      ı: "i",
      Ĵ: "J",
      ĵ: "j",
      Ķ: "K",
      ķ: "k",
      ĸ: "k",
      Ĺ: "L",
      Ļ: "L",
      Ľ: "L",
      Ŀ: "L",
      Ł: "L",
      ĺ: "l",
      ļ: "l",
      ľ: "l",
      ŀ: "l",
      ł: "l",
      Ń: "N",
      Ņ: "N",
      Ň: "N",
      Ŋ: "N",
      ń: "n",
      ņ: "n",
      ň: "n",
      ŋ: "n",
      Ō: "O",
      Ŏ: "O",
      Ő: "O",
      ō: "o",
      ŏ: "o",
      ő: "o",
      Ŕ: "R",
      Ŗ: "R",
      Ř: "R",
      ŕ: "r",
      ŗ: "r",
      ř: "r",
      Ś: "S",
      Ŝ: "S",
      Ş: "S",
      Š: "S",
      ś: "s",
      ŝ: "s",
      ş: "s",
      š: "s",
      Ţ: "T",
      Ť: "T",
      Ŧ: "T",
      ţ: "t",
      ť: "t",
      ŧ: "t",
      Ũ: "U",
      Ū: "U",
      Ŭ: "U",
      Ů: "U",
      Ű: "U",
      Ų: "U",
      ũ: "u",
      ū: "u",
      ŭ: "u",
      ů: "u",
      ű: "u",
      ų: "u",
      Ŵ: "W",
      ŵ: "w",
      Ŷ: "Y",
      ŷ: "y",
      Ÿ: "Y",
      Ź: "Z",
      Ż: "Z",
      Ž: "Z",
      ź: "z",
      ż: "z",
      ž: "z",
      Ĳ: "IJ",
      ĳ: "ij",
      Œ: "Oe",
      œ: "oe",
      ŉ: "'n",
      ſ: "s"
    }, $c = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#39;"
    }, eh = {
      "&amp;": "&",
      "&lt;": "<",
      "&gt;": ">",
      "&quot;": '"',
      "&#39;": "'"
    }, th = {
      "\\": "\\",
      "'": "'",
      "\n": "n",
      "\r": "r",
      "\u2028": "u2028",
      "\u2029": "u2029"
    }, nh = parseFloat, rh = parseInt, xo = typeof Ci == "object" && Ci && Ci.Object === Object && Ci, ih = typeof self == "object" && self && self.Object === Object && self, Ct = xo || ih || Function("return this")(), Vs = i && !i.nodeType && i, gr = Vs && !0 && n && !n.nodeType && n, Yo = gr && gr.exports === Vs, js = Yo && xo.process, nn = function() {
      try {
        var b = gr && gr.require && gr.require("util").types;
        return b || js && js.binding && js.binding("util");
      } catch {
      }
    }(), qo = nn && nn.isArrayBuffer, Ko = nn && nn.isDate, Xo = nn && nn.isMap, Zo = nn && nn.isRegExp, Jo = nn && nn.isSet, Qo = nn && nn.isTypedArray;
    function Xt(b, P, I) {
      switch (I.length) {
        case 0:
          return b.call(P);
        case 1:
          return b.call(P, I[0]);
        case 2:
          return b.call(P, I[0], I[1]);
        case 3:
          return b.call(P, I[0], I[1], I[2]);
      }
      return b.apply(P, I);
    }
    function sh(b, P, I, ee) {
      for (var ge = -1, Pe = b == null ? 0 : b.length; ++ge < Pe; ) {
        var pt = b[ge];
        P(ee, pt, I(pt), b);
      }
      return ee;
    }
    function rn(b, P) {
      for (var I = -1, ee = b == null ? 0 : b.length; ++I < ee && P(b[I], I, b) !== !1; )
        ;
      return b;
    }
    function uh(b, P) {
      for (var I = b == null ? 0 : b.length; I-- && P(b[I], I, b) !== !1; )
        ;
      return b;
    }
    function Vo(b, P) {
      for (var I = -1, ee = b == null ? 0 : b.length; ++I < ee; )
        if (!P(b[I], I, b))
          return !1;
      return !0;
    }
    function Qn(b, P) {
      for (var I = -1, ee = b == null ? 0 : b.length, ge = 0, Pe = []; ++I < ee; ) {
        var pt = b[I];
        P(pt, I, b) && (Pe[ge++] = pt);
      }
      return Pe;
    }
    function Ui(b, P) {
      var I = b == null ? 0 : b.length;
      return !!I && Br(b, P, 0) > -1;
    }
    function $s(b, P, I) {
      for (var ee = -1, ge = b == null ? 0 : b.length; ++ee < ge; )
        if (I(P, b[ee]))
          return !0;
      return !1;
    }
    function Xe(b, P) {
      for (var I = -1, ee = b == null ? 0 : b.length, ge = Array(ee); ++I < ee; )
        ge[I] = P(b[I], I, b);
      return ge;
    }
    function Vn(b, P) {
      for (var I = -1, ee = P.length, ge = b.length; ++I < ee; )
        b[ge + I] = P[I];
      return b;
    }
    function eu(b, P, I, ee) {
      var ge = -1, Pe = b == null ? 0 : b.length;
      for (ee && Pe && (I = b[++ge]); ++ge < Pe; )
        I = P(I, b[ge], ge, b);
      return I;
    }
    function oh(b, P, I, ee) {
      var ge = b == null ? 0 : b.length;
      for (ee && ge && (I = b[--ge]); ge--; )
        I = P(I, b[ge], ge, b);
      return I;
    }
    function tu(b, P) {
      for (var I = -1, ee = b == null ? 0 : b.length; ++I < ee; )
        if (P(b[I], I, b))
          return !0;
      return !1;
    }
    var lh = nu("length");
    function fh(b) {
      return b.split("");
    }
    function ah(b) {
      return b.match(Oi) || [];
    }
    function jo(b, P, I) {
      var ee;
      return I(b, function(ge, Pe, pt) {
        if (P(ge, Pe, pt))
          return ee = Pe, !1;
      }), ee;
    }
    function Fi(b, P, I, ee) {
      for (var ge = b.length, Pe = I + (ee ? 1 : -1); ee ? Pe-- : ++Pe < ge; )
        if (P(b[Pe], Pe, b))
          return Pe;
      return -1;
    }
    function Br(b, P, I) {
      return P === P ? Ch(b, P, I) : Fi(b, $o, I);
    }
    function ch(b, P, I, ee) {
      for (var ge = I - 1, Pe = b.length; ++ge < Pe; )
        if (ee(b[ge], P))
          return ge;
      return -1;
    }
    function $o(b) {
      return b !== b;
    }
    function el(b, P) {
      var I = b == null ? 0 : b.length;
      return I ? iu(b, P) / I : te;
    }
    function nu(b) {
      return function(P) {
        return P == null ? r : P[b];
      };
    }
    function ru(b) {
      return function(P) {
        return b == null ? r : b[P];
      };
    }
    function tl(b, P, I, ee, ge) {
      return ge(b, function(Pe, pt, xe) {
        I = ee ? (ee = !1, Pe) : P(I, Pe, pt, xe);
      }), I;
    }
    function hh(b, P) {
      var I = b.length;
      for (b.sort(P); I--; )
        b[I] = b[I].value;
      return b;
    }
    function iu(b, P) {
      for (var I, ee = -1, ge = b.length; ++ee < ge; ) {
        var Pe = P(b[ee]);
        Pe !== r && (I = I === r ? Pe : I + Pe);
      }
      return I;
    }
    function su(b, P) {
      for (var I = -1, ee = Array(b); ++I < b; )
        ee[I] = P(I);
      return ee;
    }
    function _h(b, P) {
      return Xe(P, function(I) {
        return [I, b[I]];
      });
    }
    function nl(b) {
      return b && b.slice(0, ul(b) + 1).replace(In, "");
    }
    function Zt(b) {
      return function(P) {
        return b(P);
      };
    }
    function uu(b, P) {
      return Xe(P, function(I) {
        return b[I];
      });
    }
    function oi(b, P) {
      return b.has(P);
    }
    function rl(b, P) {
      for (var I = -1, ee = b.length; ++I < ee && Br(P, b[I], 0) > -1; )
        ;
      return I;
    }
    function il(b, P) {
      for (var I = b.length; I-- && Br(P, b[I], 0) > -1; )
        ;
      return I;
    }
    function dh(b, P) {
      for (var I = b.length, ee = 0; I--; )
        b[I] === P && ++ee;
      return ee;
    }
    var gh = ru(jc), ph = ru($c);
    function mh(b) {
      return "\\" + th[b];
    }
    function vh(b, P) {
      return b == null ? r : b[P];
    }
    function Wr(b) {
      return Zc.test(b);
    }
    function wh(b) {
      return Jc.test(b);
    }
    function yh(b) {
      for (var P, I = []; !(P = b.next()).done; )
        I.push(P.value);
      return I;
    }
    function ou(b) {
      var P = -1, I = Array(b.size);
      return b.forEach(function(ee, ge) {
        I[++P] = [ge, ee];
      }), I;
    }
    function sl(b, P) {
      return function(I) {
        return b(P(I));
      };
    }
    function jn(b, P) {
      for (var I = -1, ee = b.length, ge = 0, Pe = []; ++I < ee; ) {
        var pt = b[I];
        (pt === P || pt === v) && (b[I] = v, Pe[ge++] = I);
      }
      return Pe;
    }
    function Bi(b) {
      var P = -1, I = Array(b.size);
      return b.forEach(function(ee) {
        I[++P] = ee;
      }), I;
    }
    function bh(b) {
      var P = -1, I = Array(b.size);
      return b.forEach(function(ee) {
        I[++P] = [ee, ee];
      }), I;
    }
    function Ch(b, P, I) {
      for (var ee = I - 1, ge = b.length; ++ee < ge; )
        if (b[ee] === P)
          return ee;
      return -1;
    }
    function Th(b, P, I) {
      for (var ee = I + 1; ee--; )
        if (b[ee] === P)
          return ee;
      return ee;
    }
    function Nr(b) {
      return Wr(b) ? Dh(b) : lh(b);
    }
    function _n(b) {
      return Wr(b) ? Eh(b) : fh(b);
    }
    function ul(b) {
      for (var P = b.length; P-- && Us.test(b.charAt(P)); )
        ;
      return P;
    }
    var Sh = ru(eh);
    function Dh(b) {
      for (var P = Qs.lastIndex = 0; Qs.test(b); )
        ++P;
      return P;
    }
    function Eh(b) {
      return b.match(Qs) || [];
    }
    function kh(b) {
      return b.match(Xc) || [];
    }
    var Ah = function b(P) {
      P = P == null ? Ct : Hr.defaults(Ct.Object(), P, Hr.pick(Ct, Qc));
      var I = P.Array, ee = P.Date, ge = P.Error, Pe = P.Function, pt = P.Math, xe = P.Object, lu = P.RegExp, Ih = P.String, sn = P.TypeError, Wi = I.prototype, Rh = Pe.prototype, Gr = xe.prototype, Ni = P["__core-js_shared__"], Hi = Rh.toString, Be = Gr.hasOwnProperty, Lh = 0, ol = function() {
        var e = /[^.]+$/.exec(Ni && Ni.keys && Ni.keys.IE_PROTO || "");
        return e ? "Symbol(src)_1." + e : "";
      }(), Gi = Gr.toString, Oh = Hi.call(xe), Ph = Ct._, Mh = lu(
        "^" + Hi.call(Be).replace(si, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
      ), zi = Yo ? P.Buffer : r, $n = P.Symbol, xi = P.Uint8Array, ll = zi ? zi.allocUnsafe : r, Yi = sl(xe.getPrototypeOf, xe), fl = xe.create, al = Gr.propertyIsEnumerable, qi = Wi.splice, cl = $n ? $n.isConcatSpreadable : r, li = $n ? $n.iterator : r, pr = $n ? $n.toStringTag : r, Ki = function() {
        try {
          var e = br(xe, "defineProperty");
          return e({}, "", {}), e;
        } catch {
        }
      }(), Uh = P.clearTimeout !== Ct.clearTimeout && P.clearTimeout, Fh = ee && ee.now !== Ct.Date.now && ee.now, Bh = P.setTimeout !== Ct.setTimeout && P.setTimeout, Xi = pt.ceil, Zi = pt.floor, fu = xe.getOwnPropertySymbols, Wh = zi ? zi.isBuffer : r, hl = P.isFinite, Nh = Wi.join, Hh = sl(xe.keys, xe), mt = pt.max, Dt = pt.min, Gh = ee.now, zh = P.parseInt, _l = pt.random, xh = Wi.reverse, au = br(P, "DataView"), fi = br(P, "Map"), cu = br(P, "Promise"), zr = br(P, "Set"), ai = br(P, "WeakMap"), ci = br(xe, "create"), Ji = ai && new ai(), xr = {}, Yh = Cr(au), qh = Cr(fi), Kh = Cr(cu), Xh = Cr(zr), Zh = Cr(ai), Qi = $n ? $n.prototype : r, hi = Qi ? Qi.valueOf : r, dl = Qi ? Qi.toString : r;
      function d(e) {
        if (tt(e) && !pe(e) && !(e instanceof Se)) {
          if (e instanceof un)
            return e;
          if (Be.call(e, "__wrapped__"))
            return pf(e);
        }
        return new un(e);
      }
      var Yr = function() {
        function e() {
        }
        return function(t) {
          if (!je(t))
            return {};
          if (fl)
            return fl(t);
          e.prototype = t;
          var s = new e();
          return e.prototype = r, s;
        };
      }();
      function Vi() {
      }
      function un(e, t) {
        this.__wrapped__ = e, this.__actions__ = [], this.__chain__ = !!t, this.__index__ = 0, this.__values__ = r;
      }
      d.templateSettings = {
        /**
         * Used to detect `data` property values to be HTML-escaped.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        escape: Or,
        /**
         * Used to detect code to be evaluated.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        evaluate: Pr,
        /**
         * Used to detect `data` property values to inject.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        interpolate: Mr,
        /**
         * Used to reference the data object in the template text.
         *
         * @memberOf _.templateSettings
         * @type {string}
         */
        variable: "",
        /**
         * Used to import variables into the compiled template.
         *
         * @memberOf _.templateSettings
         * @type {Object}
         */
        imports: {
          /**
           * A reference to the `lodash` function.
           *
           * @memberOf _.templateSettings.imports
           * @type {Function}
           */
          _: d
        }
      }, d.prototype = Vi.prototype, d.prototype.constructor = d, un.prototype = Yr(Vi.prototype), un.prototype.constructor = un;
      function Se(e) {
        this.__wrapped__ = e, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = Le, this.__views__ = [];
      }
      function Jh() {
        var e = new Se(this.__wrapped__);
        return e.__actions__ = Nt(this.__actions__), e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = Nt(this.__iteratees__), e.__takeCount__ = this.__takeCount__, e.__views__ = Nt(this.__views__), e;
      }
      function Qh() {
        if (this.__filtered__) {
          var e = new Se(this);
          e.__dir__ = -1, e.__filtered__ = !0;
        } else
          e = this.clone(), e.__dir__ *= -1;
        return e;
      }
      function Vh() {
        var e = this.__wrapped__.value(), t = this.__dir__, s = pe(e), f = t < 0, h = s ? e.length : 0, p = fd(0, h, this.__views__), m = p.start, y = p.end, S = y - m, M = f ? y : m - 1, U = this.__iteratees__, G = U.length, Z = 0, re = Dt(S, this.__takeCount__);
        if (!s || !f && h == S && re == S)
          return Wl(e, this.__actions__);
        var ae = [];
        e:
          for (; S-- && Z < re; ) {
            M += t;
            for (var we = -1, ce = e[M]; ++we < G; ) {
              var Ce = U[we], Ee = Ce.iteratee, Vt = Ce.type, Ut = Ee(ce);
              if (Vt == me)
                ce = Ut;
              else if (!Ut) {
                if (Vt == He)
                  continue e;
                break e;
              }
            }
            ae[Z++] = ce;
          }
        return ae;
      }
      Se.prototype = Yr(Vi.prototype), Se.prototype.constructor = Se;
      function mr(e) {
        var t = -1, s = e == null ? 0 : e.length;
        for (this.clear(); ++t < s; ) {
          var f = e[t];
          this.set(f[0], f[1]);
        }
      }
      function jh() {
        this.__data__ = ci ? ci(null) : {}, this.size = 0;
      }
      function $h(e) {
        var t = this.has(e) && delete this.__data__[e];
        return this.size -= t ? 1 : 0, t;
      }
      function e_(e) {
        var t = this.__data__;
        if (ci) {
          var s = t[e];
          return s === _ ? r : s;
        }
        return Be.call(t, e) ? t[e] : r;
      }
      function t_(e) {
        var t = this.__data__;
        return ci ? t[e] !== r : Be.call(t, e);
      }
      function n_(e, t) {
        var s = this.__data__;
        return this.size += this.has(e) ? 0 : 1, s[e] = ci && t === r ? _ : t, this;
      }
      mr.prototype.clear = jh, mr.prototype.delete = $h, mr.prototype.get = e_, mr.prototype.has = t_, mr.prototype.set = n_;
      function Ln(e) {
        var t = -1, s = e == null ? 0 : e.length;
        for (this.clear(); ++t < s; ) {
          var f = e[t];
          this.set(f[0], f[1]);
        }
      }
      function r_() {
        this.__data__ = [], this.size = 0;
      }
      function i_(e) {
        var t = this.__data__, s = ji(t, e);
        if (s < 0)
          return !1;
        var f = t.length - 1;
        return s == f ? t.pop() : qi.call(t, s, 1), --this.size, !0;
      }
      function s_(e) {
        var t = this.__data__, s = ji(t, e);
        return s < 0 ? r : t[s][1];
      }
      function u_(e) {
        return ji(this.__data__, e) > -1;
      }
      function o_(e, t) {
        var s = this.__data__, f = ji(s, e);
        return f < 0 ? (++this.size, s.push([e, t])) : s[f][1] = t, this;
      }
      Ln.prototype.clear = r_, Ln.prototype.delete = i_, Ln.prototype.get = s_, Ln.prototype.has = u_, Ln.prototype.set = o_;
      function On(e) {
        var t = -1, s = e == null ? 0 : e.length;
        for (this.clear(); ++t < s; ) {
          var f = e[t];
          this.set(f[0], f[1]);
        }
      }
      function l_() {
        this.size = 0, this.__data__ = {
          hash: new mr(),
          map: new (fi || Ln)(),
          string: new mr()
        };
      }
      function f_(e) {
        var t = as(this, e).delete(e);
        return this.size -= t ? 1 : 0, t;
      }
      function a_(e) {
        return as(this, e).get(e);
      }
      function c_(e) {
        return as(this, e).has(e);
      }
      function h_(e, t) {
        var s = as(this, e), f = s.size;
        return s.set(e, t), this.size += s.size == f ? 0 : 1, this;
      }
      On.prototype.clear = l_, On.prototype.delete = f_, On.prototype.get = a_, On.prototype.has = c_, On.prototype.set = h_;
      function vr(e) {
        var t = -1, s = e == null ? 0 : e.length;
        for (this.__data__ = new On(); ++t < s; )
          this.add(e[t]);
      }
      function __(e) {
        return this.__data__.set(e, _), this;
      }
      function d_(e) {
        return this.__data__.has(e);
      }
      vr.prototype.add = vr.prototype.push = __, vr.prototype.has = d_;
      function dn(e) {
        var t = this.__data__ = new Ln(e);
        this.size = t.size;
      }
      function g_() {
        this.__data__ = new Ln(), this.size = 0;
      }
      function p_(e) {
        var t = this.__data__, s = t.delete(e);
        return this.size = t.size, s;
      }
      function m_(e) {
        return this.__data__.get(e);
      }
      function v_(e) {
        return this.__data__.has(e);
      }
      function w_(e, t) {
        var s = this.__data__;
        if (s instanceof Ln) {
          var f = s.__data__;
          if (!fi || f.length < o - 1)
            return f.push([e, t]), this.size = ++s.size, this;
          s = this.__data__ = new On(f);
        }
        return s.set(e, t), this.size = s.size, this;
      }
      dn.prototype.clear = g_, dn.prototype.delete = p_, dn.prototype.get = m_, dn.prototype.has = v_, dn.prototype.set = w_;
      function gl(e, t) {
        var s = pe(e), f = !s && Tr(e), h = !s && !f && ir(e), p = !s && !f && !h && Zr(e), m = s || f || h || p, y = m ? su(e.length, Ih) : [], S = y.length;
        for (var M in e)
          (t || Be.call(e, M)) && !(m && // Safari 9 has enumerable `arguments.length` in strict mode.
          (M == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
          h && (M == "offset" || M == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
          p && (M == "buffer" || M == "byteLength" || M == "byteOffset") || // Skip index properties.
          Fn(M, S))) && y.push(M);
        return y;
      }
      function pl(e) {
        var t = e.length;
        return t ? e[Cu(0, t - 1)] : r;
      }
      function y_(e, t) {
        return cs(Nt(e), wr(t, 0, e.length));
      }
      function b_(e) {
        return cs(Nt(e));
      }
      function hu(e, t, s) {
        (s !== r && !gn(e[t], s) || s === r && !(t in e)) && Pn(e, t, s);
      }
      function _i(e, t, s) {
        var f = e[t];
        (!(Be.call(e, t) && gn(f, s)) || s === r && !(t in e)) && Pn(e, t, s);
      }
      function ji(e, t) {
        for (var s = e.length; s--; )
          if (gn(e[s][0], t))
            return s;
        return -1;
      }
      function C_(e, t, s, f) {
        return er(e, function(h, p, m) {
          t(f, h, s(h), m);
        }), f;
      }
      function ml(e, t) {
        return e && Dn(t, yt(t), e);
      }
      function T_(e, t) {
        return e && Dn(t, Gt(t), e);
      }
      function Pn(e, t, s) {
        t == "__proto__" && Ki ? Ki(e, t, {
          configurable: !0,
          enumerable: !0,
          value: s,
          writable: !0
        }) : e[t] = s;
      }
      function _u(e, t) {
        for (var s = -1, f = t.length, h = I(f), p = e == null; ++s < f; )
          h[s] = p ? r : Xu(e, t[s]);
        return h;
      }
      function wr(e, t, s) {
        return e === e && (s !== r && (e = e <= s ? e : s), t !== r && (e = e >= t ? e : t)), e;
      }
      function on(e, t, s, f, h, p) {
        var m, y = t & C, S = t & w, M = t & T;
        if (s && (m = h ? s(e, f, h, p) : s(e)), m !== r)
          return m;
        if (!je(e))
          return e;
        var U = pe(e);
        if (U) {
          if (m = cd(e), !y)
            return Nt(e, m);
        } else {
          var G = Et(e), Z = G == et || G == Bt;
          if (ir(e))
            return Gl(e, y);
          if (G == gt || G == ct || Z && !h) {
            if (m = S || Z ? {} : of(e), !y)
              return S ? ed(e, T_(m, e)) : $_(e, ml(m, e));
          } else {
            if (!Ye[G])
              return h ? e : {};
            m = hd(e, G, y);
          }
        }
        p || (p = new dn());
        var re = p.get(e);
        if (re)
          return re;
        p.set(e, m), Ff(e) ? e.forEach(function(ce) {
          m.add(on(ce, t, s, ce, e, p));
        }) : Mf(e) && e.forEach(function(ce, Ce) {
          m.set(Ce, on(ce, t, s, Ce, e, p));
        });
        var ae = M ? S ? Pu : Ou : S ? Gt : yt, we = U ? r : ae(e);
        return rn(we || e, function(ce, Ce) {
          we && (Ce = ce, ce = e[Ce]), _i(m, Ce, on(ce, t, s, Ce, e, p));
        }), m;
      }
      function S_(e) {
        var t = yt(e);
        return function(s) {
          return vl(s, e, t);
        };
      }
      function vl(e, t, s) {
        var f = s.length;
        if (e == null)
          return !f;
        for (e = xe(e); f--; ) {
          var h = s[f], p = t[h], m = e[h];
          if (m === r && !(h in e) || !p(m))
            return !1;
        }
        return !0;
      }
      function wl(e, t, s) {
        if (typeof e != "function")
          throw new sn(l);
        return yi(function() {
          e.apply(r, s);
        }, t);
      }
      function di(e, t, s, f) {
        var h = -1, p = Ui, m = !0, y = e.length, S = [], M = t.length;
        if (!y)
          return S;
        s && (t = Xe(t, Zt(s))), f ? (p = $s, m = !1) : t.length >= o && (p = oi, m = !1, t = new vr(t));
        e:
          for (; ++h < y; ) {
            var U = e[h], G = s == null ? U : s(U);
            if (U = f || U !== 0 ? U : 0, m && G === G) {
              for (var Z = M; Z--; )
                if (t[Z] === G)
                  continue e;
              S.push(U);
            } else
              p(t, G, f) || S.push(U);
          }
        return S;
      }
      var er = Kl(Sn), yl = Kl(gu, !0);
      function D_(e, t) {
        var s = !0;
        return er(e, function(f, h, p) {
          return s = !!t(f, h, p), s;
        }), s;
      }
      function $i(e, t, s) {
        for (var f = -1, h = e.length; ++f < h; ) {
          var p = e[f], m = t(p);
          if (m != null && (y === r ? m === m && !Qt(m) : s(m, y)))
            var y = m, S = p;
        }
        return S;
      }
      function E_(e, t, s, f) {
        var h = e.length;
        for (s = ve(s), s < 0 && (s = -s > h ? 0 : h + s), f = f === r || f > h ? h : ve(f), f < 0 && (f += h), f = s > f ? 0 : Wf(f); s < f; )
          e[s++] = t;
        return e;
      }
      function bl(e, t) {
        var s = [];
        return er(e, function(f, h, p) {
          t(f, h, p) && s.push(f);
        }), s;
      }
      function Tt(e, t, s, f, h) {
        var p = -1, m = e.length;
        for (s || (s = dd), h || (h = []); ++p < m; ) {
          var y = e[p];
          t > 0 && s(y) ? t > 1 ? Tt(y, t - 1, s, f, h) : Vn(h, y) : f || (h[h.length] = y);
        }
        return h;
      }
      var du = Xl(), Cl = Xl(!0);
      function Sn(e, t) {
        return e && du(e, t, yt);
      }
      function gu(e, t) {
        return e && Cl(e, t, yt);
      }
      function es(e, t) {
        return Qn(t, function(s) {
          return Bn(e[s]);
        });
      }
      function yr(e, t) {
        t = nr(t, e);
        for (var s = 0, f = t.length; e != null && s < f; )
          e = e[En(t[s++])];
        return s && s == f ? e : r;
      }
      function Tl(e, t, s) {
        var f = t(e);
        return pe(e) ? f : Vn(f, s(e));
      }
      function Pt(e) {
        return e == null ? e === r ? Rr : Rt : pr && pr in xe(e) ? ld(e) : bd(e);
      }
      function pu(e, t) {
        return e > t;
      }
      function k_(e, t) {
        return e != null && Be.call(e, t);
      }
      function A_(e, t) {
        return e != null && t in xe(e);
      }
      function I_(e, t, s) {
        return e >= Dt(t, s) && e < mt(t, s);
      }
      function mu(e, t, s) {
        for (var f = s ? $s : Ui, h = e[0].length, p = e.length, m = p, y = I(p), S = 1 / 0, M = []; m--; ) {
          var U = e[m];
          m && t && (U = Xe(U, Zt(t))), S = Dt(U.length, S), y[m] = !s && (t || h >= 120 && U.length >= 120) ? new vr(m && U) : r;
        }
        U = e[0];
        var G = -1, Z = y[0];
        e:
          for (; ++G < h && M.length < S; ) {
            var re = U[G], ae = t ? t(re) : re;
            if (re = s || re !== 0 ? re : 0, !(Z ? oi(Z, ae) : f(M, ae, s))) {
              for (m = p; --m; ) {
                var we = y[m];
                if (!(we ? oi(we, ae) : f(e[m], ae, s)))
                  continue e;
              }
              Z && Z.push(ae), M.push(re);
            }
          }
        return M;
      }
      function R_(e, t, s, f) {
        return Sn(e, function(h, p, m) {
          t(f, s(h), p, m);
        }), f;
      }
      function gi(e, t, s) {
        t = nr(t, e), e = cf(e, t);
        var f = e == null ? e : e[En(fn(t))];
        return f == null ? r : Xt(f, e, s);
      }
      function Sl(e) {
        return tt(e) && Pt(e) == ct;
      }
      function L_(e) {
        return tt(e) && Pt(e) == Te;
      }
      function O_(e) {
        return tt(e) && Pt(e) == V;
      }
      function pi(e, t, s, f, h) {
        return e === t ? !0 : e == null || t == null || !tt(e) && !tt(t) ? e !== e && t !== t : P_(e, t, s, f, pi, h);
      }
      function P_(e, t, s, f, h, p) {
        var m = pe(e), y = pe(t), S = m ? ht : Et(e), M = y ? ht : Et(t);
        S = S == ct ? gt : S, M = M == ct ? gt : M;
        var U = S == gt, G = M == gt, Z = S == M;
        if (Z && ir(e)) {
          if (!ir(t))
            return !1;
          m = !0, U = !1;
        }
        if (Z && !U)
          return p || (p = new dn()), m || Zr(e) ? rf(e, t, s, f, h, p) : ud(e, t, S, s, f, h, p);
        if (!(s & E)) {
          var re = U && Be.call(e, "__wrapped__"), ae = G && Be.call(t, "__wrapped__");
          if (re || ae) {
            var we = re ? e.value() : e, ce = ae ? t.value() : t;
            return p || (p = new dn()), h(we, ce, s, f, p);
          }
        }
        return Z ? (p || (p = new dn()), od(e, t, s, f, h, p)) : !1;
      }
      function M_(e) {
        return tt(e) && Et(e) == dt;
      }
      function vu(e, t, s, f) {
        var h = s.length, p = h, m = !f;
        if (e == null)
          return !p;
        for (e = xe(e); h--; ) {
          var y = s[h];
          if (m && y[2] ? y[1] !== e[y[0]] : !(y[0] in e))
            return !1;
        }
        for (; ++h < p; ) {
          y = s[h];
          var S = y[0], M = e[S], U = y[1];
          if (m && y[2]) {
            if (M === r && !(S in e))
              return !1;
          } else {
            var G = new dn();
            if (f)
              var Z = f(M, U, S, e, t, G);
            if (!(Z === r ? pi(U, M, E | F, f, G) : Z))
              return !1;
          }
        }
        return !0;
      }
      function Dl(e) {
        if (!je(e) || pd(e))
          return !1;
        var t = Bn(e) ? Mh : _r;
        return t.test(Cr(e));
      }
      function U_(e) {
        return tt(e) && Pt(e) == wn;
      }
      function F_(e) {
        return tt(e) && Et(e) == J;
      }
      function B_(e) {
        return tt(e) && ms(e.length) && !!qe[Pt(e)];
      }
      function El(e) {
        return typeof e == "function" ? e : e == null ? zt : typeof e == "object" ? pe(e) ? Il(e[0], e[1]) : Al(e) : Jf(e);
      }
      function wu(e) {
        if (!wi(e))
          return Hh(e);
        var t = [];
        for (var s in xe(e))
          Be.call(e, s) && s != "constructor" && t.push(s);
        return t;
      }
      function W_(e) {
        if (!je(e))
          return yd(e);
        var t = wi(e), s = [];
        for (var f in e)
          f == "constructor" && (t || !Be.call(e, f)) || s.push(f);
        return s;
      }
      function yu(e, t) {
        return e < t;
      }
      function kl(e, t) {
        var s = -1, f = Ht(e) ? I(e.length) : [];
        return er(e, function(h, p, m) {
          f[++s] = t(h, p, m);
        }), f;
      }
      function Al(e) {
        var t = Uu(e);
        return t.length == 1 && t[0][2] ? ff(t[0][0], t[0][1]) : function(s) {
          return s === e || vu(s, e, t);
        };
      }
      function Il(e, t) {
        return Bu(e) && lf(t) ? ff(En(e), t) : function(s) {
          var f = Xu(s, e);
          return f === r && f === t ? Zu(s, e) : pi(t, f, E | F);
        };
      }
      function ts(e, t, s, f, h) {
        e !== t && du(t, function(p, m) {
          if (h || (h = new dn()), je(p))
            N_(e, t, m, s, ts, f, h);
          else {
            var y = f ? f(Nu(e, m), p, m + "", e, t, h) : r;
            y === r && (y = p), hu(e, m, y);
          }
        }, Gt);
      }
      function N_(e, t, s, f, h, p, m) {
        var y = Nu(e, s), S = Nu(t, s), M = m.get(S);
        if (M) {
          hu(e, s, M);
          return;
        }
        var U = p ? p(y, S, s + "", e, t, m) : r, G = U === r;
        if (G) {
          var Z = pe(S), re = !Z && ir(S), ae = !Z && !re && Zr(S);
          U = S, Z || re || ae ? pe(y) ? U = y : ot(y) ? U = Nt(y) : re ? (G = !1, U = Gl(S, !0)) : ae ? (G = !1, U = zl(S, !0)) : U = [] : bi(S) || Tr(S) ? (U = y, Tr(y) ? U = Nf(y) : (!je(y) || Bn(y)) && (U = of(S))) : G = !1;
        }
        G && (m.set(S, U), h(U, S, f, p, m), m.delete(S)), hu(e, s, U);
      }
      function Rl(e, t) {
        var s = e.length;
        if (s)
          return t += t < 0 ? s : 0, Fn(t, s) ? e[t] : r;
      }
      function Ll(e, t, s) {
        t.length ? t = Xe(t, function(p) {
          return pe(p) ? function(m) {
            return yr(m, p.length === 1 ? p[0] : p);
          } : p;
        }) : t = [zt];
        var f = -1;
        t = Xe(t, Zt(fe()));
        var h = kl(e, function(p, m, y) {
          var S = Xe(t, function(M) {
            return M(p);
          });
          return { criteria: S, index: ++f, value: p };
        });
        return hh(h, function(p, m) {
          return j_(p, m, s);
        });
      }
      function H_(e, t) {
        return Ol(e, t, function(s, f) {
          return Zu(e, f);
        });
      }
      function Ol(e, t, s) {
        for (var f = -1, h = t.length, p = {}; ++f < h; ) {
          var m = t[f], y = yr(e, m);
          s(y, m) && mi(p, nr(m, e), y);
        }
        return p;
      }
      function G_(e) {
        return function(t) {
          return yr(t, e);
        };
      }
      function bu(e, t, s, f) {
        var h = f ? ch : Br, p = -1, m = t.length, y = e;
        for (e === t && (t = Nt(t)), s && (y = Xe(e, Zt(s))); ++p < m; )
          for (var S = 0, M = t[p], U = s ? s(M) : M; (S = h(y, U, S, f)) > -1; )
            y !== e && qi.call(y, S, 1), qi.call(e, S, 1);
        return e;
      }
      function Pl(e, t) {
        for (var s = e ? t.length : 0, f = s - 1; s--; ) {
          var h = t[s];
          if (s == f || h !== p) {
            var p = h;
            Fn(h) ? qi.call(e, h, 1) : Du(e, h);
          }
        }
        return e;
      }
      function Cu(e, t) {
        return e + Zi(_l() * (t - e + 1));
      }
      function z_(e, t, s, f) {
        for (var h = -1, p = mt(Xi((t - e) / (s || 1)), 0), m = I(p); p--; )
          m[f ? p : ++h] = e, e += s;
        return m;
      }
      function Tu(e, t) {
        var s = "";
        if (!e || t < 1 || t > Q)
          return s;
        do
          t % 2 && (s += e), t = Zi(t / 2), t && (e += e);
        while (t);
        return s;
      }
      function be(e, t) {
        return Hu(af(e, t, zt), e + "");
      }
      function x_(e) {
        return pl(Jr(e));
      }
      function Y_(e, t) {
        var s = Jr(e);
        return cs(s, wr(t, 0, s.length));
      }
      function mi(e, t, s, f) {
        if (!je(e))
          return e;
        t = nr(t, e);
        for (var h = -1, p = t.length, m = p - 1, y = e; y != null && ++h < p; ) {
          var S = En(t[h]), M = s;
          if (S === "__proto__" || S === "constructor" || S === "prototype")
            return e;
          if (h != m) {
            var U = y[S];
            M = f ? f(U, S, y) : r, M === r && (M = je(U) ? U : Fn(t[h + 1]) ? [] : {});
          }
          _i(y, S, M), y = y[S];
        }
        return e;
      }
      var Ml = Ji ? function(e, t) {
        return Ji.set(e, t), e;
      } : zt, q_ = Ki ? function(e, t) {
        return Ki(e, "toString", {
          configurable: !0,
          enumerable: !1,
          value: Qu(t),
          writable: !0
        });
      } : zt;
      function K_(e) {
        return cs(Jr(e));
      }
      function ln(e, t, s) {
        var f = -1, h = e.length;
        t < 0 && (t = -t > h ? 0 : h + t), s = s > h ? h : s, s < 0 && (s += h), h = t > s ? 0 : s - t >>> 0, t >>>= 0;
        for (var p = I(h); ++f < h; )
          p[f] = e[f + t];
        return p;
      }
      function X_(e, t) {
        var s;
        return er(e, function(f, h, p) {
          return s = t(f, h, p), !s;
        }), !!s;
      }
      function ns(e, t, s) {
        var f = 0, h = e == null ? f : e.length;
        if (typeof t == "number" && t === t && h <= Je) {
          for (; f < h; ) {
            var p = f + h >>> 1, m = e[p];
            m !== null && !Qt(m) && (s ? m <= t : m < t) ? f = p + 1 : h = p;
          }
          return h;
        }
        return Su(e, t, zt, s);
      }
      function Su(e, t, s, f) {
        var h = 0, p = e == null ? 0 : e.length;
        if (p === 0)
          return 0;
        t = s(t);
        for (var m = t !== t, y = t === null, S = Qt(t), M = t === r; h < p; ) {
          var U = Zi((h + p) / 2), G = s(e[U]), Z = G !== r, re = G === null, ae = G === G, we = Qt(G);
          if (m)
            var ce = f || ae;
          else
            M ? ce = ae && (f || Z) : y ? ce = ae && Z && (f || !re) : S ? ce = ae && Z && !re && (f || !we) : re || we ? ce = !1 : ce = f ? G <= t : G < t;
          ce ? h = U + 1 : p = U;
        }
        return Dt(p, bt);
      }
      function Ul(e, t) {
        for (var s = -1, f = e.length, h = 0, p = []; ++s < f; ) {
          var m = e[s], y = t ? t(m) : m;
          if (!s || !gn(y, S)) {
            var S = y;
            p[h++] = m === 0 ? 0 : m;
          }
        }
        return p;
      }
      function Fl(e) {
        return typeof e == "number" ? e : Qt(e) ? te : +e;
      }
      function Jt(e) {
        if (typeof e == "string")
          return e;
        if (pe(e))
          return Xe(e, Jt) + "";
        if (Qt(e))
          return dl ? dl.call(e) : "";
        var t = e + "";
        return t == "0" && 1 / e == -ze ? "-0" : t;
      }
      function tr(e, t, s) {
        var f = -1, h = Ui, p = e.length, m = !0, y = [], S = y;
        if (s)
          m = !1, h = $s;
        else if (p >= o) {
          var M = t ? null : id(e);
          if (M)
            return Bi(M);
          m = !1, h = oi, S = new vr();
        } else
          S = t ? [] : y;
        e:
          for (; ++f < p; ) {
            var U = e[f], G = t ? t(U) : U;
            if (U = s || U !== 0 ? U : 0, m && G === G) {
              for (var Z = S.length; Z--; )
                if (S[Z] === G)
                  continue e;
              t && S.push(G), y.push(U);
            } else
              h(S, G, s) || (S !== y && S.push(G), y.push(U));
          }
        return y;
      }
      function Du(e, t) {
        return t = nr(t, e), e = cf(e, t), e == null || delete e[En(fn(t))];
      }
      function Bl(e, t, s, f) {
        return mi(e, t, s(yr(e, t)), f);
      }
      function rs(e, t, s, f) {
        for (var h = e.length, p = f ? h : -1; (f ? p-- : ++p < h) && t(e[p], p, e); )
          ;
        return s ? ln(e, f ? 0 : p, f ? p + 1 : h) : ln(e, f ? p + 1 : 0, f ? h : p);
      }
      function Wl(e, t) {
        var s = e;
        return s instanceof Se && (s = s.value()), eu(t, function(f, h) {
          return h.func.apply(h.thisArg, Vn([f], h.args));
        }, s);
      }
      function Eu(e, t, s) {
        var f = e.length;
        if (f < 2)
          return f ? tr(e[0]) : [];
        for (var h = -1, p = I(f); ++h < f; )
          for (var m = e[h], y = -1; ++y < f; )
            y != h && (p[h] = di(p[h] || m, e[y], t, s));
        return tr(Tt(p, 1), t, s);
      }
      function Nl(e, t, s) {
        for (var f = -1, h = e.length, p = t.length, m = {}; ++f < h; ) {
          var y = f < p ? t[f] : r;
          s(m, e[f], y);
        }
        return m;
      }
      function ku(e) {
        return ot(e) ? e : [];
      }
      function Au(e) {
        return typeof e == "function" ? e : zt;
      }
      function nr(e, t) {
        return pe(e) ? e : Bu(e, t) ? [e] : gf(Fe(e));
      }
      var Z_ = be;
      function rr(e, t, s) {
        var f = e.length;
        return s = s === r ? f : s, !t && s >= f ? e : ln(e, t, s);
      }
      var Hl = Uh || function(e) {
        return Ct.clearTimeout(e);
      };
      function Gl(e, t) {
        if (t)
          return e.slice();
        var s = e.length, f = ll ? ll(s) : new e.constructor(s);
        return e.copy(f), f;
      }
      function Iu(e) {
        var t = new e.constructor(e.byteLength);
        return new xi(t).set(new xi(e)), t;
      }
      function J_(e, t) {
        var s = t ? Iu(e.buffer) : e.buffer;
        return new e.constructor(s, e.byteOffset, e.byteLength);
      }
      function Q_(e) {
        var t = new e.constructor(e.source, ui.exec(e));
        return t.lastIndex = e.lastIndex, t;
      }
      function V_(e) {
        return hi ? xe(hi.call(e)) : {};
      }
      function zl(e, t) {
        var s = t ? Iu(e.buffer) : e.buffer;
        return new e.constructor(s, e.byteOffset, e.length);
      }
      function xl(e, t) {
        if (e !== t) {
          var s = e !== r, f = e === null, h = e === e, p = Qt(e), m = t !== r, y = t === null, S = t === t, M = Qt(t);
          if (!y && !M && !p && e > t || p && m && S && !y && !M || f && m && S || !s && S || !h)
            return 1;
          if (!f && !p && !M && e < t || M && s && h && !f && !p || y && s && h || !m && h || !S)
            return -1;
        }
        return 0;
      }
      function j_(e, t, s) {
        for (var f = -1, h = e.criteria, p = t.criteria, m = h.length, y = s.length; ++f < m; ) {
          var S = xl(h[f], p[f]);
          if (S) {
            if (f >= y)
              return S;
            var M = s[f];
            return S * (M == "desc" ? -1 : 1);
          }
        }
        return e.index - t.index;
      }
      function Yl(e, t, s, f) {
        for (var h = -1, p = e.length, m = s.length, y = -1, S = t.length, M = mt(p - m, 0), U = I(S + M), G = !f; ++y < S; )
          U[y] = t[y];
        for (; ++h < m; )
          (G || h < p) && (U[s[h]] = e[h]);
        for (; M--; )
          U[y++] = e[h++];
        return U;
      }
      function ql(e, t, s, f) {
        for (var h = -1, p = e.length, m = -1, y = s.length, S = -1, M = t.length, U = mt(p - y, 0), G = I(U + M), Z = !f; ++h < U; )
          G[h] = e[h];
        for (var re = h; ++S < M; )
          G[re + S] = t[S];
        for (; ++m < y; )
          (Z || h < p) && (G[re + s[m]] = e[h++]);
        return G;
      }
      function Nt(e, t) {
        var s = -1, f = e.length;
        for (t || (t = I(f)); ++s < f; )
          t[s] = e[s];
        return t;
      }
      function Dn(e, t, s, f) {
        var h = !s;
        s || (s = {});
        for (var p = -1, m = t.length; ++p < m; ) {
          var y = t[p], S = f ? f(s[y], e[y], y, s, e) : r;
          S === r && (S = e[y]), h ? Pn(s, y, S) : _i(s, y, S);
        }
        return s;
      }
      function $_(e, t) {
        return Dn(e, Fu(e), t);
      }
      function ed(e, t) {
        return Dn(e, sf(e), t);
      }
      function is(e, t) {
        return function(s, f) {
          var h = pe(s) ? sh : C_, p = t ? t() : {};
          return h(s, e, fe(f, 2), p);
        };
      }
      function qr(e) {
        return be(function(t, s) {
          var f = -1, h = s.length, p = h > 1 ? s[h - 1] : r, m = h > 2 ? s[2] : r;
          for (p = e.length > 3 && typeof p == "function" ? (h--, p) : r, m && Mt(s[0], s[1], m) && (p = h < 3 ? r : p, h = 1), t = xe(t); ++f < h; ) {
            var y = s[f];
            y && e(t, y, f, p);
          }
          return t;
        });
      }
      function Kl(e, t) {
        return function(s, f) {
          if (s == null)
            return s;
          if (!Ht(s))
            return e(s, f);
          for (var h = s.length, p = t ? h : -1, m = xe(s); (t ? p-- : ++p < h) && f(m[p], p, m) !== !1; )
            ;
          return s;
        };
      }
      function Xl(e) {
        return function(t, s, f) {
          for (var h = -1, p = xe(t), m = f(t), y = m.length; y--; ) {
            var S = m[e ? y : ++h];
            if (s(p[S], S, p) === !1)
              break;
          }
          return t;
        };
      }
      function td(e, t, s) {
        var f = t & R, h = vi(e);
        function p() {
          var m = this && this !== Ct && this instanceof p ? h : e;
          return m.apply(f ? s : this, arguments);
        }
        return p;
      }
      function Zl(e) {
        return function(t) {
          t = Fe(t);
          var s = Wr(t) ? _n(t) : r, f = s ? s[0] : t.charAt(0), h = s ? rr(s, 1).join("") : t.slice(1);
          return f[e]() + h;
        };
      }
      function Kr(e) {
        return function(t) {
          return eu(Xf(Kf(t).replace(qc, "")), e, "");
        };
      }
      function vi(e) {
        return function() {
          var t = arguments;
          switch (t.length) {
            case 0:
              return new e();
            case 1:
              return new e(t[0]);
            case 2:
              return new e(t[0], t[1]);
            case 3:
              return new e(t[0], t[1], t[2]);
            case 4:
              return new e(t[0], t[1], t[2], t[3]);
            case 5:
              return new e(t[0], t[1], t[2], t[3], t[4]);
            case 6:
              return new e(t[0], t[1], t[2], t[3], t[4], t[5]);
            case 7:
              return new e(t[0], t[1], t[2], t[3], t[4], t[5], t[6]);
          }
          var s = Yr(e.prototype), f = e.apply(s, t);
          return je(f) ? f : s;
        };
      }
      function nd(e, t, s) {
        var f = vi(e);
        function h() {
          for (var p = arguments.length, m = I(p), y = p, S = Xr(h); y--; )
            m[y] = arguments[y];
          var M = p < 3 && m[0] !== S && m[p - 1] !== S ? [] : jn(m, S);
          if (p -= M.length, p < s)
            return $l(
              e,
              t,
              ss,
              h.placeholder,
              r,
              m,
              M,
              r,
              r,
              s - p
            );
          var U = this && this !== Ct && this instanceof h ? f : e;
          return Xt(U, this, m);
        }
        return h;
      }
      function Jl(e) {
        return function(t, s, f) {
          var h = xe(t);
          if (!Ht(t)) {
            var p = fe(s, 3);
            t = yt(t), s = function(y) {
              return p(h[y], y, h);
            };
          }
          var m = e(t, s, f);
          return m > -1 ? h[p ? t[m] : m] : r;
        };
      }
      function Ql(e) {
        return Un(function(t) {
          var s = t.length, f = s, h = un.prototype.thru;
          for (e && t.reverse(); f--; ) {
            var p = t[f];
            if (typeof p != "function")
              throw new sn(l);
            if (h && !m && fs(p) == "wrapper")
              var m = new un([], !0);
          }
          for (f = m ? f : s; ++f < s; ) {
            p = t[f];
            var y = fs(p), S = y == "wrapper" ? Mu(p) : r;
            S && Wu(S[0]) && S[1] == (D | B | N | Y) && !S[4].length && S[9] == 1 ? m = m[fs(S[0])].apply(m, S[3]) : m = p.length == 1 && Wu(p) ? m[y]() : m.thru(p);
          }
          return function() {
            var M = arguments, U = M[0];
            if (m && M.length == 1 && pe(U))
              return m.plant(U).value();
            for (var G = 0, Z = s ? t[G].apply(this, M) : U; ++G < s; )
              Z = t[G].call(this, Z);
            return Z;
          };
        });
      }
      function ss(e, t, s, f, h, p, m, y, S, M) {
        var U = t & D, G = t & R, Z = t & A, re = t & (B | W), ae = t & q, we = Z ? r : vi(e);
        function ce() {
          for (var Ce = arguments.length, Ee = I(Ce), Vt = Ce; Vt--; )
            Ee[Vt] = arguments[Vt];
          if (re)
            var Ut = Xr(ce), jt = dh(Ee, Ut);
          if (f && (Ee = Yl(Ee, f, h, re)), p && (Ee = ql(Ee, p, m, re)), Ce -= jt, re && Ce < M) {
            var lt = jn(Ee, Ut);
            return $l(
              e,
              t,
              ss,
              ce.placeholder,
              s,
              Ee,
              lt,
              y,
              S,
              M - Ce
            );
          }
          var pn = G ? s : this, Nn = Z ? pn[e] : e;
          return Ce = Ee.length, y ? Ee = Cd(Ee, y) : ae && Ce > 1 && Ee.reverse(), U && S < Ce && (Ee.length = S), this && this !== Ct && this instanceof ce && (Nn = we || vi(Nn)), Nn.apply(pn, Ee);
        }
        return ce;
      }
      function Vl(e, t) {
        return function(s, f) {
          return R_(s, e, t(f), {});
        };
      }
      function us(e, t) {
        return function(s, f) {
          var h;
          if (s === r && f === r)
            return t;
          if (s !== r && (h = s), f !== r) {
            if (h === r)
              return f;
            typeof s == "string" || typeof f == "string" ? (s = Jt(s), f = Jt(f)) : (s = Fl(s), f = Fl(f)), h = e(s, f);
          }
          return h;
        };
      }
      function Ru(e) {
        return Un(function(t) {
          return t = Xe(t, Zt(fe())), be(function(s) {
            var f = this;
            return e(t, function(h) {
              return Xt(h, f, s);
            });
          });
        });
      }
      function os(e, t) {
        t = t === r ? " " : Jt(t);
        var s = t.length;
        if (s < 2)
          return s ? Tu(t, e) : t;
        var f = Tu(t, Xi(e / Nr(t)));
        return Wr(t) ? rr(_n(f), 0, e).join("") : f.slice(0, e);
      }
      function rd(e, t, s, f) {
        var h = t & R, p = vi(e);
        function m() {
          for (var y = -1, S = arguments.length, M = -1, U = f.length, G = I(U + S), Z = this && this !== Ct && this instanceof m ? p : e; ++M < U; )
            G[M] = f[M];
          for (; S--; )
            G[M++] = arguments[++y];
          return Xt(Z, h ? s : this, G);
        }
        return m;
      }
      function jl(e) {
        return function(t, s, f) {
          return f && typeof f != "number" && Mt(t, s, f) && (s = f = r), t = Wn(t), s === r ? (s = t, t = 0) : s = Wn(s), f = f === r ? t < s ? 1 : -1 : Wn(f), z_(t, s, f, e);
        };
      }
      function ls(e) {
        return function(t, s) {
          return typeof t == "string" && typeof s == "string" || (t = an(t), s = an(s)), e(t, s);
        };
      }
      function $l(e, t, s, f, h, p, m, y, S, M) {
        var U = t & B, G = U ? m : r, Z = U ? r : m, re = U ? p : r, ae = U ? r : p;
        t |= U ? N : O, t &= ~(U ? O : N), t & L || (t &= ~(R | A));
        var we = [
          e,
          t,
          h,
          re,
          G,
          ae,
          Z,
          y,
          S,
          M
        ], ce = s.apply(r, we);
        return Wu(e) && hf(ce, we), ce.placeholder = f, _f(ce, e, t);
      }
      function Lu(e) {
        var t = pt[e];
        return function(s, f) {
          if (s = an(s), f = f == null ? 0 : Dt(ve(f), 292), f && hl(s)) {
            var h = (Fe(s) + "e").split("e"), p = t(h[0] + "e" + (+h[1] + f));
            return h = (Fe(p) + "e").split("e"), +(h[0] + "e" + (+h[1] - f));
          }
          return t(s);
        };
      }
      var id = zr && 1 / Bi(new zr([, -0]))[1] == ze ? function(e) {
        return new zr(e);
      } : $u;
      function ef(e) {
        return function(t) {
          var s = Et(t);
          return s == dt ? ou(t) : s == J ? bh(t) : _h(t, e(t));
        };
      }
      function Mn(e, t, s, f, h, p, m, y) {
        var S = t & A;
        if (!S && typeof e != "function")
          throw new sn(l);
        var M = f ? f.length : 0;
        if (M || (t &= ~(N | O), f = h = r), m = m === r ? m : mt(ve(m), 0), y = y === r ? y : ve(y), M -= h ? h.length : 0, t & O) {
          var U = f, G = h;
          f = h = r;
        }
        var Z = S ? r : Mu(e), re = [
          e,
          t,
          s,
          f,
          h,
          U,
          G,
          p,
          m,
          y
        ];
        if (Z && wd(re, Z), e = re[0], t = re[1], s = re[2], f = re[3], h = re[4], y = re[9] = re[9] === r ? S ? 0 : e.length : mt(re[9] - M, 0), !y && t & (B | W) && (t &= ~(B | W)), !t || t == R)
          var ae = td(e, t, s);
        else
          t == B || t == W ? ae = nd(e, t, y) : (t == N || t == (R | N)) && !h.length ? ae = rd(e, t, s, f) : ae = ss.apply(r, re);
        var we = Z ? Ml : hf;
        return _f(we(ae, re), e, t);
      }
      function tf(e, t, s, f) {
        return e === r || gn(e, Gr[s]) && !Be.call(f, s) ? t : e;
      }
      function nf(e, t, s, f, h, p) {
        return je(e) && je(t) && (p.set(t, e), ts(e, t, r, nf, p), p.delete(t)), e;
      }
      function sd(e) {
        return bi(e) ? r : e;
      }
      function rf(e, t, s, f, h, p) {
        var m = s & E, y = e.length, S = t.length;
        if (y != S && !(m && S > y))
          return !1;
        var M = p.get(e), U = p.get(t);
        if (M && U)
          return M == t && U == e;
        var G = -1, Z = !0, re = s & F ? new vr() : r;
        for (p.set(e, t), p.set(t, e); ++G < y; ) {
          var ae = e[G], we = t[G];
          if (f)
            var ce = m ? f(we, ae, G, t, e, p) : f(ae, we, G, e, t, p);
          if (ce !== r) {
            if (ce)
              continue;
            Z = !1;
            break;
          }
          if (re) {
            if (!tu(t, function(Ce, Ee) {
              if (!oi(re, Ee) && (ae === Ce || h(ae, Ce, s, f, p)))
                return re.push(Ee);
            })) {
              Z = !1;
              break;
            }
          } else if (!(ae === we || h(ae, we, s, f, p))) {
            Z = !1;
            break;
          }
        }
        return p.delete(e), p.delete(t), Z;
      }
      function ud(e, t, s, f, h, p, m) {
        switch (s) {
          case qt:
            if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
              return !1;
            e = e.buffer, t = t.buffer;
          case Te:
            return !(e.byteLength != t.byteLength || !p(new xi(e), new xi(t)));
          case $e:
          case V:
          case ne:
            return gn(+e, +t);
          case Qe:
            return e.name == t.name && e.message == t.message;
          case wn:
          case Wt:
            return e == t + "";
          case dt:
            var y = ou;
          case J:
            var S = f & E;
            if (y || (y = Bi), e.size != t.size && !S)
              return !1;
            var M = m.get(e);
            if (M)
              return M == t;
            f |= F, m.set(e, t);
            var U = rf(y(e), y(t), f, h, p, m);
            return m.delete(e), U;
          case Lt:
            if (hi)
              return hi.call(e) == hi.call(t);
        }
        return !1;
      }
      function od(e, t, s, f, h, p) {
        var m = s & E, y = Ou(e), S = y.length, M = Ou(t), U = M.length;
        if (S != U && !m)
          return !1;
        for (var G = S; G--; ) {
          var Z = y[G];
          if (!(m ? Z in t : Be.call(t, Z)))
            return !1;
        }
        var re = p.get(e), ae = p.get(t);
        if (re && ae)
          return re == t && ae == e;
        var we = !0;
        p.set(e, t), p.set(t, e);
        for (var ce = m; ++G < S; ) {
          Z = y[G];
          var Ce = e[Z], Ee = t[Z];
          if (f)
            var Vt = m ? f(Ee, Ce, Z, t, e, p) : f(Ce, Ee, Z, e, t, p);
          if (!(Vt === r ? Ce === Ee || h(Ce, Ee, s, f, p) : Vt)) {
            we = !1;
            break;
          }
          ce || (ce = Z == "constructor");
        }
        if (we && !ce) {
          var Ut = e.constructor, jt = t.constructor;
          Ut != jt && "constructor" in e && "constructor" in t && !(typeof Ut == "function" && Ut instanceof Ut && typeof jt == "function" && jt instanceof jt) && (we = !1);
        }
        return p.delete(e), p.delete(t), we;
      }
      function Un(e) {
        return Hu(af(e, r, wf), e + "");
      }
      function Ou(e) {
        return Tl(e, yt, Fu);
      }
      function Pu(e) {
        return Tl(e, Gt, sf);
      }
      var Mu = Ji ? function(e) {
        return Ji.get(e);
      } : $u;
      function fs(e) {
        for (var t = e.name + "", s = xr[t], f = Be.call(xr, t) ? s.length : 0; f--; ) {
          var h = s[f], p = h.func;
          if (p == null || p == e)
            return h.name;
        }
        return t;
      }
      function Xr(e) {
        var t = Be.call(d, "placeholder") ? d : e;
        return t.placeholder;
      }
      function fe() {
        var e = d.iteratee || Vu;
        return e = e === Vu ? El : e, arguments.length ? e(arguments[0], arguments[1]) : e;
      }
      function as(e, t) {
        var s = e.__data__;
        return gd(t) ? s[typeof t == "string" ? "string" : "hash"] : s.map;
      }
      function Uu(e) {
        for (var t = yt(e), s = t.length; s--; ) {
          var f = t[s], h = e[f];
          t[s] = [f, h, lf(h)];
        }
        return t;
      }
      function br(e, t) {
        var s = vh(e, t);
        return Dl(s) ? s : r;
      }
      function ld(e) {
        var t = Be.call(e, pr), s = e[pr];
        try {
          e[pr] = r;
          var f = !0;
        } catch {
        }
        var h = Gi.call(e);
        return f && (t ? e[pr] = s : delete e[pr]), h;
      }
      var Fu = fu ? function(e) {
        return e == null ? [] : (e = xe(e), Qn(fu(e), function(t) {
          return al.call(e, t);
        }));
      } : eo, sf = fu ? function(e) {
        for (var t = []; e; )
          Vn(t, Fu(e)), e = Yi(e);
        return t;
      } : eo, Et = Pt;
      (au && Et(new au(new ArrayBuffer(1))) != qt || fi && Et(new fi()) != dt || cu && Et(cu.resolve()) != lr || zr && Et(new zr()) != J || ai && Et(new ai()) != st) && (Et = function(e) {
        var t = Pt(e), s = t == gt ? e.constructor : r, f = s ? Cr(s) : "";
        if (f)
          switch (f) {
            case Yh:
              return qt;
            case qh:
              return dt;
            case Kh:
              return lr;
            case Xh:
              return J;
            case Zh:
              return st;
          }
        return t;
      });
      function fd(e, t, s) {
        for (var f = -1, h = s.length; ++f < h; ) {
          var p = s[f], m = p.size;
          switch (p.type) {
            case "drop":
              e += m;
              break;
            case "dropRight":
              t -= m;
              break;
            case "take":
              t = Dt(t, e + m);
              break;
            case "takeRight":
              e = mt(e, t - m);
              break;
          }
        }
        return { start: e, end: t };
      }
      function ad(e) {
        var t = e.match(Bs);
        return t ? t[1].split(Ws) : [];
      }
      function uf(e, t, s) {
        t = nr(t, e);
        for (var f = -1, h = t.length, p = !1; ++f < h; ) {
          var m = En(t[f]);
          if (!(p = e != null && s(e, m)))
            break;
          e = e[m];
        }
        return p || ++f != h ? p : (h = e == null ? 0 : e.length, !!h && ms(h) && Fn(m, h) && (pe(e) || Tr(e)));
      }
      function cd(e) {
        var t = e.length, s = new e.constructor(t);
        return t && typeof e[0] == "string" && Be.call(e, "index") && (s.index = e.index, s.input = e.input), s;
      }
      function of(e) {
        return typeof e.constructor == "function" && !wi(e) ? Yr(Yi(e)) : {};
      }
      function hd(e, t, s) {
        var f = e.constructor;
        switch (t) {
          case Te:
            return Iu(e);
          case $e:
          case V:
            return new f(+e);
          case qt:
            return J_(e, s);
          case Kt:
          case fr:
          case St:
          case yn:
          case ar:
          case cr:
          case tn:
          case Ve:
          case bn:
            return zl(e, s);
          case dt:
            return new f();
          case ne:
          case Wt:
            return new f(e);
          case wn:
            return Q_(e);
          case J:
            return new f();
          case Lt:
            return V_(e);
        }
      }
      function _d(e, t) {
        var s = t.length;
        if (!s)
          return e;
        var f = s - 1;
        return t[f] = (s > 1 ? "& " : "") + t[f], t = t.join(s > 2 ? ", " : " "), e.replace(Fs, `{
/* [wrapped with ` + t + `] */
`);
      }
      function dd(e) {
        return pe(e) || Tr(e) || !!(cl && e && e[cl]);
      }
      function Fn(e, t) {
        var s = typeof e;
        return t = t ?? Q, !!t && (s == "number" || s != "symbol" && Zn.test(e)) && e > -1 && e % 1 == 0 && e < t;
      }
      function Mt(e, t, s) {
        if (!je(s))
          return !1;
        var f = typeof t;
        return (f == "number" ? Ht(s) && Fn(t, s.length) : f == "string" && t in s) ? gn(s[t], e) : !1;
      }
      function Bu(e, t) {
        if (pe(e))
          return !1;
        var s = typeof e;
        return s == "number" || s == "symbol" || s == "boolean" || e == null || Qt(e) ? !0 : hr.test(e) || !Xn.test(e) || t != null && e in xe(t);
      }
      function gd(e) {
        var t = typeof e;
        return t == "string" || t == "number" || t == "symbol" || t == "boolean" ? e !== "__proto__" : e === null;
      }
      function Wu(e) {
        var t = fs(e), s = d[t];
        if (typeof s != "function" || !(t in Se.prototype))
          return !1;
        if (e === s)
          return !0;
        var f = Mu(s);
        return !!f && e === f[0];
      }
      function pd(e) {
        return !!ol && ol in e;
      }
      var md = Ni ? Bn : to;
      function wi(e) {
        var t = e && e.constructor, s = typeof t == "function" && t.prototype || Gr;
        return e === s;
      }
      function lf(e) {
        return e === e && !je(e);
      }
      function ff(e, t) {
        return function(s) {
          return s == null ? !1 : s[e] === t && (t !== r || e in xe(s));
        };
      }
      function vd(e) {
        var t = gs(e, function(f) {
          return s.size === g && s.clear(), f;
        }), s = t.cache;
        return t;
      }
      function wd(e, t) {
        var s = e[1], f = t[1], h = s | f, p = h < (R | A | D), m = f == D && s == B || f == D && s == Y && e[7].length <= t[8] || f == (D | Y) && t[7].length <= t[8] && s == B;
        if (!(p || m))
          return e;
        f & R && (e[2] = t[2], h |= s & R ? 0 : L);
        var y = t[3];
        if (y) {
          var S = e[3];
          e[3] = S ? Yl(S, y, t[4]) : y, e[4] = S ? jn(e[3], v) : t[4];
        }
        return y = t[5], y && (S = e[5], e[5] = S ? ql(S, y, t[6]) : y, e[6] = S ? jn(e[5], v) : t[6]), y = t[7], y && (e[7] = y), f & D && (e[8] = e[8] == null ? t[8] : Dt(e[8], t[8])), e[9] == null && (e[9] = t[9]), e[0] = t[0], e[1] = h, e;
      }
      function yd(e) {
        var t = [];
        if (e != null)
          for (var s in xe(e))
            t.push(s);
        return t;
      }
      function bd(e) {
        return Gi.call(e);
      }
      function af(e, t, s) {
        return t = mt(t === r ? e.length - 1 : t, 0), function() {
          for (var f = arguments, h = -1, p = mt(f.length - t, 0), m = I(p); ++h < p; )
            m[h] = f[t + h];
          h = -1;
          for (var y = I(t + 1); ++h < t; )
            y[h] = f[h];
          return y[t] = s(m), Xt(e, this, y);
        };
      }
      function cf(e, t) {
        return t.length < 2 ? e : yr(e, ln(t, 0, -1));
      }
      function Cd(e, t) {
        for (var s = e.length, f = Dt(t.length, s), h = Nt(e); f--; ) {
          var p = t[f];
          e[f] = Fn(p, s) ? h[p] : r;
        }
        return e;
      }
      function Nu(e, t) {
        if (!(t === "constructor" && typeof e[t] == "function") && t != "__proto__")
          return e[t];
      }
      var hf = df(Ml), yi = Bh || function(e, t) {
        return Ct.setTimeout(e, t);
      }, Hu = df(q_);
      function _f(e, t, s) {
        var f = t + "";
        return Hu(e, _d(f, Td(ad(f), s)));
      }
      function df(e) {
        var t = 0, s = 0;
        return function() {
          var f = Gh(), h = de - (f - s);
          if (s = f, h > 0) {
            if (++t >= $)
              return arguments[0];
          } else
            t = 0;
          return e.apply(r, arguments);
        };
      }
      function cs(e, t) {
        var s = -1, f = e.length, h = f - 1;
        for (t = t === r ? f : t; ++s < t; ) {
          var p = Cu(s, h), m = e[p];
          e[p] = e[s], e[s] = m;
        }
        return e.length = t, e;
      }
      var gf = vd(function(e) {
        var t = [];
        return e.charCodeAt(0) === 46 && t.push(""), e.replace(Ms, function(s, f, h, p) {
          t.push(h ? p.replace(Hs, "$1") : f || s);
        }), t;
      });
      function En(e) {
        if (typeof e == "string" || Qt(e))
          return e;
        var t = e + "";
        return t == "0" && 1 / e == -ze ? "-0" : t;
      }
      function Cr(e) {
        if (e != null) {
          try {
            return Hi.call(e);
          } catch {
          }
          try {
            return e + "";
          } catch {
          }
        }
        return "";
      }
      function Td(e, t) {
        return rn(Ke, function(s) {
          var f = "_." + s[0];
          t & s[1] && !Ui(e, f) && e.push(f);
        }), e.sort();
      }
      function pf(e) {
        if (e instanceof Se)
          return e.clone();
        var t = new un(e.__wrapped__, e.__chain__);
        return t.__actions__ = Nt(e.__actions__), t.__index__ = e.__index__, t.__values__ = e.__values__, t;
      }
      function Sd(e, t, s) {
        (s ? Mt(e, t, s) : t === r) ? t = 1 : t = mt(ve(t), 0);
        var f = e == null ? 0 : e.length;
        if (!f || t < 1)
          return [];
        for (var h = 0, p = 0, m = I(Xi(f / t)); h < f; )
          m[p++] = ln(e, h, h += t);
        return m;
      }
      function Dd(e) {
        for (var t = -1, s = e == null ? 0 : e.length, f = 0, h = []; ++t < s; ) {
          var p = e[t];
          p && (h[f++] = p);
        }
        return h;
      }
      function Ed() {
        var e = arguments.length;
        if (!e)
          return [];
        for (var t = I(e - 1), s = arguments[0], f = e; f--; )
          t[f - 1] = arguments[f];
        return Vn(pe(s) ? Nt(s) : [s], Tt(t, 1));
      }
      var kd = be(function(e, t) {
        return ot(e) ? di(e, Tt(t, 1, ot, !0)) : [];
      }), Ad = be(function(e, t) {
        var s = fn(t);
        return ot(s) && (s = r), ot(e) ? di(e, Tt(t, 1, ot, !0), fe(s, 2)) : [];
      }), Id = be(function(e, t) {
        var s = fn(t);
        return ot(s) && (s = r), ot(e) ? di(e, Tt(t, 1, ot, !0), r, s) : [];
      });
      function Rd(e, t, s) {
        var f = e == null ? 0 : e.length;
        return f ? (t = s || t === r ? 1 : ve(t), ln(e, t < 0 ? 0 : t, f)) : [];
      }
      function Ld(e, t, s) {
        var f = e == null ? 0 : e.length;
        return f ? (t = s || t === r ? 1 : ve(t), t = f - t, ln(e, 0, t < 0 ? 0 : t)) : [];
      }
      function Od(e, t) {
        return e && e.length ? rs(e, fe(t, 3), !0, !0) : [];
      }
      function Pd(e, t) {
        return e && e.length ? rs(e, fe(t, 3), !0) : [];
      }
      function Md(e, t, s, f) {
        var h = e == null ? 0 : e.length;
        return h ? (s && typeof s != "number" && Mt(e, t, s) && (s = 0, f = h), E_(e, t, s, f)) : [];
      }
      function mf(e, t, s) {
        var f = e == null ? 0 : e.length;
        if (!f)
          return -1;
        var h = s == null ? 0 : ve(s);
        return h < 0 && (h = mt(f + h, 0)), Fi(e, fe(t, 3), h);
      }
      function vf(e, t, s) {
        var f = e == null ? 0 : e.length;
        if (!f)
          return -1;
        var h = f - 1;
        return s !== r && (h = ve(s), h = s < 0 ? mt(f + h, 0) : Dt(h, f - 1)), Fi(e, fe(t, 3), h, !0);
      }
      function wf(e) {
        var t = e == null ? 0 : e.length;
        return t ? Tt(e, 1) : [];
      }
      function Ud(e) {
        var t = e == null ? 0 : e.length;
        return t ? Tt(e, ze) : [];
      }
      function Fd(e, t) {
        var s = e == null ? 0 : e.length;
        return s ? (t = t === r ? 1 : ve(t), Tt(e, t)) : [];
      }
      function Bd(e) {
        for (var t = -1, s = e == null ? 0 : e.length, f = {}; ++t < s; ) {
          var h = e[t];
          f[h[0]] = h[1];
        }
        return f;
      }
      function yf(e) {
        return e && e.length ? e[0] : r;
      }
      function Wd(e, t, s) {
        var f = e == null ? 0 : e.length;
        if (!f)
          return -1;
        var h = s == null ? 0 : ve(s);
        return h < 0 && (h = mt(f + h, 0)), Br(e, t, h);
      }
      function Nd(e) {
        var t = e == null ? 0 : e.length;
        return t ? ln(e, 0, -1) : [];
      }
      var Hd = be(function(e) {
        var t = Xe(e, ku);
        return t.length && t[0] === e[0] ? mu(t) : [];
      }), Gd = be(function(e) {
        var t = fn(e), s = Xe(e, ku);
        return t === fn(s) ? t = r : s.pop(), s.length && s[0] === e[0] ? mu(s, fe(t, 2)) : [];
      }), zd = be(function(e) {
        var t = fn(e), s = Xe(e, ku);
        return t = typeof t == "function" ? t : r, t && s.pop(), s.length && s[0] === e[0] ? mu(s, r, t) : [];
      });
      function xd(e, t) {
        return e == null ? "" : Nh.call(e, t);
      }
      function fn(e) {
        var t = e == null ? 0 : e.length;
        return t ? e[t - 1] : r;
      }
      function Yd(e, t, s) {
        var f = e == null ? 0 : e.length;
        if (!f)
          return -1;
        var h = f;
        return s !== r && (h = ve(s), h = h < 0 ? mt(f + h, 0) : Dt(h, f - 1)), t === t ? Th(e, t, h) : Fi(e, $o, h, !0);
      }
      function qd(e, t) {
        return e && e.length ? Rl(e, ve(t)) : r;
      }
      var Kd = be(bf);
      function bf(e, t) {
        return e && e.length && t && t.length ? bu(e, t) : e;
      }
      function Xd(e, t, s) {
        return e && e.length && t && t.length ? bu(e, t, fe(s, 2)) : e;
      }
      function Zd(e, t, s) {
        return e && e.length && t && t.length ? bu(e, t, r, s) : e;
      }
      var Jd = Un(function(e, t) {
        var s = e == null ? 0 : e.length, f = _u(e, t);
        return Pl(e, Xe(t, function(h) {
          return Fn(h, s) ? +h : h;
        }).sort(xl)), f;
      });
      function Qd(e, t) {
        var s = [];
        if (!(e && e.length))
          return s;
        var f = -1, h = [], p = e.length;
        for (t = fe(t, 3); ++f < p; ) {
          var m = e[f];
          t(m, f, e) && (s.push(m), h.push(f));
        }
        return Pl(e, h), s;
      }
      function Gu(e) {
        return e == null ? e : xh.call(e);
      }
      function Vd(e, t, s) {
        var f = e == null ? 0 : e.length;
        return f ? (s && typeof s != "number" && Mt(e, t, s) ? (t = 0, s = f) : (t = t == null ? 0 : ve(t), s = s === r ? f : ve(s)), ln(e, t, s)) : [];
      }
      function jd(e, t) {
        return ns(e, t);
      }
      function $d(e, t, s) {
        return Su(e, t, fe(s, 2));
      }
      function eg(e, t) {
        var s = e == null ? 0 : e.length;
        if (s) {
          var f = ns(e, t);
          if (f < s && gn(e[f], t))
            return f;
        }
        return -1;
      }
      function tg(e, t) {
        return ns(e, t, !0);
      }
      function ng(e, t, s) {
        return Su(e, t, fe(s, 2), !0);
      }
      function rg(e, t) {
        var s = e == null ? 0 : e.length;
        if (s) {
          var f = ns(e, t, !0) - 1;
          if (gn(e[f], t))
            return f;
        }
        return -1;
      }
      function ig(e) {
        return e && e.length ? Ul(e) : [];
      }
      function sg(e, t) {
        return e && e.length ? Ul(e, fe(t, 2)) : [];
      }
      function ug(e) {
        var t = e == null ? 0 : e.length;
        return t ? ln(e, 1, t) : [];
      }
      function og(e, t, s) {
        return e && e.length ? (t = s || t === r ? 1 : ve(t), ln(e, 0, t < 0 ? 0 : t)) : [];
      }
      function lg(e, t, s) {
        var f = e == null ? 0 : e.length;
        return f ? (t = s || t === r ? 1 : ve(t), t = f - t, ln(e, t < 0 ? 0 : t, f)) : [];
      }
      function fg(e, t) {
        return e && e.length ? rs(e, fe(t, 3), !1, !0) : [];
      }
      function ag(e, t) {
        return e && e.length ? rs(e, fe(t, 3)) : [];
      }
      var cg = be(function(e) {
        return tr(Tt(e, 1, ot, !0));
      }), hg = be(function(e) {
        var t = fn(e);
        return ot(t) && (t = r), tr(Tt(e, 1, ot, !0), fe(t, 2));
      }), _g = be(function(e) {
        var t = fn(e);
        return t = typeof t == "function" ? t : r, tr(Tt(e, 1, ot, !0), r, t);
      });
      function dg(e) {
        return e && e.length ? tr(e) : [];
      }
      function gg(e, t) {
        return e && e.length ? tr(e, fe(t, 2)) : [];
      }
      function pg(e, t) {
        return t = typeof t == "function" ? t : r, e && e.length ? tr(e, r, t) : [];
      }
      function zu(e) {
        if (!(e && e.length))
          return [];
        var t = 0;
        return e = Qn(e, function(s) {
          if (ot(s))
            return t = mt(s.length, t), !0;
        }), su(t, function(s) {
          return Xe(e, nu(s));
        });
      }
      function Cf(e, t) {
        if (!(e && e.length))
          return [];
        var s = zu(e);
        return t == null ? s : Xe(s, function(f) {
          return Xt(t, r, f);
        });
      }
      var mg = be(function(e, t) {
        return ot(e) ? di(e, t) : [];
      }), vg = be(function(e) {
        return Eu(Qn(e, ot));
      }), wg = be(function(e) {
        var t = fn(e);
        return ot(t) && (t = r), Eu(Qn(e, ot), fe(t, 2));
      }), yg = be(function(e) {
        var t = fn(e);
        return t = typeof t == "function" ? t : r, Eu(Qn(e, ot), r, t);
      }), bg = be(zu);
      function Cg(e, t) {
        return Nl(e || [], t || [], _i);
      }
      function Tg(e, t) {
        return Nl(e || [], t || [], mi);
      }
      var Sg = be(function(e) {
        var t = e.length, s = t > 1 ? e[t - 1] : r;
        return s = typeof s == "function" ? (e.pop(), s) : r, Cf(e, s);
      });
      function Tf(e) {
        var t = d(e);
        return t.__chain__ = !0, t;
      }
      function Dg(e, t) {
        return t(e), e;
      }
      function hs(e, t) {
        return t(e);
      }
      var Eg = Un(function(e) {
        var t = e.length, s = t ? e[0] : 0, f = this.__wrapped__, h = function(p) {
          return _u(p, e);
        };
        return t > 1 || this.__actions__.length || !(f instanceof Se) || !Fn(s) ? this.thru(h) : (f = f.slice(s, +s + (t ? 1 : 0)), f.__actions__.push({
          func: hs,
          args: [h],
          thisArg: r
        }), new un(f, this.__chain__).thru(function(p) {
          return t && !p.length && p.push(r), p;
        }));
      });
      function kg() {
        return Tf(this);
      }
      function Ag() {
        return new un(this.value(), this.__chain__);
      }
      function Ig() {
        this.__values__ === r && (this.__values__ = Bf(this.value()));
        var e = this.__index__ >= this.__values__.length, t = e ? r : this.__values__[this.__index__++];
        return { done: e, value: t };
      }
      function Rg() {
        return this;
      }
      function Lg(e) {
        for (var t, s = this; s instanceof Vi; ) {
          var f = pf(s);
          f.__index__ = 0, f.__values__ = r, t ? h.__wrapped__ = f : t = f;
          var h = f;
          s = s.__wrapped__;
        }
        return h.__wrapped__ = e, t;
      }
      function Og() {
        var e = this.__wrapped__;
        if (e instanceof Se) {
          var t = e;
          return this.__actions__.length && (t = new Se(this)), t = t.reverse(), t.__actions__.push({
            func: hs,
            args: [Gu],
            thisArg: r
          }), new un(t, this.__chain__);
        }
        return this.thru(Gu);
      }
      function Pg() {
        return Wl(this.__wrapped__, this.__actions__);
      }
      var Mg = is(function(e, t, s) {
        Be.call(e, s) ? ++e[s] : Pn(e, s, 1);
      });
      function Ug(e, t, s) {
        var f = pe(e) ? Vo : D_;
        return s && Mt(e, t, s) && (t = r), f(e, fe(t, 3));
      }
      function Fg(e, t) {
        var s = pe(e) ? Qn : bl;
        return s(e, fe(t, 3));
      }
      var Bg = Jl(mf), Wg = Jl(vf);
      function Ng(e, t) {
        return Tt(_s(e, t), 1);
      }
      function Hg(e, t) {
        return Tt(_s(e, t), ze);
      }
      function Gg(e, t, s) {
        return s = s === r ? 1 : ve(s), Tt(_s(e, t), s);
      }
      function Sf(e, t) {
        var s = pe(e) ? rn : er;
        return s(e, fe(t, 3));
      }
      function Df(e, t) {
        var s = pe(e) ? uh : yl;
        return s(e, fe(t, 3));
      }
      var zg = is(function(e, t, s) {
        Be.call(e, s) ? e[s].push(t) : Pn(e, s, [t]);
      });
      function xg(e, t, s, f) {
        e = Ht(e) ? e : Jr(e), s = s && !f ? ve(s) : 0;
        var h = e.length;
        return s < 0 && (s = mt(h + s, 0)), vs(e) ? s <= h && e.indexOf(t, s) > -1 : !!h && Br(e, t, s) > -1;
      }
      var Yg = be(function(e, t, s) {
        var f = -1, h = typeof t == "function", p = Ht(e) ? I(e.length) : [];
        return er(e, function(m) {
          p[++f] = h ? Xt(t, m, s) : gi(m, t, s);
        }), p;
      }), qg = is(function(e, t, s) {
        Pn(e, s, t);
      });
      function _s(e, t) {
        var s = pe(e) ? Xe : kl;
        return s(e, fe(t, 3));
      }
      function Kg(e, t, s, f) {
        return e == null ? [] : (pe(t) || (t = t == null ? [] : [t]), s = f ? r : s, pe(s) || (s = s == null ? [] : [s]), Ll(e, t, s));
      }
      var Xg = is(function(e, t, s) {
        e[s ? 0 : 1].push(t);
      }, function() {
        return [[], []];
      });
      function Zg(e, t, s) {
        var f = pe(e) ? eu : tl, h = arguments.length < 3;
        return f(e, fe(t, 4), s, h, er);
      }
      function Jg(e, t, s) {
        var f = pe(e) ? oh : tl, h = arguments.length < 3;
        return f(e, fe(t, 4), s, h, yl);
      }
      function Qg(e, t) {
        var s = pe(e) ? Qn : bl;
        return s(e, ps(fe(t, 3)));
      }
      function Vg(e) {
        var t = pe(e) ? pl : x_;
        return t(e);
      }
      function jg(e, t, s) {
        (s ? Mt(e, t, s) : t === r) ? t = 1 : t = ve(t);
        var f = pe(e) ? y_ : Y_;
        return f(e, t);
      }
      function $g(e) {
        var t = pe(e) ? b_ : K_;
        return t(e);
      }
      function ep(e) {
        if (e == null)
          return 0;
        if (Ht(e))
          return vs(e) ? Nr(e) : e.length;
        var t = Et(e);
        return t == dt || t == J ? e.size : wu(e).length;
      }
      function tp(e, t, s) {
        var f = pe(e) ? tu : X_;
        return s && Mt(e, t, s) && (t = r), f(e, fe(t, 3));
      }
      var np = be(function(e, t) {
        if (e == null)
          return [];
        var s = t.length;
        return s > 1 && Mt(e, t[0], t[1]) ? t = [] : s > 2 && Mt(t[0], t[1], t[2]) && (t = [t[0]]), Ll(e, Tt(t, 1), []);
      }), ds = Fh || function() {
        return Ct.Date.now();
      };
      function rp(e, t) {
        if (typeof t != "function")
          throw new sn(l);
        return e = ve(e), function() {
          if (--e < 1)
            return t.apply(this, arguments);
        };
      }
      function Ef(e, t, s) {
        return t = s ? r : t, t = e && t == null ? e.length : t, Mn(e, D, r, r, r, r, t);
      }
      function kf(e, t) {
        var s;
        if (typeof t != "function")
          throw new sn(l);
        return e = ve(e), function() {
          return --e > 0 && (s = t.apply(this, arguments)), e <= 1 && (t = r), s;
        };
      }
      var xu = be(function(e, t, s) {
        var f = R;
        if (s.length) {
          var h = jn(s, Xr(xu));
          f |= N;
        }
        return Mn(e, f, t, s, h);
      }), Af = be(function(e, t, s) {
        var f = R | A;
        if (s.length) {
          var h = jn(s, Xr(Af));
          f |= N;
        }
        return Mn(t, f, e, s, h);
      });
      function If(e, t, s) {
        t = s ? r : t;
        var f = Mn(e, B, r, r, r, r, r, t);
        return f.placeholder = If.placeholder, f;
      }
      function Rf(e, t, s) {
        t = s ? r : t;
        var f = Mn(e, W, r, r, r, r, r, t);
        return f.placeholder = Rf.placeholder, f;
      }
      function Lf(e, t, s) {
        var f, h, p, m, y, S, M = 0, U = !1, G = !1, Z = !0;
        if (typeof e != "function")
          throw new sn(l);
        t = an(t) || 0, je(s) && (U = !!s.leading, G = "maxWait" in s, p = G ? mt(an(s.maxWait) || 0, t) : p, Z = "trailing" in s ? !!s.trailing : Z);
        function re(lt) {
          var pn = f, Nn = h;
          return f = h = r, M = lt, m = e.apply(Nn, pn), m;
        }
        function ae(lt) {
          return M = lt, y = yi(Ce, t), U ? re(lt) : m;
        }
        function we(lt) {
          var pn = lt - S, Nn = lt - M, Qf = t - pn;
          return G ? Dt(Qf, p - Nn) : Qf;
        }
        function ce(lt) {
          var pn = lt - S, Nn = lt - M;
          return S === r || pn >= t || pn < 0 || G && Nn >= p;
        }
        function Ce() {
          var lt = ds();
          if (ce(lt))
            return Ee(lt);
          y = yi(Ce, we(lt));
        }
        function Ee(lt) {
          return y = r, Z && f ? re(lt) : (f = h = r, m);
        }
        function Vt() {
          y !== r && Hl(y), M = 0, f = S = h = y = r;
        }
        function Ut() {
          return y === r ? m : Ee(ds());
        }
        function jt() {
          var lt = ds(), pn = ce(lt);
          if (f = arguments, h = this, S = lt, pn) {
            if (y === r)
              return ae(S);
            if (G)
              return Hl(y), y = yi(Ce, t), re(S);
          }
          return y === r && (y = yi(Ce, t)), m;
        }
        return jt.cancel = Vt, jt.flush = Ut, jt;
      }
      var ip = be(function(e, t) {
        return wl(e, 1, t);
      }), sp = be(function(e, t, s) {
        return wl(e, an(t) || 0, s);
      });
      function up(e) {
        return Mn(e, q);
      }
      function gs(e, t) {
        if (typeof e != "function" || t != null && typeof t != "function")
          throw new sn(l);
        var s = function() {
          var f = arguments, h = t ? t.apply(this, f) : f[0], p = s.cache;
          if (p.has(h))
            return p.get(h);
          var m = e.apply(this, f);
          return s.cache = p.set(h, m) || p, m;
        };
        return s.cache = new (gs.Cache || On)(), s;
      }
      gs.Cache = On;
      function ps(e) {
        if (typeof e != "function")
          throw new sn(l);
        return function() {
          var t = arguments;
          switch (t.length) {
            case 0:
              return !e.call(this);
            case 1:
              return !e.call(this, t[0]);
            case 2:
              return !e.call(this, t[0], t[1]);
            case 3:
              return !e.call(this, t[0], t[1], t[2]);
          }
          return !e.apply(this, t);
        };
      }
      function op(e) {
        return kf(2, e);
      }
      var lp = Z_(function(e, t) {
        t = t.length == 1 && pe(t[0]) ? Xe(t[0], Zt(fe())) : Xe(Tt(t, 1), Zt(fe()));
        var s = t.length;
        return be(function(f) {
          for (var h = -1, p = Dt(f.length, s); ++h < p; )
            f[h] = t[h].call(this, f[h]);
          return Xt(e, this, f);
        });
      }), Yu = be(function(e, t) {
        var s = jn(t, Xr(Yu));
        return Mn(e, N, r, t, s);
      }), Of = be(function(e, t) {
        var s = jn(t, Xr(Of));
        return Mn(e, O, r, t, s);
      }), fp = Un(function(e, t) {
        return Mn(e, Y, r, r, r, t);
      });
      function ap(e, t) {
        if (typeof e != "function")
          throw new sn(l);
        return t = t === r ? t : ve(t), be(e, t);
      }
      function cp(e, t) {
        if (typeof e != "function")
          throw new sn(l);
        return t = t == null ? 0 : mt(ve(t), 0), be(function(s) {
          var f = s[t], h = rr(s, 0, t);
          return f && Vn(h, f), Xt(e, this, h);
        });
      }
      function hp(e, t, s) {
        var f = !0, h = !0;
        if (typeof e != "function")
          throw new sn(l);
        return je(s) && (f = "leading" in s ? !!s.leading : f, h = "trailing" in s ? !!s.trailing : h), Lf(e, t, {
          leading: f,
          maxWait: t,
          trailing: h
        });
      }
      function _p(e) {
        return Ef(e, 1);
      }
      function dp(e, t) {
        return Yu(Au(t), e);
      }
      function gp() {
        if (!arguments.length)
          return [];
        var e = arguments[0];
        return pe(e) ? e : [e];
      }
      function pp(e) {
        return on(e, T);
      }
      function mp(e, t) {
        return t = typeof t == "function" ? t : r, on(e, T, t);
      }
      function vp(e) {
        return on(e, C | T);
      }
      function wp(e, t) {
        return t = typeof t == "function" ? t : r, on(e, C | T, t);
      }
      function yp(e, t) {
        return t == null || vl(e, t, yt(t));
      }
      function gn(e, t) {
        return e === t || e !== e && t !== t;
      }
      var bp = ls(pu), Cp = ls(function(e, t) {
        return e >= t;
      }), Tr = Sl(function() {
        return arguments;
      }()) ? Sl : function(e) {
        return tt(e) && Be.call(e, "callee") && !al.call(e, "callee");
      }, pe = I.isArray, Tp = qo ? Zt(qo) : L_;
      function Ht(e) {
        return e != null && ms(e.length) && !Bn(e);
      }
      function ot(e) {
        return tt(e) && Ht(e);
      }
      function Sp(e) {
        return e === !0 || e === !1 || tt(e) && Pt(e) == $e;
      }
      var ir = Wh || to, Dp = Ko ? Zt(Ko) : O_;
      function Ep(e) {
        return tt(e) && e.nodeType === 1 && !bi(e);
      }
      function kp(e) {
        if (e == null)
          return !0;
        if (Ht(e) && (pe(e) || typeof e == "string" || typeof e.splice == "function" || ir(e) || Zr(e) || Tr(e)))
          return !e.length;
        var t = Et(e);
        if (t == dt || t == J)
          return !e.size;
        if (wi(e))
          return !wu(e).length;
        for (var s in e)
          if (Be.call(e, s))
            return !1;
        return !0;
      }
      function Ap(e, t) {
        return pi(e, t);
      }
      function Ip(e, t, s) {
        s = typeof s == "function" ? s : r;
        var f = s ? s(e, t) : r;
        return f === r ? pi(e, t, r, s) : !!f;
      }
      function qu(e) {
        if (!tt(e))
          return !1;
        var t = Pt(e);
        return t == Qe || t == Ie || typeof e.message == "string" && typeof e.name == "string" && !bi(e);
      }
      function Rp(e) {
        return typeof e == "number" && hl(e);
      }
      function Bn(e) {
        if (!je(e))
          return !1;
        var t = Pt(e);
        return t == et || t == Bt || t == _t || t == Ir;
      }
      function Pf(e) {
        return typeof e == "number" && e == ve(e);
      }
      function ms(e) {
        return typeof e == "number" && e > -1 && e % 1 == 0 && e <= Q;
      }
      function je(e) {
        var t = typeof e;
        return e != null && (t == "object" || t == "function");
      }
      function tt(e) {
        return e != null && typeof e == "object";
      }
      var Mf = Xo ? Zt(Xo) : M_;
      function Lp(e, t) {
        return e === t || vu(e, t, Uu(t));
      }
      function Op(e, t, s) {
        return s = typeof s == "function" ? s : r, vu(e, t, Uu(t), s);
      }
      function Pp(e) {
        return Uf(e) && e != +e;
      }
      function Mp(e) {
        if (md(e))
          throw new ge(a);
        return Dl(e);
      }
      function Up(e) {
        return e === null;
      }
      function Fp(e) {
        return e == null;
      }
      function Uf(e) {
        return typeof e == "number" || tt(e) && Pt(e) == ne;
      }
      function bi(e) {
        if (!tt(e) || Pt(e) != gt)
          return !1;
        var t = Yi(e);
        if (t === null)
          return !0;
        var s = Be.call(t, "constructor") && t.constructor;
        return typeof s == "function" && s instanceof s && Hi.call(s) == Oh;
      }
      var Ku = Zo ? Zt(Zo) : U_;
      function Bp(e) {
        return Pf(e) && e >= -Q && e <= Q;
      }
      var Ff = Jo ? Zt(Jo) : F_;
      function vs(e) {
        return typeof e == "string" || !pe(e) && tt(e) && Pt(e) == Wt;
      }
      function Qt(e) {
        return typeof e == "symbol" || tt(e) && Pt(e) == Lt;
      }
      var Zr = Qo ? Zt(Qo) : B_;
      function Wp(e) {
        return e === r;
      }
      function Np(e) {
        return tt(e) && Et(e) == st;
      }
      function Hp(e) {
        return tt(e) && Pt(e) == cn;
      }
      var Gp = ls(yu), zp = ls(function(e, t) {
        return e <= t;
      });
      function Bf(e) {
        if (!e)
          return [];
        if (Ht(e))
          return vs(e) ? _n(e) : Nt(e);
        if (li && e[li])
          return yh(e[li]());
        var t = Et(e), s = t == dt ? ou : t == J ? Bi : Jr;
        return s(e);
      }
      function Wn(e) {
        if (!e)
          return e === 0 ? e : 0;
        if (e = an(e), e === ze || e === -ze) {
          var t = e < 0 ? -1 : 1;
          return t * oe;
        }
        return e === e ? e : 0;
      }
      function ve(e) {
        var t = Wn(e), s = t % 1;
        return t === t ? s ? t - s : t : 0;
      }
      function Wf(e) {
        return e ? wr(ve(e), 0, Le) : 0;
      }
      function an(e) {
        if (typeof e == "number")
          return e;
        if (Qt(e))
          return te;
        if (je(e)) {
          var t = typeof e.valueOf == "function" ? e.valueOf() : e;
          e = je(t) ? t + "" : t;
        }
        if (typeof e != "string")
          return e === 0 ? e : +e;
        e = nl(e);
        var s = zs.test(e);
        return s || xs.test(e) ? rh(e.slice(2), s ? 2 : 8) : Gs.test(e) ? te : +e;
      }
      function Nf(e) {
        return Dn(e, Gt(e));
      }
      function xp(e) {
        return e ? wr(ve(e), -Q, Q) : e === 0 ? e : 0;
      }
      function Fe(e) {
        return e == null ? "" : Jt(e);
      }
      var Yp = qr(function(e, t) {
        if (wi(t) || Ht(t)) {
          Dn(t, yt(t), e);
          return;
        }
        for (var s in t)
          Be.call(t, s) && _i(e, s, t[s]);
      }), Hf = qr(function(e, t) {
        Dn(t, Gt(t), e);
      }), ws = qr(function(e, t, s, f) {
        Dn(t, Gt(t), e, f);
      }), qp = qr(function(e, t, s, f) {
        Dn(t, yt(t), e, f);
      }), Kp = Un(_u);
      function Xp(e, t) {
        var s = Yr(e);
        return t == null ? s : ml(s, t);
      }
      var Zp = be(function(e, t) {
        e = xe(e);
        var s = -1, f = t.length, h = f > 2 ? t[2] : r;
        for (h && Mt(t[0], t[1], h) && (f = 1); ++s < f; )
          for (var p = t[s], m = Gt(p), y = -1, S = m.length; ++y < S; ) {
            var M = m[y], U = e[M];
            (U === r || gn(U, Gr[M]) && !Be.call(e, M)) && (e[M] = p[M]);
          }
        return e;
      }), Jp = be(function(e) {
        return e.push(r, nf), Xt(Gf, r, e);
      });
      function Qp(e, t) {
        return jo(e, fe(t, 3), Sn);
      }
      function Vp(e, t) {
        return jo(e, fe(t, 3), gu);
      }
      function jp(e, t) {
        return e == null ? e : du(e, fe(t, 3), Gt);
      }
      function $p(e, t) {
        return e == null ? e : Cl(e, fe(t, 3), Gt);
      }
      function e1(e, t) {
        return e && Sn(e, fe(t, 3));
      }
      function t1(e, t) {
        return e && gu(e, fe(t, 3));
      }
      function n1(e) {
        return e == null ? [] : es(e, yt(e));
      }
      function r1(e) {
        return e == null ? [] : es(e, Gt(e));
      }
      function Xu(e, t, s) {
        var f = e == null ? r : yr(e, t);
        return f === r ? s : f;
      }
      function i1(e, t) {
        return e != null && uf(e, t, k_);
      }
      function Zu(e, t) {
        return e != null && uf(e, t, A_);
      }
      var s1 = Vl(function(e, t, s) {
        t != null && typeof t.toString != "function" && (t = Gi.call(t)), e[t] = s;
      }, Qu(zt)), u1 = Vl(function(e, t, s) {
        t != null && typeof t.toString != "function" && (t = Gi.call(t)), Be.call(e, t) ? e[t].push(s) : e[t] = [s];
      }, fe), o1 = be(gi);
      function yt(e) {
        return Ht(e) ? gl(e) : wu(e);
      }
      function Gt(e) {
        return Ht(e) ? gl(e, !0) : W_(e);
      }
      function l1(e, t) {
        var s = {};
        return t = fe(t, 3), Sn(e, function(f, h, p) {
          Pn(s, t(f, h, p), f);
        }), s;
      }
      function f1(e, t) {
        var s = {};
        return t = fe(t, 3), Sn(e, function(f, h, p) {
          Pn(s, h, t(f, h, p));
        }), s;
      }
      var a1 = qr(function(e, t, s) {
        ts(e, t, s);
      }), Gf = qr(function(e, t, s, f) {
        ts(e, t, s, f);
      }), c1 = Un(function(e, t) {
        var s = {};
        if (e == null)
          return s;
        var f = !1;
        t = Xe(t, function(p) {
          return p = nr(p, e), f || (f = p.length > 1), p;
        }), Dn(e, Pu(e), s), f && (s = on(s, C | w | T, sd));
        for (var h = t.length; h--; )
          Du(s, t[h]);
        return s;
      });
      function h1(e, t) {
        return zf(e, ps(fe(t)));
      }
      var _1 = Un(function(e, t) {
        return e == null ? {} : H_(e, t);
      });
      function zf(e, t) {
        if (e == null)
          return {};
        var s = Xe(Pu(e), function(f) {
          return [f];
        });
        return t = fe(t), Ol(e, s, function(f, h) {
          return t(f, h[0]);
        });
      }
      function d1(e, t, s) {
        t = nr(t, e);
        var f = -1, h = t.length;
        for (h || (h = 1, e = r); ++f < h; ) {
          var p = e == null ? r : e[En(t[f])];
          p === r && (f = h, p = s), e = Bn(p) ? p.call(e) : p;
        }
        return e;
      }
      function g1(e, t, s) {
        return e == null ? e : mi(e, t, s);
      }
      function p1(e, t, s, f) {
        return f = typeof f == "function" ? f : r, e == null ? e : mi(e, t, s, f);
      }
      var xf = ef(yt), Yf = ef(Gt);
      function m1(e, t, s) {
        var f = pe(e), h = f || ir(e) || Zr(e);
        if (t = fe(t, 4), s == null) {
          var p = e && e.constructor;
          h ? s = f ? new p() : [] : je(e) ? s = Bn(p) ? Yr(Yi(e)) : {} : s = {};
        }
        return (h ? rn : Sn)(e, function(m, y, S) {
          return t(s, m, y, S);
        }), s;
      }
      function v1(e, t) {
        return e == null ? !0 : Du(e, t);
      }
      function w1(e, t, s) {
        return e == null ? e : Bl(e, t, Au(s));
      }
      function y1(e, t, s, f) {
        return f = typeof f == "function" ? f : r, e == null ? e : Bl(e, t, Au(s), f);
      }
      function Jr(e) {
        return e == null ? [] : uu(e, yt(e));
      }
      function b1(e) {
        return e == null ? [] : uu(e, Gt(e));
      }
      function C1(e, t, s) {
        return s === r && (s = t, t = r), s !== r && (s = an(s), s = s === s ? s : 0), t !== r && (t = an(t), t = t === t ? t : 0), wr(an(e), t, s);
      }
      function T1(e, t, s) {
        return t = Wn(t), s === r ? (s = t, t = 0) : s = Wn(s), e = an(e), I_(e, t, s);
      }
      function S1(e, t, s) {
        if (s && typeof s != "boolean" && Mt(e, t, s) && (t = s = r), s === r && (typeof t == "boolean" ? (s = t, t = r) : typeof e == "boolean" && (s = e, e = r)), e === r && t === r ? (e = 0, t = 1) : (e = Wn(e), t === r ? (t = e, e = 0) : t = Wn(t)), e > t) {
          var f = e;
          e = t, t = f;
        }
        if (s || e % 1 || t % 1) {
          var h = _l();
          return Dt(e + h * (t - e + nh("1e-" + ((h + "").length - 1))), t);
        }
        return Cu(e, t);
      }
      var D1 = Kr(function(e, t, s) {
        return t = t.toLowerCase(), e + (s ? qf(t) : t);
      });
      function qf(e) {
        return Ju(Fe(e).toLowerCase());
      }
      function Kf(e) {
        return e = Fe(e), e && e.replace(Jn, gh).replace(Kc, "");
      }
      function E1(e, t, s) {
        e = Fe(e), t = Jt(t);
        var f = e.length;
        s = s === r ? f : wr(ve(s), 0, f);
        var h = s;
        return s -= t.length, s >= 0 && e.slice(s, h) == t;
      }
      function k1(e) {
        return e = Fe(e), e && Tn.test(e) ? e.replace(hn, ph) : e;
      }
      function A1(e) {
        return e = Fe(e), e && Li.test(e) ? e.replace(si, "\\$&") : e;
      }
      var I1 = Kr(function(e, t, s) {
        return e + (s ? "-" : "") + t.toLowerCase();
      }), R1 = Kr(function(e, t, s) {
        return e + (s ? " " : "") + t.toLowerCase();
      }), L1 = Zl("toLowerCase");
      function O1(e, t, s) {
        e = Fe(e), t = ve(t);
        var f = t ? Nr(e) : 0;
        if (!t || f >= t)
          return e;
        var h = (t - f) / 2;
        return os(Zi(h), s) + e + os(Xi(h), s);
      }
      function P1(e, t, s) {
        e = Fe(e), t = ve(t);
        var f = t ? Nr(e) : 0;
        return t && f < t ? e + os(t - f, s) : e;
      }
      function M1(e, t, s) {
        e = Fe(e), t = ve(t);
        var f = t ? Nr(e) : 0;
        return t && f < t ? os(t - f, s) + e : e;
      }
      function U1(e, t, s) {
        return s || t == null ? t = 0 : t && (t = +t), zh(Fe(e).replace(In, ""), t || 0);
      }
      function F1(e, t, s) {
        return (s ? Mt(e, t, s) : t === r) ? t = 1 : t = ve(t), Tu(Fe(e), t);
      }
      function B1() {
        var e = arguments, t = Fe(e[0]);
        return e.length < 3 ? t : t.replace(e[1], e[2]);
      }
      var W1 = Kr(function(e, t, s) {
        return e + (s ? "_" : "") + t.toLowerCase();
      });
      function N1(e, t, s) {
        return s && typeof s != "number" && Mt(e, t, s) && (t = s = r), s = s === r ? Le : s >>> 0, s ? (e = Fe(e), e && (typeof t == "string" || t != null && !Ku(t)) && (t = Jt(t), !t && Wr(e)) ? rr(_n(e), 0, s) : e.split(t, s)) : [];
      }
      var H1 = Kr(function(e, t, s) {
        return e + (s ? " " : "") + Ju(t);
      });
      function G1(e, t, s) {
        return e = Fe(e), s = s == null ? 0 : wr(ve(s), 0, e.length), t = Jt(t), e.slice(s, s + t.length) == t;
      }
      function z1(e, t, s) {
        var f = d.templateSettings;
        s && Mt(e, t, s) && (t = r), e = Fe(e), t = ws({}, t, f, tf);
        var h = ws({}, t.imports, f.imports, tf), p = yt(h), m = uu(h, p), y, S, M = 0, U = t.interpolate || Rn, G = "__p += '", Z = lu(
          (t.escape || Rn).source + "|" + U.source + "|" + (U === Mr ? Pi : Rn).source + "|" + (t.evaluate || Rn).source + "|$",
          "g"
        ), re = "//# sourceURL=" + (Be.call(t, "sourceURL") ? (t.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++Vc + "]") + `
`;
        e.replace(Z, function(ce, Ce, Ee, Vt, Ut, jt) {
          return Ee || (Ee = Vt), G += e.slice(M, jt).replace(Ys, mh), Ce && (y = !0, G += `' +
__e(` + Ce + `) +
'`), Ut && (S = !0, G += `';
` + Ut + `;
__p += '`), Ee && (G += `' +
((__t = (` + Ee + `)) == null ? '' : __t) +
'`), M = jt + ce.length, ce;
        }), G += `';
`;
        var ae = Be.call(t, "variable") && t.variable;
        if (!ae)
          G = `with (obj) {
` + G + `
}
`;
        else if (Ns.test(ae))
          throw new ge(c);
        G = (S ? G.replace(Cn, "") : G).replace(ri, "$1").replace(Lr, "$1;"), G = "function(" + (ae || "obj") + `) {
` + (ae ? "" : `obj || (obj = {});
`) + "var __t, __p = ''" + (y ? ", __e = _.escape" : "") + (S ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
` : `;
`) + G + `return __p
}`;
        var we = Zf(function() {
          return Pe(p, re + "return " + G).apply(r, m);
        });
        if (we.source = G, qu(we))
          throw we;
        return we;
      }
      function x1(e) {
        return Fe(e).toLowerCase();
      }
      function Y1(e) {
        return Fe(e).toUpperCase();
      }
      function q1(e, t, s) {
        if (e = Fe(e), e && (s || t === r))
          return nl(e);
        if (!e || !(t = Jt(t)))
          return e;
        var f = _n(e), h = _n(t), p = rl(f, h), m = il(f, h) + 1;
        return rr(f, p, m).join("");
      }
      function K1(e, t, s) {
        if (e = Fe(e), e && (s || t === r))
          return e.slice(0, ul(e) + 1);
        if (!e || !(t = Jt(t)))
          return e;
        var f = _n(e), h = il(f, _n(t)) + 1;
        return rr(f, 0, h).join("");
      }
      function X1(e, t, s) {
        if (e = Fe(e), e && (s || t === r))
          return e.replace(In, "");
        if (!e || !(t = Jt(t)))
          return e;
        var f = _n(e), h = rl(f, _n(t));
        return rr(f, h).join("");
      }
      function Z1(e, t) {
        var s = X, f = K;
        if (je(t)) {
          var h = "separator" in t ? t.separator : h;
          s = "length" in t ? ve(t.length) : s, f = "omission" in t ? Jt(t.omission) : f;
        }
        e = Fe(e);
        var p = e.length;
        if (Wr(e)) {
          var m = _n(e);
          p = m.length;
        }
        if (s >= p)
          return e;
        var y = s - Nr(f);
        if (y < 1)
          return f;
        var S = m ? rr(m, 0, y).join("") : e.slice(0, y);
        if (h === r)
          return S + f;
        if (m && (y += S.length - y), Ku(h)) {
          if (e.slice(y).search(h)) {
            var M, U = S;
            for (h.global || (h = lu(h.source, Fe(ui.exec(h)) + "g")), h.lastIndex = 0; M = h.exec(U); )
              var G = M.index;
            S = S.slice(0, G === r ? y : G);
          }
        } else if (e.indexOf(Jt(h), y) != y) {
          var Z = S.lastIndexOf(h);
          Z > -1 && (S = S.slice(0, Z));
        }
        return S + f;
      }
      function J1(e) {
        return e = Fe(e), e && ii.test(e) ? e.replace(An, Sh) : e;
      }
      var Q1 = Kr(function(e, t, s) {
        return e + (s ? " " : "") + t.toUpperCase();
      }), Ju = Zl("toUpperCase");
      function Xf(e, t, s) {
        return e = Fe(e), t = s ? r : t, t === r ? wh(e) ? kh(e) : ah(e) : e.match(t) || [];
      }
      var Zf = be(function(e, t) {
        try {
          return Xt(e, r, t);
        } catch (s) {
          return qu(s) ? s : new ge(s);
        }
      }), V1 = Un(function(e, t) {
        return rn(t, function(s) {
          s = En(s), Pn(e, s, xu(e[s], e));
        }), e;
      });
      function j1(e) {
        var t = e == null ? 0 : e.length, s = fe();
        return e = t ? Xe(e, function(f) {
          if (typeof f[1] != "function")
            throw new sn(l);
          return [s(f[0]), f[1]];
        }) : [], be(function(f) {
          for (var h = -1; ++h < t; ) {
            var p = e[h];
            if (Xt(p[0], this, f))
              return Xt(p[1], this, f);
          }
        });
      }
      function $1(e) {
        return S_(on(e, C));
      }
      function Qu(e) {
        return function() {
          return e;
        };
      }
      function e0(e, t) {
        return e == null || e !== e ? t : e;
      }
      var t0 = Ql(), n0 = Ql(!0);
      function zt(e) {
        return e;
      }
      function Vu(e) {
        return El(typeof e == "function" ? e : on(e, C));
      }
      function r0(e) {
        return Al(on(e, C));
      }
      function i0(e, t) {
        return Il(e, on(t, C));
      }
      var s0 = be(function(e, t) {
        return function(s) {
          return gi(s, e, t);
        };
      }), u0 = be(function(e, t) {
        return function(s) {
          return gi(e, s, t);
        };
      });
      function ju(e, t, s) {
        var f = yt(t), h = es(t, f);
        s == null && !(je(t) && (h.length || !f.length)) && (s = t, t = e, e = this, h = es(t, yt(t)));
        var p = !(je(s) && "chain" in s) || !!s.chain, m = Bn(e);
        return rn(h, function(y) {
          var S = t[y];
          e[y] = S, m && (e.prototype[y] = function() {
            var M = this.__chain__;
            if (p || M) {
              var U = e(this.__wrapped__), G = U.__actions__ = Nt(this.__actions__);
              return G.push({ func: S, args: arguments, thisArg: e }), U.__chain__ = M, U;
            }
            return S.apply(e, Vn([this.value()], arguments));
          });
        }), e;
      }
      function o0() {
        return Ct._ === this && (Ct._ = Ph), this;
      }
      function $u() {
      }
      function l0(e) {
        return e = ve(e), be(function(t) {
          return Rl(t, e);
        });
      }
      var f0 = Ru(Xe), a0 = Ru(Vo), c0 = Ru(tu);
      function Jf(e) {
        return Bu(e) ? nu(En(e)) : G_(e);
      }
      function h0(e) {
        return function(t) {
          return e == null ? r : yr(e, t);
        };
      }
      var _0 = jl(), d0 = jl(!0);
      function eo() {
        return [];
      }
      function to() {
        return !1;
      }
      function g0() {
        return {};
      }
      function p0() {
        return "";
      }
      function m0() {
        return !0;
      }
      function v0(e, t) {
        if (e = ve(e), e < 1 || e > Q)
          return [];
        var s = Le, f = Dt(e, Le);
        t = fe(t), e -= Le;
        for (var h = su(f, t); ++s < e; )
          t(s);
        return h;
      }
      function w0(e) {
        return pe(e) ? Xe(e, En) : Qt(e) ? [e] : Nt(gf(Fe(e)));
      }
      function y0(e) {
        var t = ++Lh;
        return Fe(e) + t;
      }
      var b0 = us(function(e, t) {
        return e + t;
      }, 0), C0 = Lu("ceil"), T0 = us(function(e, t) {
        return e / t;
      }, 1), S0 = Lu("floor");
      function D0(e) {
        return e && e.length ? $i(e, zt, pu) : r;
      }
      function E0(e, t) {
        return e && e.length ? $i(e, fe(t, 2), pu) : r;
      }
      function k0(e) {
        return el(e, zt);
      }
      function A0(e, t) {
        return el(e, fe(t, 2));
      }
      function I0(e) {
        return e && e.length ? $i(e, zt, yu) : r;
      }
      function R0(e, t) {
        return e && e.length ? $i(e, fe(t, 2), yu) : r;
      }
      var L0 = us(function(e, t) {
        return e * t;
      }, 1), O0 = Lu("round"), P0 = us(function(e, t) {
        return e - t;
      }, 0);
      function M0(e) {
        return e && e.length ? iu(e, zt) : 0;
      }
      function U0(e, t) {
        return e && e.length ? iu(e, fe(t, 2)) : 0;
      }
      return d.after = rp, d.ary = Ef, d.assign = Yp, d.assignIn = Hf, d.assignInWith = ws, d.assignWith = qp, d.at = Kp, d.before = kf, d.bind = xu, d.bindAll = V1, d.bindKey = Af, d.castArray = gp, d.chain = Tf, d.chunk = Sd, d.compact = Dd, d.concat = Ed, d.cond = j1, d.conforms = $1, d.constant = Qu, d.countBy = Mg, d.create = Xp, d.curry = If, d.curryRight = Rf, d.debounce = Lf, d.defaults = Zp, d.defaultsDeep = Jp, d.defer = ip, d.delay = sp, d.difference = kd, d.differenceBy = Ad, d.differenceWith = Id, d.drop = Rd, d.dropRight = Ld, d.dropRightWhile = Od, d.dropWhile = Pd, d.fill = Md, d.filter = Fg, d.flatMap = Ng, d.flatMapDeep = Hg, d.flatMapDepth = Gg, d.flatten = wf, d.flattenDeep = Ud, d.flattenDepth = Fd, d.flip = up, d.flow = t0, d.flowRight = n0, d.fromPairs = Bd, d.functions = n1, d.functionsIn = r1, d.groupBy = zg, d.initial = Nd, d.intersection = Hd, d.intersectionBy = Gd, d.intersectionWith = zd, d.invert = s1, d.invertBy = u1, d.invokeMap = Yg, d.iteratee = Vu, d.keyBy = qg, d.keys = yt, d.keysIn = Gt, d.map = _s, d.mapKeys = l1, d.mapValues = f1, d.matches = r0, d.matchesProperty = i0, d.memoize = gs, d.merge = a1, d.mergeWith = Gf, d.method = s0, d.methodOf = u0, d.mixin = ju, d.negate = ps, d.nthArg = l0, d.omit = c1, d.omitBy = h1, d.once = op, d.orderBy = Kg, d.over = f0, d.overArgs = lp, d.overEvery = a0, d.overSome = c0, d.partial = Yu, d.partialRight = Of, d.partition = Xg, d.pick = _1, d.pickBy = zf, d.property = Jf, d.propertyOf = h0, d.pull = Kd, d.pullAll = bf, d.pullAllBy = Xd, d.pullAllWith = Zd, d.pullAt = Jd, d.range = _0, d.rangeRight = d0, d.rearg = fp, d.reject = Qg, d.remove = Qd, d.rest = ap, d.reverse = Gu, d.sampleSize = jg, d.set = g1, d.setWith = p1, d.shuffle = $g, d.slice = Vd, d.sortBy = np, d.sortedUniq = ig, d.sortedUniqBy = sg, d.split = N1, d.spread = cp, d.tail = ug, d.take = og, d.takeRight = lg, d.takeRightWhile = fg, d.takeWhile = ag, d.tap = Dg, d.throttle = hp, d.thru = hs, d.toArray = Bf, d.toPairs = xf, d.toPairsIn = Yf, d.toPath = w0, d.toPlainObject = Nf, d.transform = m1, d.unary = _p, d.union = cg, d.unionBy = hg, d.unionWith = _g, d.uniq = dg, d.uniqBy = gg, d.uniqWith = pg, d.unset = v1, d.unzip = zu, d.unzipWith = Cf, d.update = w1, d.updateWith = y1, d.values = Jr, d.valuesIn = b1, d.without = mg, d.words = Xf, d.wrap = dp, d.xor = vg, d.xorBy = wg, d.xorWith = yg, d.zip = bg, d.zipObject = Cg, d.zipObjectDeep = Tg, d.zipWith = Sg, d.entries = xf, d.entriesIn = Yf, d.extend = Hf, d.extendWith = ws, ju(d, d), d.add = b0, d.attempt = Zf, d.camelCase = D1, d.capitalize = qf, d.ceil = C0, d.clamp = C1, d.clone = pp, d.cloneDeep = vp, d.cloneDeepWith = wp, d.cloneWith = mp, d.conformsTo = yp, d.deburr = Kf, d.defaultTo = e0, d.divide = T0, d.endsWith = E1, d.eq = gn, d.escape = k1, d.escapeRegExp = A1, d.every = Ug, d.find = Bg, d.findIndex = mf, d.findKey = Qp, d.findLast = Wg, d.findLastIndex = vf, d.findLastKey = Vp, d.floor = S0, d.forEach = Sf, d.forEachRight = Df, d.forIn = jp, d.forInRight = $p, d.forOwn = e1, d.forOwnRight = t1, d.get = Xu, d.gt = bp, d.gte = Cp, d.has = i1, d.hasIn = Zu, d.head = yf, d.identity = zt, d.includes = xg, d.indexOf = Wd, d.inRange = T1, d.invoke = o1, d.isArguments = Tr, d.isArray = pe, d.isArrayBuffer = Tp, d.isArrayLike = Ht, d.isArrayLikeObject = ot, d.isBoolean = Sp, d.isBuffer = ir, d.isDate = Dp, d.isElement = Ep, d.isEmpty = kp, d.isEqual = Ap, d.isEqualWith = Ip, d.isError = qu, d.isFinite = Rp, d.isFunction = Bn, d.isInteger = Pf, d.isLength = ms, d.isMap = Mf, d.isMatch = Lp, d.isMatchWith = Op, d.isNaN = Pp, d.isNative = Mp, d.isNil = Fp, d.isNull = Up, d.isNumber = Uf, d.isObject = je, d.isObjectLike = tt, d.isPlainObject = bi, d.isRegExp = Ku, d.isSafeInteger = Bp, d.isSet = Ff, d.isString = vs, d.isSymbol = Qt, d.isTypedArray = Zr, d.isUndefined = Wp, d.isWeakMap = Np, d.isWeakSet = Hp, d.join = xd, d.kebabCase = I1, d.last = fn, d.lastIndexOf = Yd, d.lowerCase = R1, d.lowerFirst = L1, d.lt = Gp, d.lte = zp, d.max = D0, d.maxBy = E0, d.mean = k0, d.meanBy = A0, d.min = I0, d.minBy = R0, d.stubArray = eo, d.stubFalse = to, d.stubObject = g0, d.stubString = p0, d.stubTrue = m0, d.multiply = L0, d.nth = qd, d.noConflict = o0, d.noop = $u, d.now = ds, d.pad = O1, d.padEnd = P1, d.padStart = M1, d.parseInt = U1, d.random = S1, d.reduce = Zg, d.reduceRight = Jg, d.repeat = F1, d.replace = B1, d.result = d1, d.round = O0, d.runInContext = b, d.sample = Vg, d.size = ep, d.snakeCase = W1, d.some = tp, d.sortedIndex = jd, d.sortedIndexBy = $d, d.sortedIndexOf = eg, d.sortedLastIndex = tg, d.sortedLastIndexBy = ng, d.sortedLastIndexOf = rg, d.startCase = H1, d.startsWith = G1, d.subtract = P0, d.sum = M0, d.sumBy = U0, d.template = z1, d.times = v0, d.toFinite = Wn, d.toInteger = ve, d.toLength = Wf, d.toLower = x1, d.toNumber = an, d.toSafeInteger = xp, d.toString = Fe, d.toUpper = Y1, d.trim = q1, d.trimEnd = K1, d.trimStart = X1, d.truncate = Z1, d.unescape = J1, d.uniqueId = y0, d.upperCase = Q1, d.upperFirst = Ju, d.each = Sf, d.eachRight = Df, d.first = yf, ju(d, function() {
        var e = {};
        return Sn(d, function(t, s) {
          Be.call(d.prototype, s) || (e[s] = t);
        }), e;
      }(), { chain: !1 }), d.VERSION = u, rn(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
        d[e].placeholder = d;
      }), rn(["drop", "take"], function(e, t) {
        Se.prototype[e] = function(s) {
          s = s === r ? 1 : mt(ve(s), 0);
          var f = this.__filtered__ && !t ? new Se(this) : this.clone();
          return f.__filtered__ ? f.__takeCount__ = Dt(s, f.__takeCount__) : f.__views__.push({
            size: Dt(s, Le),
            type: e + (f.__dir__ < 0 ? "Right" : "")
          }), f;
        }, Se.prototype[e + "Right"] = function(s) {
          return this.reverse()[e](s).reverse();
        };
      }), rn(["filter", "map", "takeWhile"], function(e, t) {
        var s = t + 1, f = s == He || s == De;
        Se.prototype[e] = function(h) {
          var p = this.clone();
          return p.__iteratees__.push({
            iteratee: fe(h, 3),
            type: s
          }), p.__filtered__ = p.__filtered__ || f, p;
        };
      }), rn(["head", "last"], function(e, t) {
        var s = "take" + (t ? "Right" : "");
        Se.prototype[e] = function() {
          return this[s](1).value()[0];
        };
      }), rn(["initial", "tail"], function(e, t) {
        var s = "drop" + (t ? "" : "Right");
        Se.prototype[e] = function() {
          return this.__filtered__ ? new Se(this) : this[s](1);
        };
      }), Se.prototype.compact = function() {
        return this.filter(zt);
      }, Se.prototype.find = function(e) {
        return this.filter(e).head();
      }, Se.prototype.findLast = function(e) {
        return this.reverse().find(e);
      }, Se.prototype.invokeMap = be(function(e, t) {
        return typeof e == "function" ? new Se(this) : this.map(function(s) {
          return gi(s, e, t);
        });
      }), Se.prototype.reject = function(e) {
        return this.filter(ps(fe(e)));
      }, Se.prototype.slice = function(e, t) {
        e = ve(e);
        var s = this;
        return s.__filtered__ && (e > 0 || t < 0) ? new Se(s) : (e < 0 ? s = s.takeRight(-e) : e && (s = s.drop(e)), t !== r && (t = ve(t), s = t < 0 ? s.dropRight(-t) : s.take(t - e)), s);
      }, Se.prototype.takeRightWhile = function(e) {
        return this.reverse().takeWhile(e).reverse();
      }, Se.prototype.toArray = function() {
        return this.take(Le);
      }, Sn(Se.prototype, function(e, t) {
        var s = /^(?:filter|find|map|reject)|While$/.test(t), f = /^(?:head|last)$/.test(t), h = d[f ? "take" + (t == "last" ? "Right" : "") : t], p = f || /^find/.test(t);
        h && (d.prototype[t] = function() {
          var m = this.__wrapped__, y = f ? [1] : arguments, S = m instanceof Se, M = y[0], U = S || pe(m), G = function(Ce) {
            var Ee = h.apply(d, Vn([Ce], y));
            return f && Z ? Ee[0] : Ee;
          };
          U && s && typeof M == "function" && M.length != 1 && (S = U = !1);
          var Z = this.__chain__, re = !!this.__actions__.length, ae = p && !Z, we = S && !re;
          if (!p && U) {
            m = we ? m : new Se(this);
            var ce = e.apply(m, y);
            return ce.__actions__.push({ func: hs, args: [G], thisArg: r }), new un(ce, Z);
          }
          return ae && we ? e.apply(this, y) : (ce = this.thru(G), ae ? f ? ce.value()[0] : ce.value() : ce);
        });
      }), rn(["pop", "push", "shift", "sort", "splice", "unshift"], function(e) {
        var t = Wi[e], s = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru", f = /^(?:pop|shift)$/.test(e);
        d.prototype[e] = function() {
          var h = arguments;
          if (f && !this.__chain__) {
            var p = this.value();
            return t.apply(pe(p) ? p : [], h);
          }
          return this[s](function(m) {
            return t.apply(pe(m) ? m : [], h);
          });
        };
      }), Sn(Se.prototype, function(e, t) {
        var s = d[t];
        if (s) {
          var f = s.name + "";
          Be.call(xr, f) || (xr[f] = []), xr[f].push({ name: t, func: s });
        }
      }), xr[ss(r, A).name] = [{
        name: "wrapper",
        func: r
      }], Se.prototype.clone = Jh, Se.prototype.reverse = Qh, Se.prototype.value = Vh, d.prototype.at = Eg, d.prototype.chain = kg, d.prototype.commit = Ag, d.prototype.next = Ig, d.prototype.plant = Lg, d.prototype.reverse = Og, d.prototype.toJSON = d.prototype.valueOf = d.prototype.value = Pg, d.prototype.first = d.prototype.head, li && (d.prototype[li] = Rg), d;
    }, Hr = Ah();
    gr ? ((gr.exports = Hr)._ = Hr, Vs._ = Hr) : Ct._ = Hr;
  }).call(Ci);
})(ks, ks.exports);
ks.exports;
class ei {
  constructor(i) {
    ke(this, "id", -1 * (Math.random() * 1e4 | 0));
    ke(this, "start", /* @__PURE__ */ new Date());
    ke(this, "end", /* @__PURE__ */ new Date());
    ke(this, "state", "In_Progress");
    ke(this, "project");
    ke(this, "task");
    ke(this, "description");
    ke(this, "is_selected", !1);
    const r = {
      ...structuredClone(this),
      ...i
    };
    return Object.setPrototypeOf(r, ei.prototype), r;
  }
  static Is_Same_Range(i, r) {
    return i.start.getTime() === r.start.getTime() && i.end.getTime() === r.end.getTime();
  }
}
var kt = /* @__PURE__ */ ((n) => (n.In_Progress = "In_Progress", n.Error = "Error", n.ToSave = "ToSave", n.Saving = "Saving", n.Stable = "Stable", n.ToDelete = "ToSDelete", n.Deleting = "Deleting", n))(kt || {}), _c = /* @__PURE__ */ ((n) => (n.Creation_Progression = "Creation_Progression", n.Form_Changes = "Form_Changes", n.Form_Finished = "Form_Finished", n.Form_Or_Time_Changes = "Form_Or_Time_Changes", n.Save_Success = "Save_Success", n.Save_Error = "Save_Error", n.Delete = "Delete", n.Start_Saving = "Start_Saving", n.Start_Deleting = "Start_Deleting", n))(_c || {});
const sm = {
  In_Progress: {
    Creation_Progression: "In_Progress",
    Form_Changes: "In_Progress",
    Form_Finished: "ToSave",
    Delete: "ToSDelete"
    /* ToDelete */
  },
  ToSave: {
    Start_Saving: "Saving",
    Save_Error: "Error"
    /* Error */
  },
  ToSDelete: {
    Start_Deleting: "Deleting",
    Save_Error: "Error"
    /* Error */
  },
  Stable: {
    Form_Finished: "ToSave",
    Delete: "ToSDelete",
    Form_Or_Time_Changes: "In_Progress"
    /* In_Progress */
  },
  Error: {
    Form_Or_Time_Changes: "In_Progress",
    Form_Finished: "ToSave"
    /* ToSave */
  },
  Deleting: {
    Save_Success: "Stable",
    Save_Error: "Error"
    /* Error */
  },
  Saving: {
    Save_Success: "Stable",
    Save_Error: "Error"
    /* Error */
  }
};
function um(n, i) {
  const r = { ...n }, o = sm[n.state][i];
  return o ? (r.state = o, r) : n;
}
class io {
  constructor(i, r, u) {
    ke(this, "api_url");
    this.http = i, this.base_url = r, this.employee_id = u, this.api_url = `employees/${u}/trackedtimes`;
  }
  //
  // Fetching
  //
  async fetch_time_entries(i, r) {
    const u = this.url_tracked_times(i, r), o = await this.http.get(u);
    return lm(o.body);
  }
  url_tracked_times(i, r) {
    const u = new URL(this.api_url, this.base_url);
    return u.searchParams.set("start", Gn(i)), u.searchParams.set("end", Gn(r)), u.toString();
  }
  //
  // Saving / Creating
  //
  async save_time_entry(i) {
    const r = this.url_post_tracked_times(), u = fm(i, this.employee_id);
    await this.http.post(r, u);
  }
  url_post_tracked_times() {
    return new URL("trackedtimes", this.base_url).toString();
  }
  //
  // Updating
  //
  async update_time_entry(i) {
    const r = this.url_update_tracked_times(i.id), u = am(i);
    await this.http.put(r, u);
  }
  url_update_tracked_times(i) {
    const r = ["trackedtimes", i].join("/");
    return new URL(r, this.base_url).toString();
  }
  //
  // Deleting
  //
  async delete_time_entry(i) {
    const r = this.url_delete_tracked_times(i.id);
    await this.http.delete(r);
  }
  url_delete_tracked_times(i) {
    const r = ["trackedtimes", i].join("/");
    return new URL(r, this.base_url).toString();
  }
}
const om = {
  WORKING_HOURS: "WORKING_HOURS",
  PUBLIC_HOLIDAY: "PUBLIC_HOLIDAY",
  FLEXIDAY: "FLEXIDAY"
};
function lm(n) {
  const i = [];
  for (const r of n.trackedTimesDate)
    for (const u of r.trackedTimes) {
      if (u.type !== om.WORKING_HOURS)
        continue;
      const o = new ei({
        id: u.id,
        start: /* @__PURE__ */ new Date(`${u.date} ${u.start}`),
        end: /* @__PURE__ */ new Date(`${u.date} ${u.end}`),
        state: kt.Stable,
        project: $0(u.project.id, u.project.name),
        task: em(u.task.id, u.task.name),
        description: u.note
      });
      i.push(o);
    }
  return i;
}
function fm(n, i) {
  if (n.task === void 0)
    throw new Error("time_entry_to_post_tracked_times: time entry must have a task");
  return {
    date: Gn(n.start),
    employee: { id: i },
    trackedTimes: [{
      start: Es(n.start),
      end: Es(n.end),
      note: n.description ?? "",
      task: { id: n.task.id }
    }]
  };
}
function am(n) {
  var i;
  if (n.task === void 0)
    throw new Error("time_entry_to_put_tracked_times: time entry must have a task");
  return {
    date: Gn(n.start),
    trackedTimes: [{
      start: Es(n.start),
      end: Es(n.end),
      note: n.description ?? "",
      task: { id: (i = n.task) == null ? void 0 : i.id }
    }]
  };
}
class cm {
  constructor(i) {
    this.jwt = i;
  }
  async get(i) {
    return await this.fetch("GET", i);
  }
  async delete(i) {
    return await this.fetch("DELETE", i);
  }
  async post(i, r) {
    return await this.fetch("POST", i, r);
  }
  async put(i, r) {
    return await this.fetch("PUT", i, r);
  }
  Auth_Header() {
    return `Bearer ${this.jwt}`;
  }
  async fetch(i, r, u) {
    let o;
    u !== void 0 && (o = JSON.stringify(u));
    const a = await fetch(r, {
      method: i,
      headers: {
        Authorization: this.Auth_Header(),
        Accept: "application/json",
        "content-type": "application/json;charset=UTF-8"
      },
      body: o
    });
    if (a.status >= 400)
      throw new Error(`fetch failed at url='${r}'`);
    const l = await a.text();
    let c = {};
    if (l !== "")
      try {
        c = JSON.parse(l);
      } catch (g) {
        console.warn({ level: "error", msg: "fetch: could not parse response to json", method: i, url: r, err: g, body_text: l });
      }
    return {
      ...a,
      body: c
    };
  }
}
class hm {
  constructor(i = "", r = "") {
    ke(this, "http");
    ke(this, "project_api");
    ke(this, "time_entry_api");
    ke(this, "employee_api");
    ke(this, "employee_id", -1);
    ke(this, "fetch_projects", async (i = /* @__PURE__ */ new Date()) => await this.project_api.fetch_projects(i));
    ke(this, "fetch_time_entires", async (i, r) => await this.time_entry_api.fetch_time_entries(i, r));
    ke(this, "save_time_entry", async (i) => {
      await this.time_entry_api.save_time_entry(i);
    });
    ke(this, "update_time_entry", async (i) => {
      await this.time_entry_api.update_time_entry(i);
    });
    ke(this, "delete_time_entry", async (i) => {
      await this.time_entry_api.delete_time_entry(i);
    });
    ke(this, "fetch_employee", async (i) => await this.employee_api.fetch_employee(i));
    if (this.jwt = i, this.base_url = r, i !== "") {
      const u = na(i);
      this.employee_id = u.employeeId;
    }
    this.http = new cm(i), this.employee_api = new J0(this.http, r), this.project_api = new ro(this.http, r, this.employee_id), this.time_entry_api = new io(this.http, r, this.employee_id);
  }
  set_base_url(i) {
    this.base_url = i, this.project_api.base_url = i, this.employee_api.base_url = i, this.time_entry_api.base_url = i;
  }
  clear_jwt() {
    this.jwt = "", this.http.jwt = "";
  }
  jwt_set(i) {
    this.jwt = i, this.http.jwt = this.jwt;
    const r = na(i);
    this.employee_id = r.employeeId, this.project_api = new ro(this.http, this.base_url, this.employee_id), this.time_entry_api = new io(this.http, this.base_url, this.employee_id);
  }
  employee_id_set(i) {
    this.employee_id = i, this.project_api = new ro(this.http, this.base_url, this.employee_id), this.time_entry_api = new io(this.http, this.base_url, this.employee_id);
  }
  jwt_get() {
    return this.jwt;
  }
}
function na(n) {
  if (!n || n === "")
    throw new Error("now token to parse");
  const r = n.split(".")[1].replace(/-/g, "+").replace(/_/g, "/"), u = decodeURIComponent(window.atob(r).split("").map(function(o) {
    return "%" + ("00" + o.charCodeAt(0).toString(16)).slice(-2);
  }).join(""));
  return JSON.parse(u);
}
const dc = {};
function _m() {
  Os(dc, new hm());
}
function dm() {
  return wt(dc);
}
const Rs = class Rs {
  jwt_get() {
    const i = this.get_JWT_from_local_storage();
    return i || "";
  }
  get_JWT_from_local_storage() {
    return localStorage.getItem(Rs.jwt_storage_key);
  }
};
ke(Rs, "jwt_storage_key", "authToken");
let mo = Rs;
function gm(n) {
  return gc(n, "day");
}
function pm(n) {
  return gc(n, "week");
}
function gc(n, i) {
  return {
    ...n,
    next: "Next " + i,
    prev: "Previous " + i
  };
}
function zn(...n) {
  return Object.assign(...n);
}
function pc(n) {
  return Math.floor(n);
}
function Dr(...n) {
  return Math.min(...n);
}
function ur(...n) {
  return Math.max(...n);
}
function mm(n) {
  return typeof n == "object" && n !== null;
}
function vm() {
  return Symbol("ec");
}
function So(n, i) {
  let r = {
    update(u) {
      for (; n.firstChild; )
        n.removeChild(n.lastChild);
      if (!mm(u))
        n.innerText = u;
      else if (u.domNodes)
        for (let o of u.domNodes)
          n.appendChild(o);
      else
        u.html && (n.innerHTML = u.html);
    }
  };
  return r.update(i), r;
}
const vo = 86400;
function qn(n = void 0) {
  return n !== void 0 ? n instanceof Date ? ia(n) : bm(n) : ia(/* @__PURE__ */ new Date());
}
function mn(n) {
  if (typeof n == "number")
    n = { seconds: n };
  else if (typeof n == "string") {
    let r = 0, u = 2;
    for (let o of n.split(":", 3))
      r += parseInt(o, 10) * Math.pow(60, u--);
    n = { seconds: r };
  } else
    n instanceof Date && (n = { hours: n.getUTCHours(), minutes: n.getUTCMinutes(), seconds: n.getUTCSeconds() });
  let i = n.weeks || n.week || 0;
  return {
    years: n.years || n.year || 0,
    months: n.months || n.month || 0,
    days: i * 7 + (n.days || n.day || 0),
    seconds: (n.hours || n.hour || 0) * 60 * 60 + (n.minutes || n.minute || 0) * 60 + (n.seconds || n.second || 0),
    inWeeks: !!i
  };
}
function Ue(n) {
  return new Date(n.getTime());
}
function nt(n, i, r = 1) {
  n.setUTCFullYear(n.getUTCFullYear() + r * i.years);
  let u = n.getUTCMonth() + r * i.months;
  for (n.setUTCMonth(u), u %= 12, u < 0 && (u += 12); n.getUTCMonth() !== u; )
    Ri(n);
  return n.setUTCDate(n.getUTCDate() + r * i.days), n.setUTCSeconds(n.getUTCSeconds() + r * i.seconds), n;
}
function mc(n, i, r = 1) {
  return nt(n, i, -r);
}
function ti(n, i = 1) {
  return n.setUTCDate(n.getUTCDate() + i), n;
}
function Ri(n, i = 1) {
  return ti(n, -i);
}
function xn(n) {
  return n.setUTCHours(0, 0, 0, 0), n;
}
function At(n) {
  return new Date(
    n.getUTCFullYear(),
    n.getUTCMonth(),
    n.getUTCDate(),
    n.getUTCHours(),
    n.getUTCMinutes(),
    n.getUTCSeconds()
  );
}
function Er(n) {
  return n.toISOString().substring(0, 19);
}
function wm(n, i, r) {
  if (n.getFullYear() !== i.getFullYear())
    return r.format(n) + " - " + r.format(i);
  let u = [];
  if (n.getMonth() !== i.getMonth() && u.push("month"), n.getDate() !== i.getDate() && u.push("day"), !u.length)
    return r.format(n);
  let o = r.resolvedOptions(), a = {};
  for (let w of u)
    a[w] = o[w];
  let l = new Intl.DateTimeFormat(o.locale, a), c = r.format(n), _ = r.format(i), g = l.format(n), v = l.format(i), C = Cm(c, g, _, v);
  return C ? C.head + g + " - " + v + C.tail : c + " - " + _;
}
function Yn(n, ...i) {
  return i.every((r) => n.getTime() === r.getTime());
}
function ym(n, i) {
  let r = i - n.getUTCDay();
  return n.setUTCDate(n.getUTCDate() + (r >= 0 ? r : r + 7)), n;
}
function vc(n, i) {
  let r = i - n.getUTCDay();
  return n.setUTCDate(n.getUTCDate() + (r <= 0 ? r : r - 7)), n;
}
function ra(n) {
  return typeof n == "string" && n.length <= 10;
}
function ia(n) {
  return new Date(Date.UTC(
    n.getFullYear(),
    n.getMonth(),
    n.getDate(),
    n.getHours(),
    n.getMinutes(),
    n.getSeconds()
  ));
}
function bm(n) {
  const i = n.match(/\d+/g);
  return new Date(Date.UTC(
    Number(i[0]),
    Number(i[1]) - 1,
    Number(i[2]),
    Number(i[3] || 0),
    Number(i[4] || 0),
    Number(i[5] || 0)
  ));
}
function Cm(n, i, r, u) {
  let o = 0;
  for (; o < n.length; ) {
    let a;
    if ([o, a] = sa(n, i, o), !a)
      break;
    let l = 0;
    for (; l < r.length; ) {
      let c;
      if ([l, c] = sa(r, u, l), !c)
        break;
      if (a.head === c.head && a.tail === c.tail)
        return a;
    }
  }
  return null;
}
function sa(n, i, r) {
  let u = n.indexOf(i, r);
  if (u >= 0) {
    let o = u + i.length;
    return [o, {
      head: n.substr(0, u),
      tail: n.substr(o)
    }];
  }
  return [-1, null];
}
function wc(n, i, r) {
  r.update((u) => u.set(i, n));
}
function Tm(n) {
  It(n), n.clear();
}
function so(n, i, r, u) {
  let o = document.createElement(n);
  return o.className = i, r ? o.innerHTML = r : u && (o.innerText = u), o;
}
function Sm(n) {
  return n.scrollHeight > n.clientHeight;
}
function ni(n) {
  return n.getBoundingClientRect();
}
function ua(n, i) {
  for (; i--; )
    n = n.parentElement;
  return n;
}
function Dm(n) {
  return ni(n).height;
}
let Do = vm();
function yc(n, i) {
  n[Do] = i;
}
function Em(n) {
  return !!(n != null && n[Do]);
}
function Cs(n) {
  return n[Do];
}
function Si(n, i, r = document) {
  for (let u of r.elementsFromPoint(n, i)) {
    if (Em(u))
      return u;
    if (u.shadowRoot) {
      let o = Si(n, i, u.shadowRoot);
      if (o)
        return o;
    }
  }
  return null;
}
function km(n, i, r, u) {
  return {
    type: n,
    title: i,
    currentStart: r.start,
    currentEnd: r.end,
    activeStart: u.start,
    activeEnd: u.end,
    calendar: void 0
  };
}
function xt(n) {
  return n = zn({}, n), n.currentStart = At(n.currentStart), n.currentEnd = At(n.currentEnd), n.activeStart = At(n.activeStart), n.activeEnd = At(n.activeEnd), n;
}
let Am = 1;
function bc(n) {
  return n.map((i) => ({
    id: "id" in i ? String(i.id) : `{generated-${Am++}}`,
    resourceIds: Array.isArray(i.resourceIds) ? i.resourceIds.map(String) : "resourceId" in i ? [String(i.resourceId)] : [],
    allDay: i.allDay ?? (ra(i.start) && ra(i.end)),
    start: qn(i.start),
    end: qn(i.end),
    title: i.title || "",
    titleHTML: i.titleHTML || "",
    editable: i.editable,
    startEditable: i.startEditable,
    durationEditable: i.durationEditable,
    display: i.display || "auto",
    extendedProps: i.extendedProps || {},
    backgroundColor: i.backgroundColor || i.color,
    textColor: i.textColor
  }));
}
function Im(n) {
  return n.map((i) => ({
    events: i.events,
    url: i.url && i.url.trimEnd("&") || "",
    method: i.method && i.method.toUpperCase() || "GET",
    extraParams: i.extraParams || {}
  }));
}
function As(n, i, r) {
  return {
    start: n.start > i ? n.start : i,
    end: n.end < r ? n.end : r,
    event: n
  };
}
function Cc(n) {
  n.sort((i, r) => i.start - r.start || r.event.allDay - i.event.allDay);
}
function oa(n, i) {
  let r = {};
  if (n.length) {
    Cc(n);
    let u;
    for (let o of n) {
      let a = [], l = xn(Ue(o.start));
      for (; o.end > l; ) {
        if (!i.includes(l.getUTCDay()) && (a.push(Ue(l)), a.length > 1)) {
          let c = l.getTime();
          r[c] ? r[c].chunks.push(o) : r[c] = {
            sorted: !1,
            chunks: [o]
          };
        }
        ti(l);
      }
      a.length ? (o.date = a[0], o.days = a.length, o.dates = a, o.start < a[0] && (o.start = a[0]), xn(Ue(o.end)) > a[a.length - 1] && (o.end = a[a.length - 1])) : (o.date = xn(Ue(o.start)), o.days = 1, o.dates = [o.date]), u && Yn(u.date, o.date) && (o.prev = u), u = o;
    }
  }
  return r;
}
function Rm(n, i, r) {
  var a, l;
  n.top = 0, n.prev && (n.top = n.prev.bottom + 1), n.bottom = n.top + r;
  let u = 1, o = n.date.getTime();
  if ((a = i[o]) != null && a.sorted || (l = i[o]) != null && l.chunks.every((c) => "top" in c)) {
    i[o].sorted || (i[o].chunks.sort((c, _) => c.top - _.top), i[o].sorted = !0);
    for (let c of i[o].chunks)
      if (n.top < c.bottom && n.bottom > c.top) {
        let _ = c.bottom - n.top + 1;
        u += _, n.top += _, n.bottom += _;
      }
  }
  return u;
}
function Tc(n, i, r, u, o, a) {
  let l = o.format(n.start), c;
  if (i && n.event.display !== "pointer" && (l += ` - ${o.format(n.end)}`), r)
    c = he(r) ? r({
      event: $t(n.event),
      timeText: l,
      view: xt(a)
    }) : r;
  else
    switch (n.event.display) {
      case "background":
        c = "";
        break;
      case "pointer":
        c = {
          domNodes: [so("div", u.eventTime, null, l)]
        };
        break;
      default:
        c = {
          domNodes: [
            ...n.event.allDay ? [] : [so("div", u.eventTime, null, l)],
            so("div", u.eventTitle, n.event.titleHTML, n.event.title)
          ]
        };
    }
  return [l, c];
}
function Sc(n, i, r) {
  return n ? (he(n) && (n = n({
    event: $t(i),
    view: xt(r)
  })), Array.isArray(n) ? n : [n]) : [];
}
function $t(n) {
  return Dc(n, At);
}
function la(n) {
  return Dc(n, Ue);
}
function Dc(n, i) {
  return n = zn({}, n), n.start = i(n.start), n.end = i(n.end), n;
}
function Is(n, i, r, u, o) {
  return (n.start < r && n.end > i || !o && Yn(n.start, n.end, i)) && (u === void 0 || n.resourceIds.includes(u.id));
}
function Kn(n) {
  return Ec(n) || kc(n) || Lm(n);
}
function Hn(n) {
  return n === "background";
}
function Ec(n) {
  return n === "preview";
}
function kc(n) {
  return n === "ghost";
}
function Lm(n) {
  return n === "pointer";
}
function Om(n, i, r) {
  return {
    ...vt(i ? i(n) : n, r),
    parse: i
  };
}
function Ac(n, i, r) {
  let u = r, o = !1, a = i.length < 2, c = Yt(n, (_, g) => (o = !0, a ? (u = i(_, g), g(u)) : i(_, (v) => {
    u = v, g(v);
  }), () => {
    o = !1;
  }), u);
  return {
    ...c,
    get: () => o ? u : yo(c)
  };
}
function uo(n, i) {
  return Yt([n, i], ([r, u]) => {
    let o = he(u) ? { format: u } : new Intl.DateTimeFormat(r, u);
    return {
      format: (a) => o.format(At(a))
    };
  });
}
function Pm(n, i) {
  return Yt([n, i], ([r, u]) => {
    if (he(u))
      return { format: (a, l) => u(At(a), At(l)) };
    let o = new Intl.DateTimeFormat(r, u);
    return {
      format: (a, l) => wm(At(a), At(l), o)
    };
  });
}
function Mm(n) {
  var r;
  let i = {
    allDayContent: void 0,
    allDaySlot: !0,
    buttonText: {
      today: "today"
    },
    date: /* @__PURE__ */ new Date(),
    datesSet: void 0,
    dayHeaderFormat: {
      weekday: "short",
      month: "numeric",
      day: "numeric"
    },
    displayEventEnd: !0,
    duration: { weeks: 1 },
    events: [],
    eventBackgroundColor: void 0,
    eventTextColor: void 0,
    eventClassNames: void 0,
    eventClick: void 0,
    eventColor: void 0,
    eventContent: void 0,
    eventDidMount: void 0,
    eventMouseEnter: void 0,
    eventMouseLeave: void 0,
    eventSources: [],
    eventTimeFormat: {
      hour: "numeric",
      minute: "2-digit"
    },
    firstDay: 0,
    flexibleSlotTimeLimits: !1,
    // ec option
    headerToolbar: {
      start: "title",
      center: "",
      end: "today prev,next"
    },
    height: "auto",
    hiddenDays: [],
    highlightedDates: [],
    // ec option
    lazyFetching: !0,
    loading: void 0,
    locale: void 0,
    nowIndicator: !1,
    selectable: !1,
    scrollTime: "06:00:00",
    slotDuration: "00:30:00",
    slotEventOverlap: !0,
    slotHeight: 24,
    // ec option
    slotLabelFormat: {
      hour: "numeric",
      minute: "2-digit"
    },
    slotMaxTime: "24:00:00",
    slotMinTime: "00:00:00",
    theme: {
      allDay: "ec-all-day",
      active: "ec-active",
      bgEvent: "ec-bg-event",
      bgEvents: "ec-bg-events",
      body: "ec-body",
      button: "ec-button",
      buttonGroup: "ec-button-group",
      calendar: "ec",
      compact: "ec-compact",
      content: "ec-content",
      day: "ec-day",
      dayHead: "ec-day-head",
      days: "ec-days",
      event: "ec-event",
      eventBody: "ec-event-body",
      eventTime: "ec-event-time",
      eventTitle: "ec-event-title",
      events: "ec-events",
      extra: "ec-extra",
      handle: "ec-handle",
      header: "ec-header",
      hiddenScroll: "ec-hidden-scroll",
      highlight: "ec-highlight",
      icon: "ec-icon",
      line: "ec-line",
      lines: "ec-lines",
      nowIndicator: "ec-now-indicator",
      otherMonth: "ec-other-month",
      sidebar: "ec-sidebar",
      sidebarTitle: "ec-sidebar-title",
      today: "ec-today",
      time: "ec-time",
      title: "ec-title",
      toolbar: "ec-toolbar",
      week: "ec-week",
      withScroll: "ec-with-scroll"
    },
    titleFormat: {
      year: "numeric",
      month: "short",
      day: "numeric"
    },
    view: void 0,
    viewDidMount: void 0,
    views: {}
  };
  for (let u of n)
    (r = u.createOptions) == null || r.call(u, i);
  return i;
}
function Um(n, i) {
  var u;
  let r = {
    buttonText: (o) => he(o) ? o(n.buttonText) : o,
    date: (o) => xn(qn(o)),
    duration: mn,
    events: bc,
    eventSources: Im,
    hiddenDays: (o) => [...new Set(o)],
    highlightedDates: (o) => o.map(qn),
    scrollTime: mn,
    slotDuration: mn,
    slotMaxTime: mn,
    slotMinTime: mn,
    theme: (o) => he(o) ? o(n.theme) : o
  };
  for (let o of i)
    (u = o.createParsers) == null || u.call(o, r, n);
  return r;
}
let oo;
function Fm(n) {
  let i = [];
  if (oo)
    for (let r of Object.keys(n))
      n[r] !== oo[r] && i.push([r, n[r]]);
  return oo = zn({}, n), i;
}
function Bm(n) {
  return Yt(n.view, (i) => i == null ? void 0 : i.startsWith("dayGrid"));
}
function Wm(n) {
  return Yt(
    [n._currentRange, n.firstDay, n.slotMaxTime, n._monthMode],
    ([i, r, u, o]) => {
      let a = Ue(i.start), l = Ue(i.end);
      if (o)
        vc(a, r), ym(l, r);
      else if (u.days || u.seconds > vo) {
        nt(Ri(l), u);
        let c = Ri(Ue(l));
        c < a && (a = c);
      }
      return { start: a, end: l };
    }
  );
}
function Nm(n) {
  return Yt(
    [n.date, n.duration, n.firstDay, n._monthMode],
    ([i, r, u, o]) => {
      let a = Ue(i), l;
      return o ? a.setUTCDate(1) : r.inWeeks && vc(a, u), l = nt(Ue(a), r), { start: a, end: l };
    }
  );
}
function Hm(n) {
  return Ac([n._activeRange, n.hiddenDays], ([i, r]) => {
    let u = [], o = xn(Ue(i.start)), a = xn(Ue(i.end));
    for (; o < a; )
      r.includes(o.getUTCDay()) || u.push(Ue(o)), ti(o);
    return !u.length && r.length && r.length < 7 && (n.date.update((l) => {
      for (; r.includes(l.getUTCDay()); )
        ti(l);
      return l;
    }), u = n._viewDates.get()), u;
  });
}
function Gm(n) {
  return Yt(
    [n.date, n._activeRange, n._titleIntlRange, n._monthMode],
    ([i, r, u, o]) => o ? u.format(i, i) : u.format(r.start, Ri(Ue(r.end)))
  );
}
function zm(n) {
  return Ac([n.view, n._viewTitle, n._currentRange, n._activeRange], (i) => km(...i));
}
function xm(n) {
  let i = vt([]), r, u = 0, o = {};
  return Yt(
    [n.events, n.eventSources, n._activeRange, n._fetchedRange, n.lazyFetching, n.loading],
    (a, l) => wc(() => {
      let [c, _, g, v, C, w] = a;
      if (!_.length) {
        l(c);
        return;
      }
      if (!v.start || v.start > g.start || v.end < g.end || !C) {
        r && r.abort(), r = new AbortController(), he(w) && !u && w(!0);
        let T = () => {
          --u === 0 && he(w) && w(!1);
        }, E = [], F = (B) => T(), R = (B) => {
          E = E.concat(bc(B)), l(E), T();
        }, A = Er(g.start), L = Er(g.end);
        for (let B of _) {
          if (he(B.events)) {
            let W = B.events({
              start: At(g.start),
              end: At(g.end),
              startStr: A,
              endStr: L
            }, R, F);
            W !== void 0 && Promise.resolve(W).then(R, F);
          } else {
            let W = he(B.extraParams) ? B.extraParams() : zn({}, B.extraParams);
            W.start = A, W.end = L, W = new URLSearchParams(W);
            let N = B.url, O = {}, D;
            ["GET", "HEAD"].includes(B.method) ? N += (N.includes("?") ? "&" : "?") + W : (O["content-type"] = "application/x-www-form-urlencoded;charset=UTF-8", D = String(W)), fetch(N, { method: B.method, headers: O, body: D, signal: r.signal, credentials: "same-origin" }).then((Y) => Y.json()).then(R).catch(F);
          }
          ++u;
        }
        v.start = g.start, v.end = g.end;
      }
    }, o, n._queue),
    []
  ).subscribe(i.set), i;
}
function Ym() {
  return ac(qn(), (n) => {
    let i = setInterval(() => {
      n(qn());
    }, 1e3);
    return () => clearInterval(i);
  });
}
function qm(n) {
  return Yt(n._now, (i) => xn(Ue(i)));
}
class Km {
  constructor(i, r) {
    var c, _;
    i = i || [];
    let u = Mm(i), o = Um(u, i);
    for (let [g, v] of Object.entries(u))
      this[g] = Om(v, o[g]);
    this._queue = vt(/* @__PURE__ */ new Map()), this._auxiliary = vt([]), this._monthMode = Bm(this), this._currentRange = Nm(this), this._activeRange = Wm(this), this._fetchedRange = vt({ start: void 0, end: void 0 }), this._events = xm(this), this._now = Ym(), this._today = qm(this), this._intlEventTime = uo(this.locale, this.eventTimeFormat), this._intlSlotLabel = uo(this.locale, this.slotLabelFormat), this._intlDayHeader = uo(this.locale, this.dayHeaderFormat), this._titleIntlRange = Pm(this.locale, this.titleFormat), this._bodyEl = vt(void 0), this._scrollable = vt(!1), this._viewTitle = Gm(this), this._viewDates = Hm(this), this._view = zm(this), this._viewClass = vt(void 0), this._viewComponent = vt(void 0), this._resBgColor = vt(Me), this._resTxtColor = vt(Me), this._interaction = vt({}), this._iEvents = vt([null, null]), this._iClasses = vt(W0), this._iClass = vt(void 0);
    for (let g of i)
      (c = g.createStores) == null || c.call(g, this);
    r.view && this.view.set(r.view);
    let a = zn({}, u, r);
    fa(a, this);
    let l = /* @__PURE__ */ new Set([...Object.keys(u.views), ...Object.keys(r.views || {})]);
    for (let g of l) {
      let v = zn({}, u.views[g] ?? {}, ((_ = r.views) == null ? void 0 : _[g]) ?? {});
      fa(v, this);
      let C = zn({}, a, v);
      this.view.subscribe((w) => {
        w === g && (this._viewComponent.set(C.component), he(C.viewDidMount) && lc().then(() => C.viewDidMount(this._view.get())));
      });
      for (let w of Object.keys(C))
        if (this.hasOwnProperty(w) && w[0] !== "_") {
          let { set: T, _set: E, ...F } = this[w];
          E || (E = T), this[w] = {
            // Set value in all views
            set: (R) => {
              C[w] = R, T(R);
            },
            _set: E,
            ...F
          }, this.view.subscribe((R) => {
            R === g && E(C[w]);
          });
        }
    }
  }
}
function fa(n, i) {
  for (let r of Object.keys(n))
    i.hasOwnProperty(r) && r[0] !== "_" && i[r].parse && (n[r] = i[r].parse(n[r]));
}
function aa(n, i, r) {
  const u = n.slice();
  return u[23] = i[r], u;
}
function Xm(n) {
  let i, r = (
    /*$buttonText*/
    n[5][
      /*button*/
      n[23]
    ] + ""
  ), u, o, a, l;
  function c() {
    return (
      /*click_handler_1*/
      n[20](
        /*button*/
        n[23]
      )
    );
  }
  return {
    c() {
      i = se("button"), u = kn(r), z(i, "class", o = /*$theme*/
      n[3].button + /*$view*/
      (n[6] === /*button*/
      n[23] ? " " + /*$theme*/
      n[3].active : "") + " ec-" + /*button*/
      n[23]);
    },
    m(_, g) {
      ue(_, i, g), le(i, u), a || (l = ye(i, "click", c), a = !0);
    },
    p(_, g) {
      n = _, g & /*$buttonText, buttons*/
      33 && r !== (r = /*$buttonText*/
      n[5][
        /*button*/
        n[23]
      ] + "") && kr(u, r), g & /*$theme, $view, buttons*/
      73 && o !== (o = /*$theme*/
      n[3].button + /*$view*/
      (n[6] === /*button*/
      n[23] ? " " + /*$theme*/
      n[3].active : "") + " ec-" + /*button*/
      n[23]) && z(i, "class", o);
    },
    d(_) {
      _ && ie(i), a = !1, l();
    }
  };
}
function Zm(n) {
  let i, r = (
    /*$buttonText*/
    n[5][
      /*button*/
      n[23]
    ] + ""
  ), u, o, a, l;
  return {
    c() {
      i = se("button"), u = kn(r), z(i, "class", o = /*$theme*/
      n[3].button + " ec-" + /*button*/
      n[23]), i.disabled = /*isToday*/
      n[1];
    },
    m(c, _) {
      ue(c, i, _), le(i, u), a || (l = ye(
        i,
        "click",
        /*click_handler*/
        n[19]
      ), a = !0);
    },
    p(c, _) {
      _ & /*$buttonText, buttons*/
      33 && r !== (r = /*$buttonText*/
      c[5][
        /*button*/
        c[23]
      ] + "") && kr(u, r), _ & /*$theme, buttons*/
      9 && o !== (o = /*$theme*/
      c[3].button + " ec-" + /*button*/
      c[23]) && z(i, "class", o), _ & /*isToday*/
      2 && (i.disabled = /*isToday*/
      c[1]);
    },
    d(c) {
      c && ie(i), a = !1, l();
    }
  };
}
function Jm(n) {
  let i, r, u, o, a, l, c;
  return {
    c() {
      i = se("button"), r = se("i"), z(r, "class", u = /*$theme*/
      n[3].icon + " ec-" + /*button*/
      n[23]), z(i, "class", o = /*$theme*/
      n[3].button + " ec-" + /*button*/
      n[23]), z(i, "aria-label", a = /*$buttonText*/
      n[5].next);
    },
    m(_, g) {
      ue(_, i, g), le(i, r), l || (c = ye(
        i,
        "click",
        /*next*/
        n[17]
      ), l = !0);
    },
    p(_, g) {
      g & /*$theme, buttons*/
      9 && u !== (u = /*$theme*/
      _[3].icon + " ec-" + /*button*/
      _[23]) && z(r, "class", u), g & /*$theme, buttons*/
      9 && o !== (o = /*$theme*/
      _[3].button + " ec-" + /*button*/
      _[23]) && z(i, "class", o), g & /*$buttonText*/
      32 && a !== (a = /*$buttonText*/
      _[5].next) && z(i, "aria-label", a);
    },
    d(_) {
      _ && ie(i), l = !1, c();
    }
  };
}
function Qm(n) {
  let i, r, u, o, a, l, c;
  return {
    c() {
      i = se("button"), r = se("i"), z(r, "class", u = /*$theme*/
      n[3].icon + " ec-" + /*button*/
      n[23]), z(i, "class", o = /*$theme*/
      n[3].button + " ec-" + /*button*/
      n[23]), z(i, "aria-label", a = /*$buttonText*/
      n[5].prev);
    },
    m(_, g) {
      ue(_, i, g), le(i, r), l || (c = ye(
        i,
        "click",
        /*prev*/
        n[16]
      ), l = !0);
    },
    p(_, g) {
      g & /*$theme, buttons*/
      9 && u !== (u = /*$theme*/
      _[3].icon + " ec-" + /*button*/
      _[23]) && z(r, "class", u), g & /*$theme, buttons*/
      9 && o !== (o = /*$theme*/
      _[3].button + " ec-" + /*button*/
      _[23]) && z(i, "class", o), g & /*$buttonText*/
      32 && a !== (a = /*$buttonText*/
      _[5].prev) && z(i, "aria-label", a);
    },
    d(_) {
      _ && ie(i), l = !1, c();
    }
  };
}
function Vm(n) {
  let i, r, u;
  return {
    c() {
      i = se("h2"), r = kn(
        /*$_viewTitle*/
        n[4]
      ), z(i, "class", u = /*$theme*/
      n[3].title);
    },
    m(o, a) {
      ue(o, i, a), le(i, r);
    },
    p(o, a) {
      a & /*$_viewTitle*/
      16 && kr(
        r,
        /*$_viewTitle*/
        o[4]
      ), a & /*$theme*/
      8 && u !== (u = /*$theme*/
      o[3].title) && z(i, "class", u);
    },
    d(o) {
      o && ie(i);
    }
  };
}
function ca(n) {
  let i;
  function r(a, l) {
    if (
      /*button*/
      a[23] == "title"
    )
      return Vm;
    if (
      /*button*/
      a[23] == "prev"
    )
      return Qm;
    if (
      /*button*/
      a[23] == "next"
    )
      return Jm;
    if (
      /*button*/
      a[23] == "today"
    )
      return Zm;
    if (
      /*button*/
      a[23] != ""
    )
      return Xm;
  }
  let u = r(n), o = u && u(n);
  return {
    c() {
      o && o.c(), i = Ft();
    },
    m(a, l) {
      o && o.m(a, l), ue(a, i, l);
    },
    p(a, l) {
      u === (u = r(a)) && o ? o.p(a, l) : (o && o.d(1), o = u && u(a), o && (o.c(), o.m(i.parentNode, i)));
    },
    d(a) {
      a && ie(i), o && o.d(a);
    }
  };
}
function jm(n) {
  let i, r = Ge(
    /*buttons*/
    n[0]
  ), u = [];
  for (let o = 0; o < r.length; o += 1)
    u[o] = ca(aa(n, r, o));
  return {
    c() {
      for (let o = 0; o < u.length; o += 1)
        u[o].c();
      i = Ft();
    },
    m(o, a) {
      for (let l = 0; l < u.length; l += 1)
        u[l] && u[l].m(o, a);
      ue(o, i, a);
    },
    p(o, [a]) {
      if (a & /*$theme, $_viewTitle, buttons, $buttonText, prev, next, isToday, $date, today, $view*/
      229503) {
        r = Ge(
          /*buttons*/
          o[0]
        );
        let l;
        for (l = 0; l < r.length; l += 1) {
          const c = aa(o, r, l);
          u[l] ? u[l].p(c, a) : (u[l] = ca(c), u[l].c(), u[l].m(i.parentNode, i));
        }
        for (; l < u.length; l += 1)
          u[l].d(1);
        u.length = r.length;
      }
    },
    i: Me,
    o: Me,
    d(o) {
      o && ie(i), vn(u, o);
    }
  };
}
function $m(n, i, r) {
  let u, o, a, l, c, _, g, v, { buttons: C } = i, { _currentRange: w, _viewTitle: T, buttonText: E, date: F, duration: R, hiddenDays: A, theme: L, view: B } = wt("state");
  k(n, w, (X) => r(18, l = X)), k(n, T, (X) => r(4, _ = X)), k(n, E, (X) => r(5, g = X)), k(n, F, (X) => r(2, o = X)), k(n, R, (X) => r(21, u = X)), k(n, A, (X) => r(22, a = X)), k(n, L, (X) => r(3, c = X)), k(n, B, (X) => r(6, v = X));
  let W = xn(qn()), N;
  function O() {
    let X = mc(o, u);
    if (a.length && a.length < 7)
      for (; a.includes(X.getUTCDay()); )
        Ri(X);
    We(F, o = X, o);
  }
  function D() {
    We(F, o = nt(o, u), o);
  }
  const Y = () => We(F, o = Ue(W), o), q = (X) => We(B, v = X, v);
  return n.$$set = (X) => {
    "buttons" in X && r(0, C = X.buttons);
  }, n.$$.update = () => {
    n.$$.dirty & /*$_currentRange*/
    262144 && r(1, N = W >= l.start && W < l.end || null);
  }, [
    C,
    N,
    o,
    c,
    _,
    g,
    v,
    w,
    T,
    E,
    F,
    R,
    A,
    L,
    B,
    W,
    O,
    D,
    l,
    Y,
    q
  ];
}
class Ic extends it {
  constructor(i) {
    super(), rt(this, i, $m, jm, Ze, { buttons: 0 });
  }
}
function ha(n, i, r) {
  const u = n.slice();
  return u[5] = i[r], u;
}
function _a(n, i, r) {
  const u = n.slice();
  return u[8] = i[r], u;
}
function ev(n) {
  let i, r;
  return i = new Ic({ props: { buttons: (
    /*buttons*/
    n[8]
  ) } }), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o & /*sections*/
      1 && (a.buttons = /*buttons*/
      u[8]), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function tv(n) {
  let i, r, u, o;
  return r = new Ic({ props: { buttons: (
    /*buttons*/
    n[8]
  ) } }), {
    c() {
      i = se("div"), Oe(r.$$.fragment), z(i, "class", u = /*$theme*/
      n[1].buttonGroup);
    },
    m(a, l) {
      ue(a, i, l), Re(r, i, null), o = !0;
    },
    p(a, l) {
      const c = {};
      l & /*sections*/
      1 && (c.buttons = /*buttons*/
      a[8]), r.$set(c), (!o || l & /*$theme*/
      2 && u !== (u = /*$theme*/
      a[1].buttonGroup)) && z(i, "class", u);
    },
    i(a) {
      o || (x(r.$$.fragment, a), o = !0);
    },
    o(a) {
      j(r.$$.fragment, a), o = !1;
    },
    d(a) {
      a && ie(i), Ae(r);
    }
  };
}
function da(n) {
  let i, r, u, o;
  const a = [tv, ev], l = [];
  function c(_, g) {
    return (
      /*buttons*/
      _[8].length > 1 ? 0 : 1
    );
  }
  return i = c(n), r = l[i] = a[i](n), {
    c() {
      r.c(), u = Ft();
    },
    m(_, g) {
      l[i].m(_, g), ue(_, u, g), o = !0;
    },
    p(_, g) {
      let v = i;
      i = c(_), i === v ? l[i].p(_, g) : (ft(), j(l[v], 1, 1, () => {
        l[v] = null;
      }), at(), r = l[i], r ? r.p(_, g) : (r = l[i] = a[i](_), r.c()), x(r, 1), r.m(u.parentNode, u));
    },
    i(_) {
      o || (x(r), o = !0);
    },
    o(_) {
      j(r), o = !1;
    },
    d(_) {
      _ && ie(u), l[i].d(_);
    }
  };
}
function ga(n) {
  let i, r, u, o = Ge(
    /*sections*/
    n[0][
      /*key*/
      n[5]
    ]
  ), a = [];
  for (let c = 0; c < o.length; c += 1)
    a[c] = da(_a(n, o, c));
  const l = (c) => j(a[c], 1, 1, () => {
    a[c] = null;
  });
  return {
    c() {
      i = se("div");
      for (let c = 0; c < a.length; c += 1)
        a[c].c();
      r = Ne();
    },
    m(c, _) {
      ue(c, i, _);
      for (let g = 0; g < a.length; g += 1)
        a[g] && a[g].m(i, null);
      le(i, r), u = !0;
    },
    p(c, _) {
      if (_ & /*$theme, sections, Object*/
      3) {
        o = Ge(
          /*sections*/
          c[0][
            /*key*/
            c[5]
          ]
        );
        let g;
        for (g = 0; g < o.length; g += 1) {
          const v = _a(c, o, g);
          a[g] ? (a[g].p(v, _), x(a[g], 1)) : (a[g] = da(v), a[g].c(), x(a[g], 1), a[g].m(i, r));
        }
        for (ft(), g = o.length; g < a.length; g += 1)
          l(g);
        at();
      }
    },
    i(c) {
      if (!u) {
        for (let _ = 0; _ < o.length; _ += 1)
          x(a[_]);
        u = !0;
      }
    },
    o(c) {
      a = a.filter(Boolean);
      for (let _ = 0; _ < a.length; _ += 1)
        j(a[_]);
      u = !1;
    },
    d(c) {
      c && ie(i), vn(a, c);
    }
  };
}
function nv(n) {
  let i, r, u, o = Ge(Object.keys(
    /*sections*/
    n[0]
  )), a = [];
  for (let c = 0; c < o.length; c += 1)
    a[c] = ga(ha(n, o, c));
  const l = (c) => j(a[c], 1, 1, () => {
    a[c] = null;
  });
  return {
    c() {
      i = se("div");
      for (let c = 0; c < a.length; c += 1)
        a[c].c();
      z(i, "class", r = /*$theme*/
      n[1].toolbar);
    },
    m(c, _) {
      ue(c, i, _);
      for (let g = 0; g < a.length; g += 1)
        a[g] && a[g].m(i, null);
      u = !0;
    },
    p(c, [_]) {
      if (_ & /*sections, Object, $theme*/
      3) {
        o = Ge(Object.keys(
          /*sections*/
          c[0]
        ));
        let g;
        for (g = 0; g < o.length; g += 1) {
          const v = ha(c, o, g);
          a[g] ? (a[g].p(v, _), x(a[g], 1)) : (a[g] = ga(v), a[g].c(), x(a[g], 1), a[g].m(i, null));
        }
        for (ft(), g = o.length; g < a.length; g += 1)
          l(g);
        at();
      }
      (!u || _ & /*$theme*/
      2 && r !== (r = /*$theme*/
      c[1].toolbar)) && z(i, "class", r);
    },
    i(c) {
      if (!u) {
        for (let _ = 0; _ < o.length; _ += 1)
          x(a[_]);
        u = !0;
      }
    },
    o(c) {
      a = a.filter(Boolean);
      for (let _ = 0; _ < a.length; _ += 1)
        j(a[_]);
      u = !1;
    },
    d(c) {
      c && ie(i), vn(a, c);
    }
  };
}
function rv(n, i, r) {
  let u, o, { headerToolbar: a, theme: l } = wt("state");
  k(n, a, (_) => r(4, u = _)), k(n, l, (_) => r(1, o = _));
  let c = { start: [], center: [], end: [] };
  return n.$$.update = () => {
    if (n.$$.dirty & /*sections, $headerToolbar*/
    17)
      for (let _ of Object.keys(c))
        r(0, c[_] = u[_].split(" ").map((g) => g.split(",")), c);
  }, [c, o, a, l, u];
}
class iv extends it {
  constructor(i) {
    super(), rt(this, i, rv, nv, Ze, {});
  }
}
function pa(n, i, r) {
  const u = n.slice();
  return u[11] = i[r], u;
}
function ma(n) {
  let i, r, u;
  var o = (
    /*component*/
    n[11]
  );
  function a(l, c) {
    return {};
  }
  return o && (i = or(o, a())), {
    c() {
      i && Oe(i.$$.fragment), r = Ft();
    },
    m(l, c) {
      i && Re(i, l, c), ue(l, r, c), u = !0;
    },
    p(l, c) {
      if (c & /*$_auxiliary*/
      1 && o !== (o = /*component*/
      l[11])) {
        if (i) {
          ft();
          const _ = i;
          j(_.$$.fragment, 1, 0, () => {
            Ae(_, 1);
          }), at();
        }
        o ? (i = or(o, a()), Oe(i.$$.fragment), x(i.$$.fragment, 1), Re(i, r.parentNode, r)) : i = null;
      }
    },
    i(l) {
      u || (i && x(i.$$.fragment, l), u = !0);
    },
    o(l) {
      i && j(i.$$.fragment, l), u = !1;
    },
    d(l) {
      l && ie(r), i && Ae(i, l);
    }
  };
}
function sv(n) {
  let i, r, u = Ge(
    /*$_auxiliary*/
    n[0]
  ), o = [];
  for (let l = 0; l < u.length; l += 1)
    o[l] = ma(pa(n, u, l));
  const a = (l) => j(o[l], 1, 1, () => {
    o[l] = null;
  });
  return {
    c() {
      for (let l = 0; l < o.length; l += 1)
        o[l].c();
      i = Ft();
    },
    m(l, c) {
      for (let _ = 0; _ < o.length; _ += 1)
        o[_] && o[_].m(l, c);
      ue(l, i, c), r = !0;
    },
    p(l, [c]) {
      if (c & /*$_auxiliary*/
      1) {
        u = Ge(
          /*$_auxiliary*/
          l[0]
        );
        let _;
        for (_ = 0; _ < u.length; _ += 1) {
          const g = pa(l, u, _);
          o[_] ? (o[_].p(g, c), x(o[_], 1)) : (o[_] = ma(g), o[_].c(), x(o[_], 1), o[_].m(i.parentNode, i));
        }
        for (ft(), _ = u.length; _ < o.length; _ += 1)
          a(_);
        at();
      }
    },
    i(l) {
      if (!r) {
        for (let c = 0; c < u.length; c += 1)
          x(o[c]);
        r = !0;
      }
    },
    o(l) {
      o = o.filter(Boolean);
      for (let c = 0; c < o.length; c += 1)
        j(o[c]);
      r = !1;
    },
    d(l) {
      l && ie(i), vn(o, l);
    }
  };
}
function uv(n, i, r) {
  let u, o, a, l, { datesSet: c, _auxiliary: _, _activeRange: g, _queue: v, _view: C } = wt("state");
  k(n, c, (E) => r(7, o = E)), k(n, _, (E) => r(0, l = E)), k(n, g, (E) => r(5, a = E)), k(n, C, (E) => r(6, u = E));
  let w = {};
  function T(E) {
    he(o) && wc(
      () => o({
        start: At(E.start),
        end: At(E.end),
        startStr: Er(E.start),
        endStr: Er(E.end),
        view: xt(u)
      }),
      w,
      v
    );
  }
  return n.$$.update = () => {
    n.$$.dirty & /*$_activeRange*/
    32 && T(a);
  }, [l, c, _, g, C, a];
}
let ov = class extends it {
  constructor(i) {
    super(), rt(this, i, uv, sv, Ze, {});
  }
};
function lv(n) {
  let i, r, u, o, a, l, c, _, g, v;
  r = new iv({});
  var C = (
    /*$_viewComponent*/
    n[5]
  );
  function w(T, E) {
    return {};
  }
  return C && (o = or(C, w())), c = new ov({}), {
    c() {
      i = se("div"), Oe(r.$$.fragment), u = Ne(), o && Oe(o.$$.fragment), l = Ne(), Oe(c.$$.fragment), z(i, "class", a = /*$theme*/
      n[1].calendar + /*$_viewClass*/
      (n[2] ? " " + /*$theme*/
      n[1][
        /*$_viewClass*/
        n[2]
      ] : "") + /*$_scrollable*/
      (n[0] ? " " + /*$theme*/
      n[1].withScroll : "") + /*$_iClass*/
      (n[3] ? " " + /*$theme*/
      n[1][
        /*$_iClass*/
        n[3]
      ] : "")), Ds(
        i,
        "height",
        /*$height*/
        n[4]
      );
    },
    m(T, E) {
      ue(T, i, E), Re(r, i, null), le(i, u), o && Re(o, i, null), ue(T, l, E), Re(c, T, E), _ = !0, g || (v = ye(
        window,
        "resize",
        /*recheckScrollable*/
        n[18]
      ), g = !0);
    },
    p(T, E) {
      if (E[0] & /*$_viewComponent*/
      32 && C !== (C = /*$_viewComponent*/
      T[5])) {
        if (o) {
          ft();
          const F = o;
          j(F.$$.fragment, 1, 0, () => {
            Ae(F, 1);
          }), at();
        }
        C ? (o = or(C, w()), Oe(o.$$.fragment), x(o.$$.fragment, 1), Re(o, i, null)) : o = null;
      }
      (!_ || E[0] & /*$theme, $_viewClass, $_scrollable, $_iClass*/
      15 && a !== (a = /*$theme*/
      T[1].calendar + /*$_viewClass*/
      (T[2] ? " " + /*$theme*/
      T[1][
        /*$_viewClass*/
        T[2]
      ] : "") + /*$_scrollable*/
      (T[0] ? " " + /*$theme*/
      T[1].withScroll : "") + /*$_iClass*/
      (T[3] ? " " + /*$theme*/
      T[1][
        /*$_iClass*/
        T[3]
      ] : ""))) && z(i, "class", a), (!_ || E[0] & /*$height*/
      16) && Ds(
        i,
        "height",
        /*$height*/
        T[4]
      );
    },
    i(T) {
      _ || (x(r.$$.fragment, T), o && x(o.$$.fragment, T), x(c.$$.fragment, T), _ = !0);
    },
    o(T) {
      j(r.$$.fragment, T), o && j(o.$$.fragment, T), j(c.$$.fragment, T), _ = !1;
    },
    d(T) {
      T && (ie(i), ie(l)), Ae(r), o && Ae(o), Ae(c, T), g = !1, v();
    }
  };
}
function fv(n, i, r) {
  let u, o, a, l, c, _, g, v, C, w, T, E, { plugins: F = [] } = i, { options: R = {} } = i, A = Ar(), L = new Km(F, R);
  Os("state", L);
  let { _viewComponent: B, _viewClass: W, _bodyEl: N, _interaction: O, _iClass: D, _events: Y, _queue: q, _scrollable: X, events: K, eventSources: $, height: de, theme: He } = L;
  k(n, B, (V) => r(5, E = V)), k(n, W, (V) => r(2, C = V)), k(n, N, (V) => r(33, u = V)), k(n, O, (V) => r(38, g = V)), k(n, D, (V) => r(3, w = V)), k(n, Y, (V) => r(35, l = V)), k(n, q, (V) => r(34, a = V)), k(n, X, (V) => r(0, o = V)), k(n, K, (V) => r(36, c = V)), k(n, $, (V) => r(37, _ = V)), k(n, de, (V) => r(4, T = V)), k(n, He, (V) => r(1, v = V));
  function me(V, Ie) {
    return L.hasOwnProperty(V) && (L[V].parse && (Ie = L[V].parse(Ie)), L[V].set(Ie)), this;
  }
  function De(V) {
    let Ie = L.hasOwnProperty(V) ? yo(L[V]) : void 0;
    return Ie instanceof Date ? At(Ie) : Ie;
  }
  function ze() {
    return L._fetchedRange.set({ start: void 0, end: void 0 }), this;
  }
  function Q() {
    return l.map($t);
  }
  function oe(V) {
    for (let Ie of l)
      if (Ie.id == V)
        return $t(Ie);
    return null;
  }
  function te(V) {
    return _t((Ie) => Ie.concat(L.events.parse([V]))), this;
  }
  function Le(V) {
    return _t((Ie) => {
      for (let Qe of Ie)
        if (Qe.id == V.id) {
          zn(Qe, L.events.parse([V])[0]);
          break;
        }
      return Ie;
    }), this;
  }
  function bt(V) {
    return _t((Ie) => Ie.filter((Qe) => Qe.id != V)), this;
  }
  function Je() {
    return xt(L._view.get());
  }
  function Ke() {
    return g.action && g.action.unselect(), this;
  }
  function ct(V, Ie) {
    let Qe = Si(V, Ie);
    return Qe ? Cs(Qe)(Ie) : null;
  }
  function ht() {
    Ae(A, !0);
  }
  function _t(V) {
    We(Y, l = V(l), l), _.length || We(K, c = l, c);
  }
  x0(() => {
    Tm(a), setTimeout($e);
  });
  function $e() {
    u && We(X, o = Sm(u), o);
  }
  return n.$$set = (V) => {
    "plugins" in V && r(19, F = V.plugins), "options" in V && r(20, R = V.options);
  }, n.$$.update = () => {
    if (n.$$.dirty[0] & /*options*/
    1048576)
      for (let [V, Ie] of Fm(R))
        me(V, Ie);
  }, [
    o,
    v,
    C,
    w,
    T,
    E,
    B,
    W,
    N,
    O,
    D,
    Y,
    q,
    X,
    K,
    $,
    de,
    He,
    $e,
    F,
    R,
    me,
    De,
    ze,
    Q,
    oe,
    te,
    Le,
    bt,
    Je,
    Ke,
    ct,
    ht
  ];
}
class av extends it {
  constructor(i) {
    super(), rt(
      this,
      i,
      fv,
      lv,
      Ze,
      {
        plugins: 19,
        options: 20,
        setOption: 21,
        getOption: 22,
        refetchEvents: 23,
        getEvents: 24,
        getEventById: 25,
        addEvent: 26,
        updateEvent: 27,
        removeEventById: 28,
        getView: 29,
        unselect: 30,
        dateFromPoint: 31,
        destroy: 32
      },
      null,
      [-1, -1]
    );
  }
  get setOption() {
    return this.$$.ctx[21];
  }
  get getOption() {
    return this.$$.ctx[22];
  }
  get refetchEvents() {
    return this.$$.ctx[23];
  }
  get getEvents() {
    return this.$$.ctx[24];
  }
  get getEventById() {
    return this.$$.ctx[25];
  }
  get addEvent() {
    return this.$$.ctx[26];
  }
  get updateEvent() {
    return this.$$.ctx[27];
  }
  get removeEventById() {
    return this.$$.ctx[28];
  }
  get getView() {
    return this.$$.ctx[29];
  }
  get unselect() {
    return this.$$.ctx[30];
  }
  get dateFromPoint() {
    return this.$$.ctx[31];
  }
  get destroy() {
    return this.$$.ctx[32];
  }
}
function cv(n) {
  return Yt(
    [n._slotTimeLimits, n._intlSlotLabel, n.slotDuration],
    ([i, r, u]) => {
      let o = u.seconds >= 3600, a = [], l = qn("2020-01-01"), c = Ue(l), _ = 1;
      for (nt(l, i.min), nt(c, i.max); l < c; )
        a.push(a.length && (_ || o) ? r.format(l) : ""), nt(l, u), _ = 1 - _;
      return a;
    }
  );
}
function hv(n) {
  return Yt(
    [n._events, n._viewDates, n.flexibleSlotTimeLimits, n.slotMinTime, n.slotMaxTime],
    ([i, r, u, o, a]) => {
      let l = mn(o), c = mn(a);
      if (u) {
        let _ = mn(Dr(l.seconds, ur(0, c.seconds - vo))), g = mn(ur(c.seconds, _.seconds + vo)), v = he(u == null ? void 0 : u.eventFilter) ? u.eventFilter : (C) => !Hn(C.display);
        e:
          for (let C of r) {
            let w = nt(Ue(C), l), T = nt(Ue(C), c), E = nt(Ue(C), _), F = nt(Ue(C), g);
            for (let R of i)
              if (!R.allDay && v(R) && R.start < F && R.end > E) {
                if (R.start < w) {
                  let A = ur((R.start - C) / 1e3, _.seconds);
                  A < l.seconds && (l.seconds = A);
                }
                if (R.end > T) {
                  let A = Dr((R.end - C) / 1e3, g.seconds);
                  A > c.seconds && (c.seconds = A);
                }
                if (l.seconds === _.seconds && c.seconds === g.seconds)
                  break e;
              }
          }
      }
      return { min: l, max: c };
    }
  );
}
function _v(n) {
  if (!n.length)
    return;
  Cc(n);
  let i = {
    columns: [],
    end: n[0].end
  };
  for (let r of n) {
    let u = 0;
    if (r.start < i.end) {
      for (; u < i.columns.length && !(i.columns[u][i.columns[u].length - 1].end <= r.start); ++u)
        ;
      r.end > i.end && (i.end = r.end);
    } else
      i = {
        columns: [],
        end: r.end
      };
    i.columns.length < u + 1 && i.columns.push([]), i.columns[u].push(r), r.group = i, r.column = u;
  }
}
function dv(n) {
  let i = "all-day", r;
  return n ? (r = he(n) ? n({ text: i }) : n, typeof r == "string" && (r = { html: r })) : r = {
    html: i
  }, r;
}
const gv = (n) => ({}), va = (n) => ({});
function wa(n, i, r) {
  const u = n.slice();
  return u[9] = i[r], u;
}
function ya(n) {
  let i, r = (
    /*time*/
    n[9] + ""
  ), u, o;
  return {
    c() {
      i = se("div"), u = kn(r), z(i, "class", o = /*$theme*/
      n[1].time);
    },
    m(a, l) {
      ue(a, i, l), le(i, u);
    },
    p(a, l) {
      l & /*$_times*/
      4 && r !== (r = /*time*/
      a[9] + "") && kr(u, r), l & /*$theme*/
      2 && o !== (o = /*$theme*/
      a[1].time) && z(i, "class", o);
    },
    d(a) {
      a && ie(i);
    }
  };
}
function pv(n) {
  let i, r, u, o, a, l, c, _, g, v, C, w, T, E, F, R = Ge(
    /*$_times*/
    n[2]
  ), A = [];
  for (let O = 0; O < R.length; O += 1)
    A[O] = ya(wa(n, R, O));
  const L = (
    /*#slots*/
    n[8].lines
  ), B = Di(
    L,
    n,
    /*$$scope*/
    n[7],
    va
  ), W = (
    /*#slots*/
    n[8].default
  ), N = Di(
    W,
    n,
    /*$$scope*/
    n[7],
    null
  );
  return {
    c() {
      i = se("div"), r = se("div"), a = Ne();
      for (let O = 0; O < A.length; O += 1)
        A[O].c();
      c = Ne(), _ = se("div"), g = se("div"), B && B.c(), C = Ne(), N && N.c(), z(r, "class", u = /*$theme*/
      n[1].sidebarTitle), z(i, "class", l = /*$theme*/
      n[1].sidebar), z(g, "class", v = /*$theme*/
      n[1].lines), z(_, "class", w = /*$theme*/
      n[1].days);
    },
    m(O, D) {
      ue(O, i, D), le(i, r), le(i, a);
      for (let Y = 0; Y < A.length; Y += 1)
        A[Y] && A[Y].m(i, null);
      ue(O, c, D), ue(O, _, D), le(_, g), B && B.m(g, null), le(_, C), N && N.m(_, null), T = !0, E || (F = bo(o = So.call(
        null,
        r,
        /*allDayText*/
        n[0]
      )), E = !0);
    },
    p(O, [D]) {
      if ((!T || D & /*$theme*/
      2 && u !== (u = /*$theme*/
      O[1].sidebarTitle)) && z(r, "class", u), o && he(o.update) && D & /*allDayText*/
      1 && o.update.call(
        null,
        /*allDayText*/
        O[0]
      ), D & /*$theme, $_times*/
      6) {
        R = Ge(
          /*$_times*/
          O[2]
        );
        let Y;
        for (Y = 0; Y < R.length; Y += 1) {
          const q = wa(O, R, Y);
          A[Y] ? A[Y].p(q, D) : (A[Y] = ya(q), A[Y].c(), A[Y].m(i, null));
        }
        for (; Y < A.length; Y += 1)
          A[Y].d(1);
        A.length = R.length;
      }
      (!T || D & /*$theme*/
      2 && l !== (l = /*$theme*/
      O[1].sidebar)) && z(i, "class", l), B && B.p && (!T || D & /*$$scope*/
      128) && ki(
        B,
        L,
        O,
        /*$$scope*/
        O[7],
        T ? Ei(
          L,
          /*$$scope*/
          O[7],
          D,
          gv
        ) : Ai(
          /*$$scope*/
          O[7]
        ),
        va
      ), (!T || D & /*$theme*/
      2 && v !== (v = /*$theme*/
      O[1].lines)) && z(g, "class", v), N && N.p && (!T || D & /*$$scope*/
      128) && ki(
        N,
        W,
        O,
        /*$$scope*/
        O[7],
        T ? Ei(
          W,
          /*$$scope*/
          O[7],
          D,
          null
        ) : Ai(
          /*$$scope*/
          O[7]
        ),
        null
      ), (!T || D & /*$theme*/
      2 && w !== (w = /*$theme*/
      O[1].days)) && z(_, "class", w);
    },
    i(O) {
      T || (x(B, O), x(N, O), T = !0);
    },
    o(O) {
      j(B, O), j(N, O), T = !1;
    },
    d(O) {
      O && (ie(i), ie(c), ie(_)), vn(A, O), B && B.d(O), N && N.d(O), E = !1, F();
    }
  };
}
function mv(n, i, r) {
  let u, o, a, { $$slots: l = {}, $$scope: c } = i, { allDayContent: _, theme: g, _times: v } = wt("state");
  k(n, _, (w) => r(6, u = w)), k(n, g, (w) => r(1, o = w)), k(n, v, (w) => r(2, a = w));
  let C;
  return n.$$set = (w) => {
    "$$scope" in w && r(7, c = w.$$scope);
  }, n.$$.update = () => {
    n.$$.dirty & /*$allDayContent*/
    64 && r(0, C = dv(u));
  }, [
    C,
    o,
    a,
    _,
    g,
    v,
    u,
    c,
    l
  ];
}
class Eo extends it {
  constructor(i) {
    super(), rt(this, i, mv, pv, Ze, {});
  }
}
function ba(n, i, r) {
  const u = n.slice();
  return u[24] = i[r], u;
}
function vv(n) {
  let i;
  const r = (
    /*#slots*/
    n[16].default
  ), u = Di(
    r,
    n,
    /*$$scope*/
    n[18],
    null
  );
  return {
    c() {
      u && u.c();
    },
    m(o, a) {
      u && u.m(o, a), i = !0;
    },
    p(o, a) {
      u && u.p && (!i || a & /*$$scope*/
      262144) && ki(
        u,
        r,
        o,
        /*$$scope*/
        o[18],
        i ? Ei(
          r,
          /*$$scope*/
          o[18],
          a,
          null
        ) : Ai(
          /*$$scope*/
          o[18]
        ),
        null
      );
    },
    i(o) {
      i || (x(u, o), i = !0);
    },
    o(o) {
      j(u, o), i = !1;
    },
    d(o) {
      u && u.d(o);
    }
  };
}
function Ca(n) {
  let i, r;
  return {
    c() {
      i = se("div"), z(i, "class", r = /*$theme*/
      n[3].line);
    },
    m(u, o) {
      ue(u, i, o);
    },
    p(u, o) {
      o & /*$theme*/
      8 && r !== (r = /*$theme*/
      u[3].line) && z(i, "class", r);
    },
    d(u) {
      u && ie(i);
    }
  };
}
function wv(n) {
  let i, r = Ge(
    /*lines*/
    n[2]
  ), u = [];
  for (let o = 0; o < r.length; o += 1)
    u[o] = Ca(ba(n, r, o));
  return {
    c() {
      for (let o = 0; o < u.length; o += 1)
        u[o].c();
      i = Ft();
    },
    m(o, a) {
      for (let l = 0; l < u.length; l += 1)
        u[l] && u[l].m(o, a);
      ue(o, i, a);
    },
    p(o, a) {
      if (a & /*$theme, lines*/
      12) {
        r = Ge(
          /*lines*/
          o[2]
        );
        let l;
        for (l = 0; l < r.length; l += 1) {
          const c = ba(o, r, l);
          u[l] ? u[l].p(c, a) : (u[l] = Ca(c), u[l].c(), u[l].m(i.parentNode, i));
        }
        for (; l < u.length; l += 1)
          u[l].d(1);
        u.length = r.length;
      }
    },
    d(o) {
      o && ie(i), vn(u, o);
    }
  };
}
function yv(n) {
  let i, r, u, o, a, l;
  return u = new Eo({
    props: {
      $$slots: {
        lines: [wv],
        default: [vv]
      },
      $$scope: { ctx: n }
    }
  }), {
    c() {
      i = se("div"), r = se("div"), Oe(u.$$.fragment), z(r, "class", o = /*$theme*/
      n[3].content), z(i, "class", a = /*$theme*/
      n[3].body + /*compact*/
      (n[1] ? " " + /*$theme*/
      n[3].compact : ""));
    },
    m(c, _) {
      ue(c, i, _), le(i, r), Re(u, r, null), n[17](i), l = !0;
    },
    p(c, [_]) {
      const g = {};
      _ & /*$$scope, lines, $theme*/
      262156 && (g.$$scope = { dirty: _, ctx: c }), u.$set(g), (!l || _ & /*$theme*/
      8 && o !== (o = /*$theme*/
      c[3].content)) && z(r, "class", o), (!l || _ & /*$theme, compact*/
      10 && a !== (a = /*$theme*/
      c[3].body + /*compact*/
      (c[1] ? " " + /*$theme*/
      c[3].compact : ""))) && z(i, "class", a);
    },
    i(c) {
      l || (x(u.$$.fragment, c), l = !0);
    },
    o(c) {
      j(u.$$.fragment, c), l = !1;
    },
    d(c) {
      c && ie(i), Ae(u), n[17](null);
    }
  };
}
function bv(n, i, r) {
  let u, o, a, l, c, _, g, v, { $$slots: C = {}, $$scope: w } = i, { _bodyEl: T, _viewDates: E, _slotTimeLimits: F, _times: R, scrollTime: A, slotDuration: L, slotHeight: B, theme: W } = wt("state");
  k(n, T, (K) => r(22, g = K)), k(n, E, (K) => r(13, l = K)), k(n, F, (K) => r(14, c = K)), k(n, R, (K) => r(15, _ = K)), k(n, A, (K) => r(21, a = K)), k(n, L, (K) => r(12, o = K)), k(n, B, (K) => r(20, u = K)), k(n, W, (K) => r(3, v = K));
  let N, O, D = [], Y;
  function q() {
    r(0, N.scrollTop = ((a.seconds - Y) / o.seconds - 0.5) * u, N);
  }
  function X(K) {
    en[K ? "unshift" : "push"](() => {
      N = K, r(0, N);
    });
  }
  return n.$$set = (K) => {
    "$$scope" in K && r(18, w = K.$$scope);
  }, n.$$.update = () => {
    n.$$.dirty & /*el*/
    1 && We(T, g = N, g), n.$$.dirty & /*$slotDuration, $_times, $_slotTimeLimits*/
    53248 && (r(1, O = o.seconds >= 3600), r(2, D.length = _.length, D), Y = c.min.seconds), n.$$.dirty & /*el, $_viewDates*/
    8193 && N && l && q();
  }, [
    N,
    O,
    D,
    v,
    T,
    E,
    F,
    R,
    A,
    L,
    B,
    W,
    o,
    l,
    c,
    _,
    C,
    X,
    w
  ];
}
class Cv extends it {
  constructor(i) {
    super(), rt(this, i, bv, yv, Ze, {});
  }
}
function Tv(n) {
  let i, r, u, o, a, l, c, _, g;
  var v = (
    /*$_interaction*/
    n[10].resizer
  );
  function C(w, T) {
    return { props: { event: (
      /*event*/
      w[0]
    ) } };
  }
  return v && (l = or(v, C(n)), l.$on("pointerdown", function() {
    he(
      /*createDragHandler*/
      n[33](
        /*$_interaction*/
        n[10],
        !0
      )
    ) && n[33](
      /*$_interaction*/
      n[10],
      !0
    ).apply(this, arguments);
  })), {
    c() {
      i = se("div"), r = se("div"), a = Ne(), l && Oe(l.$$.fragment), z(r, "class", u = /*$theme*/
      n[2].eventBody), z(
        i,
        "class",
        /*classes*/
        n[4]
      ), z(
        i,
        "style",
        /*style*/
        n[5]
      );
    },
    m(w, T) {
      ue(w, i, T), le(i, r), le(i, a), l && Re(l, i, null), n[51](i), c = !0, _ || (g = [
        bo(o = So.call(
          null,
          r,
          /*content*/
          n[6]
        )),
        ye(i, "click", function() {
          he(!Hn(
            /*display*/
            n[1]
          ) && /*createHandler*/
          n[32](
            /*$eventClick*/
            n[7],
            /*display*/
            n[1]
          )) && (!Hn(
            /*display*/
            n[1]
          ) && /*createHandler*/
          n[32](
            /*$eventClick*/
            n[7],
            /*display*/
            n[1]
          )).apply(this, arguments);
        }),
        ye(i, "mouseenter", function() {
          he(
            /*createHandler*/
            n[32](
              /*$eventMouseEnter*/
              n[8],
              /*display*/
              n[1]
            )
          ) && n[32](
            /*$eventMouseEnter*/
            n[8],
            /*display*/
            n[1]
          ).apply(this, arguments);
        }),
        ye(i, "mouseleave", function() {
          he(
            /*createHandler*/
            n[32](
              /*$eventMouseLeave*/
              n[9],
              /*display*/
              n[1]
            )
          ) && n[32](
            /*$eventMouseLeave*/
            n[9],
            /*display*/
            n[1]
          ).apply(this, arguments);
        }),
        ye(i, "pointerdown", function() {
          he(!Hn(
            /*display*/
            n[1]
          ) && !Kn(
            /*display*/
            n[1]
          ) && /*createDragHandler*/
          n[33](
            /*$_interaction*/
            n[10]
          )) && (!Hn(
            /*display*/
            n[1]
          ) && !Kn(
            /*display*/
            n[1]
          ) && /*createDragHandler*/
          n[33](
            /*$_interaction*/
            n[10]
          )).apply(this, arguments);
        })
      ], _ = !0);
    },
    p(w, T) {
      if (n = w, (!c || T[0] & /*$theme*/
      4 && u !== (u = /*$theme*/
      n[2].eventBody)) && z(r, "class", u), o && he(o.update) && T[0] & /*content*/
      64 && o.update.call(
        null,
        /*content*/
        n[6]
      ), T[0] & /*$_interaction*/
      1024 && v !== (v = /*$_interaction*/
      n[10].resizer)) {
        if (l) {
          ft();
          const E = l;
          j(E.$$.fragment, 1, 0, () => {
            Ae(E, 1);
          }), at();
        }
        v ? (l = or(v, C(n)), l.$on("pointerdown", function() {
          he(
            /*createDragHandler*/
            n[33](
              /*$_interaction*/
              n[10],
              !0
            )
          ) && n[33](
            /*$_interaction*/
            n[10],
            !0
          ).apply(this, arguments);
        }), Oe(l.$$.fragment), x(l.$$.fragment, 1), Re(l, i, null)) : l = null;
      } else if (v) {
        const E = {};
        T[0] & /*event*/
        1 && (E.event = /*event*/
        n[0]), l.$set(E);
      }
      (!c || T[0] & /*classes*/
      16) && z(
        i,
        "class",
        /*classes*/
        n[4]
      ), (!c || T[0] & /*style*/
      32) && z(
        i,
        "style",
        /*style*/
        n[5]
      );
    },
    i(w) {
      c || (l && x(l.$$.fragment, w), c = !0);
    },
    o(w) {
      l && j(l.$$.fragment, w), c = !1;
    },
    d(w) {
      w && ie(i), l && Ae(l), n[51](null), _ = !1, It(g);
    }
  };
}
function Sv(n, i, r) {
  let u, o, a, l, c, _, g, v, C, w, T, E, F, R, A, L, B, W, N, O, D, { date: Y } = i, { chunk: q } = i, { displayEventEnd: X, eventBackgroundColor: K, eventTextColor: $, eventColor: de, eventContent: He, eventClick: me, eventDidMount: De, eventClassNames: ze, eventMouseEnter: Q, eventMouseLeave: oe, slotEventOverlap: te, slotDuration: Le, slotHeight: bt, theme: Je, _view: Ke, _intlEventTime: ct, _interaction: ht, _iClasses: _t, _resBgColor: $e, _resTxtColor: V, _slotTimeLimits: Ie } = wt("state");
  k(n, X, (J) => r(39, _ = J)), k(n, K, (J) => r(46, F = J)), k(n, $, (J) => r(43, w = J)), k(n, de, (J) => r(45, E = J)), k(n, He, (J) => r(38, c = J)), k(n, me, (J) => r(7, W = J)), k(n, De, (J) => r(53, o = J)), k(n, ze, (J) => r(40, g = J)), k(n, Q, (J) => r(8, N = J)), k(n, oe, (J) => r(9, O = J)), k(n, te, (J) => r(42, C = J)), k(n, Le, (J) => r(50, B = J)), k(n, bt, (J) => r(48, A = J)), k(n, Je, (J) => r(2, l = J)), k(n, Ke, (J) => r(36, u = J)), k(n, ct, (J) => r(37, a = J)), k(n, ht, (J) => r(10, D = J)), k(n, _t, (J) => r(41, v = J)), k(n, $e, (J) => r(47, R = J)), k(n, V, (J) => r(44, T = J)), k(n, Ie, (J) => r(49, L = J));
  let Qe, et, Bt, dt, ne, Rt, gt;
  ic(() => {
    he(o) && o({
      event: $t(et),
      timeText: gt,
      el: Qe,
      view: xt(u)
    });
  });
  function lr(J, Wt) {
    return !Kn(Wt) && he(J) ? (Lt) => J({
      event: $t(et),
      el: Qe,
      jsEvent: Lt,
      view: xt(u)
    }) : void 0;
  }
  function Ir(J, Wt) {
    return J.action ? (Lt) => J.action.drag(et, Lt, Wt) : void 0;
  }
  function wn(J) {
    en[J ? "unshift" : "push"](() => {
      Qe = J, r(3, Qe);
    });
  }
  return n.$$set = (J) => {
    "date" in J && r(34, Y = J.date), "chunk" in J && r(35, q = J.chunk);
  }, n.$$.update = () => {
    if (n.$$.dirty[1] & /*chunk*/
    16 && r(0, et = q.event), n.$$.dirty[0] & /*event, style, display, $theme*/
    39 | n.$$.dirty[1] & /*$slotDuration, $_slotTimeLimits, chunk, date, $slotHeight, $_resBgColor, $eventBackgroundColor, $eventColor, $_resTxtColor, $eventTextColor, $slotEventOverlap, $_iClasses, $eventClassNames, $_view*/
    1048120) {
      r(1, Bt = et.display);
      let J = B.seconds / 60, Wt = L.min.seconds / 60, Lt = (q.start - Y) / 1e3 / 60, Rr = (q.end - Y) / 1e3 / 60, st = (Lt - Wt) / J * A, cn = (Rr - Lt) / J * A, Te = (L.max.seconds / 60 - Lt) / J * A, qt = et.backgroundColor || R(et) || F || E, Kt = et.textColor || T(et) || w;
      r(5, ne = `top:${st}px;min-height:${cn}px;height:${cn}px;max-height:${Te}px;`), qt && r(5, ne += `background-color:${qt};`), Kt && r(5, ne += `color:${Kt};`), (!Hn(Bt) && !Kn(Bt) || kc(Bt)) && r(5, ne += `z-index:${q.column + 1};left:${100 / q.group.columns.length * q.column}%;width:${100 / q.group.columns.length * (C ? 0.5 * (1 + q.group.columns.length - q.column) : 1)}%;`), r(4, dt = [
        Hn(Bt) ? l.bgEvent : l.event,
        ...v([], et),
        ...Sc(g, et, u)
      ].join(" "));
    }
    n.$$.dirty[0] & /*$theme*/
    4 | n.$$.dirty[1] & /*chunk, $displayEventEnd, $eventContent, $_intlEventTime, $_view*/
    496 && r(6, [gt, Rt] = Tc(q, _, c, l, a, u), Rt);
  }, [
    et,
    Bt,
    l,
    Qe,
    dt,
    ne,
    Rt,
    W,
    N,
    O,
    D,
    X,
    K,
    $,
    de,
    He,
    me,
    De,
    ze,
    Q,
    oe,
    te,
    Le,
    bt,
    Je,
    Ke,
    ct,
    ht,
    _t,
    $e,
    V,
    Ie,
    lr,
    Ir,
    Y,
    q,
    u,
    a,
    c,
    _,
    g,
    v,
    C,
    w,
    T,
    E,
    F,
    R,
    A,
    L,
    B,
    wn
  ];
}
let Ps = class extends it {
  constructor(i) {
    super(), rt(this, i, Sv, Tv, Ze, { date: 34, chunk: 35 }, null, [-1, -1]);
  }
};
function Dv(n) {
  let i, r;
  return {
    c() {
      i = se("div"), z(i, "class", r = /*$theme*/
      n[1].nowIndicator), Ds(
        i,
        "top",
        /*top*/
        n[0] + "px"
      );
    },
    m(u, o) {
      ue(u, i, o);
    },
    p(u, [o]) {
      o & /*$theme*/
      2 && r !== (r = /*$theme*/
      u[1].nowIndicator) && z(i, "class", r), o & /*top*/
      1 && Ds(
        i,
        "top",
        /*top*/
        u[0] + "px"
      );
    },
    i: Me,
    o: Me,
    d(u) {
      u && ie(i);
    }
  };
}
function Ev(n, i, r) {
  let u, o, a, l, c, _, { slotDuration: g, slotHeight: v, theme: C, _now: w, _today: T, _slotTimeLimits: E } = wt("state");
  k(n, g, (A) => r(11, a = A)), k(n, v, (A) => r(9, u = A)), k(n, C, (A) => r(1, _ = A)), k(n, w, (A) => r(13, c = A)), k(n, T, (A) => r(12, l = A)), k(n, E, (A) => r(10, o = A));
  let F, R = 0;
  return n.$$.update = () => {
    if (n.$$.dirty & /*$_now, $_today*/
    12288 && r(8, F = (c - l) / 1e3 / 60), n.$$.dirty & /*$slotDuration, $_slotTimeLimits, start, $slotHeight*/
    3840) {
      let A = a.seconds / 60, L = o.min.seconds / 60;
      r(0, R = (F - L) / A * u);
    }
  }, [
    R,
    _,
    g,
    v,
    C,
    w,
    T,
    E,
    F,
    u,
    o,
    a,
    l,
    c
  ];
}
class kv extends it {
  constructor(i) {
    super(), rt(this, i, Ev, Dv, Ze, {});
  }
}
function Ta(n, i, r) {
  const u = n.slice();
  return u[33] = i[r], u;
}
function Sa(n, i, r) {
  const u = n.slice();
  return u[33] = i[r], u;
}
function Da(n, i) {
  let r, u, o;
  return u = new Ps({
    props: {
      date: (
        /*date*/
        i[0]
      ),
      chunk: (
        /*chunk*/
        i[33]
      )
    }
  }), {
    key: n,
    first: null,
    c() {
      r = Ft(), Oe(u.$$.fragment), this.first = r;
    },
    m(a, l) {
      ue(a, r, l), Re(u, a, l), o = !0;
    },
    p(a, l) {
      i = a;
      const c = {};
      l[0] & /*date*/
      1 && (c.date = /*date*/
      i[0]), l[0] & /*bgChunks*/
      8 && (c.chunk = /*chunk*/
      i[33]), u.$set(c);
    },
    i(a) {
      o || (x(u.$$.fragment, a), o = !0);
    },
    o(a) {
      j(u.$$.fragment, a), o = !1;
    },
    d(a) {
      a && ie(r), Ae(u, a);
    }
  };
}
function Ea(n) {
  let i, r;
  return i = new Ps({
    props: {
      date: (
        /*date*/
        n[0]
      ),
      chunk: (
        /*iChunks*/
        n[4][1]
      )
    }
  }), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o[0] & /*date*/
      1 && (a.date = /*date*/
      u[0]), o[0] & /*iChunks*/
      16 && (a.chunk = /*iChunks*/
      u[4][1]), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function ka(n, i) {
  let r, u, o;
  return u = new Ps({
    props: {
      date: (
        /*date*/
        i[0]
      ),
      chunk: (
        /*chunk*/
        i[33]
      )
    }
  }), {
    key: n,
    first: null,
    c() {
      r = Ft(), Oe(u.$$.fragment), this.first = r;
    },
    m(a, l) {
      ue(a, r, l), Re(u, a, l), o = !0;
    },
    p(a, l) {
      i = a;
      const c = {};
      l[0] & /*date*/
      1 && (c.date = /*date*/
      i[0]), l[0] & /*chunks*/
      4 && (c.chunk = /*chunk*/
      i[33]), u.$set(c);
    },
    i(a) {
      o || (x(u.$$.fragment, a), o = !0);
    },
    o(a) {
      j(u.$$.fragment, a), o = !1;
    },
    d(a) {
      a && ie(r), Ae(u, a);
    }
  };
}
function Aa(n) {
  let i, r;
  return i = new Ps({
    props: {
      date: (
        /*date*/
        n[0]
      ),
      chunk: (
        /*iChunks*/
        n[4][0]
      )
    }
  }), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o[0] & /*date*/
      1 && (a.date = /*date*/
      u[0]), o[0] & /*iChunks*/
      16 && (a.chunk = /*iChunks*/
      u[4][0]), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function Ia(n) {
  let i, r;
  return i = new kv({}), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function Av(n) {
  let i, r, u = [], o = /* @__PURE__ */ new Map(), a, l, c, _, g = [], v = /* @__PURE__ */ new Map(), C, w, T, E, F, R, A, L, B, W = Ge(
    /*bgChunks*/
    n[3]
  );
  const N = (K) => (
    /*chunk*/
    K[33].event
  );
  for (let K = 0; K < W.length; K += 1) {
    let $ = Sa(n, W, K), de = N($);
    o.set(de, u[K] = Da(de, $));
  }
  let O = (
    /*iChunks*/
    n[4][1] && Ea(n)
  ), D = Ge(
    /*chunks*/
    n[2]
  );
  const Y = (K) => (
    /*chunk*/
    K[33].event
  );
  for (let K = 0; K < D.length; K += 1) {
    let $ = Ta(n, D, K), de = Y($);
    v.set(de, g[K] = ka(de, $));
  }
  let q = (
    /*iChunks*/
    n[4][0] && !/*iChunks*/
    n[4][0].event.allDay && Aa(n)
  ), X = (
    /*$nowIndicator*/
    n[9] && /*isToday*/
    n[5] && Ia()
  );
  return {
    c() {
      i = se("div"), r = se("div");
      for (let K = 0; K < u.length; K += 1)
        u[K].c();
      l = Ne(), c = se("div"), O && O.c(), _ = Ne();
      for (let K = 0; K < g.length; K += 1)
        g[K].c();
      C = Ne(), q && q.c(), T = Ne(), E = se("div"), X && X.c(), z(r, "class", a = /*$theme*/
      n[7].bgEvents), z(c, "class", w = /*$theme*/
      n[7].events), z(E, "class", F = /*$theme*/
      n[7].extra), z(i, "class", R = /*$theme*/
      n[7].day + /*isToday*/
      (n[5] ? " " + /*$theme*/
      n[7].today : "") + /*highlight*/
      (n[6] ? " " + /*$theme*/
      n[7].highlight : ""));
    },
    m(K, $) {
      ue(K, i, $), le(i, r);
      for (let de = 0; de < u.length; de += 1)
        u[de] && u[de].m(r, null);
      le(i, l), le(i, c), O && O.m(c, null), le(c, _);
      for (let de = 0; de < g.length; de += 1)
        g[de] && g[de].m(c, null);
      le(c, C), q && q.m(c, null), le(i, T), le(i, E), X && X.m(E, null), n[29](i), A = !0, L || (B = [
        ye(i, "pointerenter", function() {
          he(
            /*createPointerEnterHandler*/
            n[20](
              /*$_interaction*/
              n[8]
            )
          ) && n[20](
            /*$_interaction*/
            n[8]
          ).apply(this, arguments);
        }),
        ye(i, "pointerleave", function() {
          var de, He;
          he(
            /*$_interaction*/
            (de = n[8].pointer) == null ? void 0 : de.leave
          ) && ((He = n[8].pointer) == null || He.leave.apply(this, arguments));
        }),
        ye(i, "pointerdown", function() {
          var de, He;
          he(
            /*$_interaction*/
            (de = n[8].action) == null ? void 0 : de.select
          ) && ((He = n[8].action) == null || He.select.apply(this, arguments));
        })
      ], L = !0);
    },
    p(K, $) {
      n = K, $[0] & /*date, bgChunks*/
      9 && (W = Ge(
        /*bgChunks*/
        n[3]
      ), ft(), u = po(u, $, N, 1, n, W, o, r, go, Da, null, Sa), at()), (!A || $[0] & /*$theme*/
      128 && a !== (a = /*$theme*/
      n[7].bgEvents)) && z(r, "class", a), /*iChunks*/
      n[4][1] ? O ? (O.p(n, $), $[0] & /*iChunks*/
      16 && x(O, 1)) : (O = Ea(n), O.c(), x(O, 1), O.m(c, _)) : O && (ft(), j(O, 1, 1, () => {
        O = null;
      }), at()), $[0] & /*date, chunks*/
      5 && (D = Ge(
        /*chunks*/
        n[2]
      ), ft(), g = po(g, $, Y, 1, n, D, v, c, go, ka, C, Ta), at()), /*iChunks*/
      n[4][0] && !/*iChunks*/
      n[4][0].event.allDay ? q ? (q.p(n, $), $[0] & /*iChunks*/
      16 && x(q, 1)) : (q = Aa(n), q.c(), x(q, 1), q.m(c, null)) : q && (ft(), j(q, 1, 1, () => {
        q = null;
      }), at()), (!A || $[0] & /*$theme*/
      128 && w !== (w = /*$theme*/
      n[7].events)) && z(c, "class", w), /*$nowIndicator*/
      n[9] && /*isToday*/
      n[5] ? X ? $[0] & /*$nowIndicator, isToday*/
      544 && x(X, 1) : (X = Ia(), X.c(), x(X, 1), X.m(E, null)) : X && (ft(), j(X, 1, 1, () => {
        X = null;
      }), at()), (!A || $[0] & /*$theme*/
      128 && F !== (F = /*$theme*/
      n[7].extra)) && z(E, "class", F), (!A || $[0] & /*$theme, isToday, highlight*/
      224 && R !== (R = /*$theme*/
      n[7].day + /*isToday*/
      (n[5] ? " " + /*$theme*/
      n[7].today : "") + /*highlight*/
      (n[6] ? " " + /*$theme*/
      n[7].highlight : ""))) && z(i, "class", R);
    },
    i(K) {
      if (!A) {
        for (let $ = 0; $ < W.length; $ += 1)
          x(u[$]);
        x(O);
        for (let $ = 0; $ < D.length; $ += 1)
          x(g[$]);
        x(q), x(X), A = !0;
      }
    },
    o(K) {
      for (let $ = 0; $ < u.length; $ += 1)
        j(u[$]);
      j(O);
      for (let $ = 0; $ < g.length; $ += 1)
        j(g[$]);
      j(q), j(X), A = !1;
    },
    d(K) {
      K && ie(i);
      for (let $ = 0; $ < u.length; $ += 1)
        u[$].d();
      O && O.d();
      for (let $ = 0; $ < g.length; $ += 1)
        g[$].d();
      q && q.d(), X && X.d(), n[29](null), L = !1, It(B);
    }
  };
}
function Iv(n, i, r) {
  let u, o, a, l, c, _, g, v, C, w, { date: T } = i, { resource: E = void 0 } = i, { _events: F, _iEvents: R, highlightedDates: A, nowIndicator: L, slotDuration: B, slotHeight: W, theme: N, _interaction: O, _today: D, _slotTimeLimits: Y } = wt("state");
  k(n, F, (te) => r(28, g = te)), k(n, R, (te) => r(27, _ = te)), k(n, A, (te) => r(25, l = te)), k(n, L, (te) => r(9, w = te)), k(n, B, (te) => r(31, o = te)), k(n, W, (te) => r(30, u = te)), k(n, N, (te) => r(7, v = te)), k(n, O, (te) => r(8, C = te)), k(n, D, (te) => r(26, c = te)), k(n, Y, (te) => r(24, a = te));
  let q, X, K, $ = [], de, He, me, De;
  function ze(te) {
    return te -= ni(q).top, {
      allDay: !1,
      date: nt(nt(Ue(T), a.min), o, pc(te / u)),
      resource: E,
      dayEl: q
    };
  }
  function Q(te) {
    return te.pointer ? (Le) => te.pointer.enterTimeGrid(T, q, Le, E) : void 0;
  }
  function oe(te) {
    en[te ? "unshift" : "push"](() => {
      q = te, r(1, q);
    });
  }
  return n.$$set = (te) => {
    "date" in te && r(0, T = te.date), "resource" in te && r(21, E = te.resource);
  }, n.$$.update = () => {
    if (n.$$.dirty[0] & /*date, $_slotTimeLimits*/
    16777217 && (r(22, me = nt(Ue(T), a.min)), r(23, De = nt(Ue(T), a.max))), n.$$.dirty[0] & /*$_events, start, end, resource, bgChunks, chunks*/
    283115532) {
      r(2, X = []), r(3, K = []);
      for (let te of g)
        if (!te.allDay && Is(te, me, De, E, !0)) {
          let Le = As(te, me, De);
          switch (te.display) {
            case "background":
              K.push(Le);
              break;
            default:
              X.push(Le);
          }
        }
      _v(X);
    }
    n.$$.dirty[0] & /*$_iEvents, start, end, resource*/
    148897792 && r(4, $ = _.map((te) => te && Is(te, me, De, E, !0) ? As(te, me, De) : null)), n.$$.dirty[0] & /*date, $_today*/
    67108865 && r(5, de = Yn(T, c)), n.$$.dirty[0] & /*$highlightedDates, date*/
    33554433 && r(6, He = l.some((te) => Yn(te, T))), n.$$.dirty[0] & /*el*/
    2 && q && yc(q, ze);
  }, [
    T,
    q,
    X,
    K,
    $,
    de,
    He,
    v,
    C,
    w,
    F,
    R,
    A,
    L,
    B,
    W,
    N,
    O,
    D,
    Y,
    Q,
    E,
    me,
    De,
    a,
    l,
    c,
    _,
    g,
    oe
  ];
}
let Rv = class extends it {
  constructor(i) {
    super(), rt(this, i, Iv, Av, Ze, { date: 0, resource: 21 }, null, [-1, -1]);
  }
};
function Lv(n) {
  let i, r, u, o, a, l, c, _, g;
  var v = (
    /*$_interaction*/
    n[10].resizer
  );
  function C(w, T) {
    return { props: { event: (
      /*event*/
      w[0]
    ) } };
  }
  return v && (l = or(v, C(n)), l.$on("pointerdown", function() {
    he(
      /*createDragHandler*/
      n[29](
        /*$_interaction*/
        n[10],
        !0
      )
    ) && n[29](
      /*$_interaction*/
      n[10],
      !0
    ).apply(this, arguments);
  })), {
    c() {
      i = se("div"), r = se("div"), a = Ne(), l && Oe(l.$$.fragment), z(r, "class", u = /*$theme*/
      n[1].eventBody), z(
        i,
        "class",
        /*classes*/
        n[3]
      ), z(
        i,
        "style",
        /*style*/
        n[4]
      );
    },
    m(w, T) {
      ue(w, i, T), le(i, r), le(i, a), l && Re(l, i, null), n[45](i), c = !0, _ || (g = [
        bo(o = So.call(
          null,
          r,
          /*content*/
          n[5]
        )),
        ye(i, "click", function() {
          he(
            /*createHandler*/
            n[28](
              /*$eventClick*/
              n[7],
              /*display*/
              n[6]
            )
          ) && n[28](
            /*$eventClick*/
            n[7],
            /*display*/
            n[6]
          ).apply(this, arguments);
        }),
        ye(i, "mouseenter", function() {
          he(
            /*createHandler*/
            n[28](
              /*$eventMouseEnter*/
              n[8],
              /*display*/
              n[6]
            )
          ) && n[28](
            /*$eventMouseEnter*/
            n[8],
            /*display*/
            n[6]
          ).apply(this, arguments);
        }),
        ye(i, "mouseleave", function() {
          he(
            /*createHandler*/
            n[28](
              /*$eventMouseLeave*/
              n[9],
              /*display*/
              n[6]
            )
          ) && n[28](
            /*$eventMouseLeave*/
            n[9],
            /*display*/
            n[6]
          ).apply(this, arguments);
        }),
        ye(i, "pointerdown", function() {
          he(!Kn(
            /*display*/
            n[6]
          ) && /*createDragHandler*/
          n[29](
            /*$_interaction*/
            n[10]
          )) && (!Kn(
            /*display*/
            n[6]
          ) && /*createDragHandler*/
          n[29](
            /*$_interaction*/
            n[10]
          )).apply(this, arguments);
        })
      ], _ = !0);
    },
    p(w, T) {
      if (n = w, (!c || T[0] & /*$theme*/
      2 && u !== (u = /*$theme*/
      n[1].eventBody)) && z(r, "class", u), o && he(o.update) && T[0] & /*content*/
      32 && o.update.call(
        null,
        /*content*/
        n[5]
      ), T[0] & /*$_interaction*/
      1024 && v !== (v = /*$_interaction*/
      n[10].resizer)) {
        if (l) {
          ft();
          const E = l;
          j(E.$$.fragment, 1, 0, () => {
            Ae(E, 1);
          }), at();
        }
        v ? (l = or(v, C(n)), l.$on("pointerdown", function() {
          he(
            /*createDragHandler*/
            n[29](
              /*$_interaction*/
              n[10],
              !0
            )
          ) && n[29](
            /*$_interaction*/
            n[10],
            !0
          ).apply(this, arguments);
        }), Oe(l.$$.fragment), x(l.$$.fragment, 1), Re(l, i, null)) : l = null;
      } else if (v) {
        const E = {};
        T[0] & /*event*/
        1 && (E.event = /*event*/
        n[0]), l.$set(E);
      }
      (!c || T[0] & /*classes*/
      8) && z(
        i,
        "class",
        /*classes*/
        n[3]
      ), (!c || T[0] & /*style*/
      16) && z(
        i,
        "style",
        /*style*/
        n[4]
      );
    },
    i(w) {
      c || (l && x(l.$$.fragment, w), c = !0);
    },
    o(w) {
      l && j(l.$$.fragment, w), c = !1;
    },
    d(w) {
      w && ie(i), l && Ae(l), n[45](null), _ = !1, It(g);
    }
  };
}
function Ov(n, i, r) {
  let u, o, a, l, c, _, g, v, C, w, T, E, F, R, A, L, B, { chunk: W } = i, { longChunks: N = {} } = i, { displayEventEnd: O, eventBackgroundColor: D, eventTextColor: Y, eventClick: q, eventColor: X, eventContent: K, eventClassNames: $, eventDidMount: de, eventMouseEnter: He, eventMouseLeave: me, theme: De, _view: ze, _intlEventTime: Q, _interaction: oe, _iClasses: te, _resBgColor: Le, _resTxtColor: bt } = wt("state");
  k(n, O, (ne) => r(37, _ = ne)), k(n, D, (ne) => r(43, E = ne)), k(n, Y, (ne) => r(40, C = ne)), k(n, q, (ne) => r(7, R = ne)), k(n, X, (ne) => r(42, T = ne)), k(n, K, (ne) => r(36, c = ne)), k(n, $, (ne) => r(38, g = ne)), k(n, de, (ne) => r(47, o = ne)), k(n, He, (ne) => r(8, A = ne)), k(n, me, (ne) => r(9, L = ne)), k(n, De, (ne) => r(1, l = ne)), k(n, ze, (ne) => r(34, u = ne)), k(n, Q, (ne) => r(35, a = ne)), k(n, oe, (ne) => r(10, B = ne)), k(n, te, (ne) => r(39, v = ne)), k(n, Le, (ne) => r(44, F = ne)), k(n, bt, (ne) => r(41, w = ne)), Co();
  let Je, Ke, ct, ht, _t, $e, V = 1, Ie;
  ic(() => {
    he(o) && o({
      event: $t(Ke),
      timeText: $e,
      el: Je,
      view: xt(u)
    });
  });
  function Qe(ne, Rt) {
    return !Kn(Rt) && he(ne) ? (gt) => ne({
      event: $t(Ke),
      el: Je,
      jsEvent: gt,
      view: xt(u)
    }) : void 0;
  }
  function et(ne, Rt) {
    return ne.action ? (gt) => ne.action.drag(Ke, gt, Rt) : void 0;
  }
  function Bt() {
    !Je || Ec(Ie) || r(33, V = Rm(W, N, Dm(Je)));
  }
  function dt(ne) {
    en[ne ? "unshift" : "push"](() => {
      Je = ne, r(2, Je);
    });
  }
  return n.$$set = (ne) => {
    "chunk" in ne && r(30, W = ne.chunk), "longChunks" in ne && r(31, N = ne.longChunks);
  }, n.$$.update = () => {
    if (n.$$.dirty[0] & /*chunk*/
    1073741824 && r(0, Ke = W.event), n.$$.dirty[0] & /*event, chunk, style, $theme*/
    1073741843 | n.$$.dirty[1] & /*$_resBgColor, $eventBackgroundColor, $eventColor, $_resTxtColor, $eventTextColor, margin, $_iClasses, $eventClassNames, $_view*/
    16268) {
      r(6, Ie = Ke.display);
      let ne = Ke.backgroundColor || F(Ke) || E || T, Rt = Ke.textColor || w(Ke) || C;
      r(4, ht = `width:calc(${W.days * 100}% + ${(W.days - 1) * 7}px);margin-top:${V}px;`), ne && r(4, ht += `background-color:${ne};`), Rt && r(4, ht += `color:${Rt};`), r(3, ct = [
        l.event,
        ...v([], Ke),
        ...Sc(g, Ke, u)
      ].join(" "));
    }
    n.$$.dirty[0] & /*chunk, $theme*/
    1073741826 | n.$$.dirty[1] & /*$displayEventEnd, $eventContent, $_intlEventTime, $_view*/
    120 && r(5, [$e, _t] = Tc(W, _, c, l, a, u), _t);
  }, [
    Ke,
    l,
    Je,
    ct,
    ht,
    _t,
    Ie,
    R,
    A,
    L,
    B,
    O,
    D,
    Y,
    q,
    X,
    K,
    $,
    de,
    He,
    me,
    De,
    ze,
    Q,
    oe,
    te,
    Le,
    bt,
    Qe,
    et,
    W,
    N,
    Bt,
    V,
    u,
    a,
    c,
    _,
    g,
    v,
    C,
    w,
    T,
    E,
    F,
    dt
  ];
}
class Rc extends it {
  constructor(i) {
    super(), rt(
      this,
      i,
      Ov,
      Lv,
      Ze,
      {
        chunk: 30,
        longChunks: 31,
        reposition: 32
      },
      null,
      [-1, -1]
    );
  }
  get reposition() {
    return this.$$.ctx[32];
  }
}
function Ra(n, i, r) {
  const u = n.slice();
  return u[20] = i[r], u[21] = i, u[22] = r, u;
}
function La(n) {
  let i, r, u, o;
  return r = new Rc({ props: { chunk: (
    /*iChunks*/
    n[2][0]
  ) } }), {
    c() {
      i = se("div"), Oe(r.$$.fragment), z(i, "class", u = /*$theme*/
      n[8].events + " " + /*$theme*/
      n[8].preview);
    },
    m(a, l) {
      ue(a, i, l), Re(r, i, null), o = !0;
    },
    p(a, l) {
      const c = {};
      l & /*iChunks*/
      4 && (c.chunk = /*iChunks*/
      a[2][0]), r.$set(c), (!o || l & /*$theme*/
      256 && u !== (u = /*$theme*/
      a[8].events + " " + /*$theme*/
      a[8].preview)) && z(i, "class", u);
    },
    i(a) {
      o || (x(r.$$.fragment, a), o = !0);
    },
    o(a) {
      j(r.$$.fragment, a), o = !1;
    },
    d(a) {
      a && ie(i), Ae(r);
    }
  };
}
function Oa(n, i) {
  let r, u, o = (
    /*i*/
    i[22]
  ), a;
  const l = () => (
    /*event_binding*/
    i[17](u, o)
  ), c = () => (
    /*event_binding*/
    i[17](null, o)
  );
  let _ = {
    chunk: (
      /*chunk*/
      i[20]
    ),
    longChunks: (
      /*longChunks*/
      i[1]
    )
  };
  return u = new Rc({ props: _ }), l(), {
    key: n,
    first: null,
    c() {
      r = Ft(), Oe(u.$$.fragment), this.first = r;
    },
    m(g, v) {
      ue(g, r, v), Re(u, g, v), a = !0;
    },
    p(g, v) {
      i = g, o !== /*i*/
      i[22] && (c(), o = /*i*/
      i[22], l());
      const C = {};
      v & /*dayChunks*/
      16 && (C.chunk = /*chunk*/
      i[20]), v & /*longChunks*/
      2 && (C.longChunks = /*longChunks*/
      i[1]), u.$set(C);
    },
    i(g) {
      a || (x(u.$$.fragment, g), a = !0);
    },
    o(g) {
      j(u.$$.fragment, g), a = !1;
    },
    d(g) {
      g && ie(r), c(), Ae(u, g);
    }
  };
}
function Pv(n) {
  let i, r = (
    /*iChunks*/
    n[2][0] && Yn(
      /*iChunks*/
      n[2][0].date,
      /*date*/
      n[0]
    )
  ), u, o, a = [], l = /* @__PURE__ */ new Map(), c, _, g, v, C, w = r && La(n), T = Ge(
    /*dayChunks*/
    n[4]
  );
  const E = (F) => (
    /*chunk*/
    F[20].event
  );
  for (let F = 0; F < T.length; F += 1) {
    let R = Ra(n, T, F), A = E(R);
    l.set(A, a[F] = Oa(A, R));
  }
  return {
    c() {
      i = se("div"), w && w.c(), u = Ne(), o = se("div");
      for (let F = 0; F < a.length; F += 1)
        a[F].c();
      z(o, "class", c = /*$theme*/
      n[8].events), z(i, "class", _ = /*$theme*/
      n[8].day + /*isToday*/
      (n[5] ? " " + /*$theme*/
      n[8].today : "") + /*highlight*/
      (n[6] ? " " + /*$theme*/
      n[8].highlight : ""));
    },
    m(F, R) {
      ue(F, i, R), w && w.m(i, null), le(i, u), le(i, o);
      for (let A = 0; A < a.length; A += 1)
        a[A] && a[A].m(o, null);
      n[18](i), g = !0, v || (C = [
        ye(
          window,
          "resize",
          /*reposition*/
          n[13]
        ),
        ye(i, "pointerdown", function() {
          var A, L;
          he(
            /*$_interaction*/
            (A = n[9].action) == null ? void 0 : A.select
          ) && ((L = n[9].action) == null || L.select.apply(this, arguments));
        })
      ], v = !0);
    },
    p(F, [R]) {
      n = F, R & /*iChunks, date*/
      5 && (r = /*iChunks*/
      n[2][0] && Yn(
        /*iChunks*/
        n[2][0].date,
        /*date*/
        n[0]
      )), r ? w ? (w.p(n, R), R & /*iChunks, date*/
      5 && x(w, 1)) : (w = La(n), w.c(), x(w, 1), w.m(i, u)) : w && (ft(), j(w, 1, 1, () => {
        w = null;
      }), at()), R & /*dayChunks, longChunks, refs*/
      146 && (T = Ge(
        /*dayChunks*/
        n[4]
      ), ft(), a = po(a, R, E, 1, n, T, l, o, go, Oa, null, Ra), at()), (!g || R & /*$theme*/
      256 && c !== (c = /*$theme*/
      n[8].events)) && z(o, "class", c), (!g || R & /*$theme, isToday, highlight*/
      352 && _ !== (_ = /*$theme*/
      n[8].day + /*isToday*/
      (n[5] ? " " + /*$theme*/
      n[8].today : "") + /*highlight*/
      (n[6] ? " " + /*$theme*/
      n[8].highlight : ""))) && z(i, "class", _);
    },
    i(F) {
      if (!g) {
        x(w);
        for (let R = 0; R < T.length; R += 1)
          x(a[R]);
        g = !0;
      }
    },
    o(F) {
      j(w);
      for (let R = 0; R < a.length; R += 1)
        j(a[R]);
      g = !1;
    },
    d(F) {
      F && ie(i), w && w.d();
      for (let R = 0; R < a.length; R += 1)
        a[R].d();
      n[18](null), v = !1, It(C);
    }
  };
}
function Mv(n, i, r) {
  let u, o, a, { date: l } = i, { chunks: c } = i, { longChunks: _ } = i, { iChunks: g = [] } = i, { resource: v = void 0 } = i, { highlightedDates: C, theme: w, _interaction: T } = wt("state");
  k(n, C, (D) => r(16, u = D)), k(n, w, (D) => r(8, o = D)), k(n, T, (D) => r(9, a = D));
  let E, F, R = xn(qn()), A, L, B = [];
  function W() {
    r(7, B.length = F.length, B);
    for (let D of B)
      D && D.reposition && D.reposition();
  }
  Y0(W);
  function N(D, Y) {
    en[D ? "unshift" : "push"](() => {
      B[Y] = D, r(7, B);
    });
  }
  function O(D) {
    en[D ? "unshift" : "push"](() => {
      E = D, r(3, E);
    });
  }
  return n.$$set = (D) => {
    "date" in D && r(0, l = D.date), "chunks" in D && r(14, c = D.chunks), "longChunks" in D && r(1, _ = D.longChunks), "iChunks" in D && r(2, g = D.iChunks), "resource" in D && r(15, v = D.resource);
  }, n.$$.update = () => {
    if (n.$$.dirty & /*chunks, date, dayChunks*/
    16401) {
      r(4, F = []);
      for (let D of c)
        Yn(D.date, l) && F.push(D);
    }
    n.$$.dirty & /*date, $highlightedDates*/
    65537 && (r(5, A = Yn(l, R)), r(6, L = u.some((D) => Yn(D, l)))), n.$$.dirty & /*el, date, resource*/
    32777 && E && yc(E, () => ({ allDay: !0, date: l, resource: v, dayEl: E }));
  }, [
    l,
    _,
    g,
    E,
    F,
    A,
    L,
    B,
    o,
    a,
    C,
    w,
    T,
    W,
    c,
    v,
    u,
    N,
    O
  ];
}
class Uv extends it {
  constructor(i) {
    super(), rt(this, i, Mv, Pv, Ze, {
      date: 0,
      chunks: 14,
      longChunks: 1,
      iChunks: 2,
      resource: 15
    });
  }
}
function Pa(n, i, r) {
  const u = n.slice();
  return u[14] = i[r], u;
}
function Ma(n) {
  let i, r;
  return i = new Uv({
    props: {
      date: (
        /*date*/
        n[14]
      ),
      chunks: (
        /*chunks*/
        n[2]
      ),
      longChunks: (
        /*longChunks*/
        n[3]
      ),
      iChunks: (
        /*iChunks*/
        n[4]
      ),
      resource: (
        /*resource*/
        n[1]
      )
    }
  }), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o & /*dates*/
      1 && (a.date = /*date*/
      u[14]), o & /*chunks*/
      4 && (a.chunks = /*chunks*/
      u[2]), o & /*longChunks*/
      8 && (a.longChunks = /*longChunks*/
      u[3]), o & /*iChunks*/
      16 && (a.iChunks = /*iChunks*/
      u[4]), o & /*resource*/
      2 && (a.resource = /*resource*/
      u[1]), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function Fv(n) {
  let i, r, u = Ge(
    /*dates*/
    n[0]
  ), o = [];
  for (let l = 0; l < u.length; l += 1)
    o[l] = Ma(Pa(n, u, l));
  const a = (l) => j(o[l], 1, 1, () => {
    o[l] = null;
  });
  return {
    c() {
      for (let l = 0; l < o.length; l += 1)
        o[l].c();
      i = Ft();
    },
    m(l, c) {
      for (let _ = 0; _ < o.length; _ += 1)
        o[_] && o[_].m(l, c);
      ue(l, i, c), r = !0;
    },
    p(l, [c]) {
      if (c & /*dates, chunks, longChunks, iChunks, resource*/
      31) {
        u = Ge(
          /*dates*/
          l[0]
        );
        let _;
        for (_ = 0; _ < u.length; _ += 1) {
          const g = Pa(l, u, _);
          o[_] ? (o[_].p(g, c), x(o[_], 1)) : (o[_] = Ma(g), o[_].c(), x(o[_], 1), o[_].m(i.parentNode, i));
        }
        for (ft(), _ = u.length; _ < o.length; _ += 1)
          a(_);
        at();
      }
    },
    i(l) {
      if (!r) {
        for (let c = 0; c < u.length; c += 1)
          x(o[c]);
        r = !0;
      }
    },
    o(l) {
      o = o.filter(Boolean);
      for (let c = 0; c < o.length; c += 1)
        j(o[c]);
      r = !1;
    },
    d(l) {
      l && ie(i), vn(o, l);
    }
  };
}
function Bv(n, i, r) {
  let u, o, a, { dates: l } = i, { resource: c = void 0 } = i, { _events: _, _iEvents: g, hiddenDays: v, theme: C } = wt("state");
  k(n, _, (A) => r(12, a = A)), k(n, g, (A) => r(11, o = A)), k(n, v, (A) => r(10, u = A));
  let w, T, E = [], F, R;
  return n.$$set = (A) => {
    "dates" in A && r(0, l = A.dates), "resource" in A && r(1, c = A.resource);
  }, n.$$.update = () => {
    if (n.$$.dirty & /*dates*/
    1 && (r(8, F = l[0]), r(9, R = ti(Ue(l[l.length - 1])))), n.$$.dirty & /*$_events, start, end, resource, chunks, $hiddenDays*/
    5894) {
      r(2, w = []);
      for (let A of a)
        if (A.allDay && A.display !== "background" && Is(A, F, R, c)) {
          let L = As(A, F, R);
          w.push(L);
        }
      r(3, T = oa(w, u));
    }
    n.$$.dirty & /*$_iEvents, start, end, resource, $hiddenDays*/
    3842 && r(4, E = o.map((A) => {
      let L;
      return A && A.allDay && Is(A, F, R, c) ? (L = As(A, F, R), oa([L], u)) : L = null, L;
    }));
  }, [
    l,
    c,
    w,
    T,
    E,
    _,
    g,
    v,
    F,
    R,
    u,
    o,
    a
  ];
}
class Wv extends it {
  constructor(i) {
    super(), rt(this, i, Bv, Fv, Ze, { dates: 0, resource: 1 });
  }
}
function Ua(n, i, r) {
  const u = n.slice();
  return u[11] = i[r], u;
}
function Fa(n, i, r) {
  const u = n.slice();
  return u[11] = i[r], u;
}
function Ba(n) {
  let i, r = (
    /*$_intlDayHeader*/
    n[2].format(
      /*date*/
      n[11]
    ) + ""
  ), u, o;
  return {
    c() {
      i = se("div"), u = kn(r), z(i, "class", o = /*$theme*/
      n[0].day);
    },
    m(a, l) {
      ue(a, i, l), le(i, u);
    },
    p(a, l) {
      l & /*$_intlDayHeader, $_viewDates*/
      6 && r !== (r = /*$_intlDayHeader*/
      a[2].format(
        /*date*/
        a[11]
      ) + "") && kr(u, r), l & /*$theme*/
      1 && o !== (o = /*$theme*/
      a[0].day) && z(i, "class", o);
    },
    d(a) {
      a && ie(i);
    }
  };
}
function Nv(n) {
  let i, r = Ge(
    /*$_viewDates*/
    n[1]
  ), u = [];
  for (let o = 0; o < r.length; o += 1)
    u[o] = Ba(Fa(n, r, o));
  return {
    c() {
      for (let o = 0; o < u.length; o += 1)
        u[o].c();
      i = Ft();
    },
    m(o, a) {
      for (let l = 0; l < u.length; l += 1)
        u[l] && u[l].m(o, a);
      ue(o, i, a);
    },
    p(o, a) {
      if (a & /*$theme, $_intlDayHeader, $_viewDates*/
      7) {
        r = Ge(
          /*$_viewDates*/
          o[1]
        );
        let l;
        for (l = 0; l < r.length; l += 1) {
          const c = Fa(o, r, l);
          u[l] ? u[l].p(c, a) : (u[l] = Ba(c), u[l].c(), u[l].m(i.parentNode, i));
        }
        for (; l < u.length; l += 1)
          u[l].d(1);
        u.length = r.length;
      }
    },
    d(o) {
      o && ie(i), vn(u, o);
    }
  };
}
function Wa(n) {
  let i, r, u, o, a, l, c, _, g;
  return u = new Eo({
    props: {
      $$slots: { default: [Hv] },
      $$scope: { ctx: n }
    }
  }), {
    c() {
      i = se("div"), r = se("div"), Oe(u.$$.fragment), o = Ne(), a = se("div"), z(a, "class", l = /*$theme*/
      n[0].hiddenScroll), z(r, "class", c = /*$theme*/
      n[0].content), z(i, "class", _ = /*$theme*/
      n[0].allDay);
    },
    m(v, C) {
      ue(v, i, C), le(i, r), Re(u, r, null), le(r, o), le(r, a), g = !0;
    },
    p(v, C) {
      const w = {};
      C & /*$$scope, $_viewDates*/
      65538 && (w.$$scope = { dirty: C, ctx: v }), u.$set(w), (!g || C & /*$theme*/
      1 && l !== (l = /*$theme*/
      v[0].hiddenScroll)) && z(a, "class", l), (!g || C & /*$theme*/
      1 && c !== (c = /*$theme*/
      v[0].content)) && z(r, "class", c), (!g || C & /*$theme*/
      1 && _ !== (_ = /*$theme*/
      v[0].allDay)) && z(i, "class", _);
    },
    i(v) {
      g || (x(u.$$.fragment, v), g = !0);
    },
    o(v) {
      j(u.$$.fragment, v), g = !1;
    },
    d(v) {
      v && ie(i), Ae(u);
    }
  };
}
function Hv(n) {
  let i, r;
  return i = new Wv({ props: { dates: (
    /*$_viewDates*/
    n[1]
  ) } }), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o & /*$_viewDates*/
      2 && (a.dates = /*$_viewDates*/
      u[1]), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function Na(n) {
  let i, r;
  return i = new Rv({ props: { date: (
    /*date*/
    n[11]
  ) } }), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o & /*$_viewDates*/
      2 && (a.date = /*date*/
      u[11]), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function Gv(n) {
  let i, r, u = Ge(
    /*$_viewDates*/
    n[1]
  ), o = [];
  for (let l = 0; l < u.length; l += 1)
    o[l] = Na(Ua(n, u, l));
  const a = (l) => j(o[l], 1, 1, () => {
    o[l] = null;
  });
  return {
    c() {
      for (let l = 0; l < o.length; l += 1)
        o[l].c();
      i = Ft();
    },
    m(l, c) {
      for (let _ = 0; _ < o.length; _ += 1)
        o[_] && o[_].m(l, c);
      ue(l, i, c), r = !0;
    },
    p(l, c) {
      if (c & /*$_viewDates*/
      2) {
        u = Ge(
          /*$_viewDates*/
          l[1]
        );
        let _;
        for (_ = 0; _ < u.length; _ += 1) {
          const g = Ua(l, u, _);
          o[_] ? (o[_].p(g, c), x(o[_], 1)) : (o[_] = Na(g), o[_].c(), x(o[_], 1), o[_].m(i.parentNode, i));
        }
        for (ft(), _ = u.length; _ < o.length; _ += 1)
          a(_);
        at();
      }
    },
    i(l) {
      if (!r) {
        for (let c = 0; c < u.length; c += 1)
          x(o[c]);
        r = !0;
      }
    },
    o(l) {
      o = o.filter(Boolean);
      for (let c = 0; c < o.length; c += 1)
        j(o[c]);
      r = !1;
    },
    d(l) {
      l && ie(i), vn(o, l);
    }
  };
}
function zv(n) {
  let i, r, u, o, a, l, c, _, g, v;
  r = new Eo({
    props: {
      $$slots: { default: [Nv] },
      $$scope: { ctx: n }
    }
  });
  let C = (
    /*$allDaySlot*/
    n[3] && Wa(n)
  );
  return g = new Cv({
    props: {
      $$slots: { default: [Gv] },
      $$scope: { ctx: n }
    }
  }), {
    c() {
      i = se("div"), Oe(r.$$.fragment), u = Ne(), o = se("div"), c = Ne(), C && C.c(), _ = Ne(), Oe(g.$$.fragment), z(o, "class", a = /*$theme*/
      n[0].hiddenScroll), z(i, "class", l = /*$theme*/
      n[0].header);
    },
    m(w, T) {
      ue(w, i, T), Re(r, i, null), le(i, u), le(i, o), ue(w, c, T), C && C.m(w, T), ue(w, _, T), Re(g, w, T), v = !0;
    },
    p(w, [T]) {
      const E = {};
      T & /*$$scope, $_viewDates, $theme, $_intlDayHeader*/
      65543 && (E.$$scope = { dirty: T, ctx: w }), r.$set(E), (!v || T & /*$theme*/
      1 && a !== (a = /*$theme*/
      w[0].hiddenScroll)) && z(o, "class", a), (!v || T & /*$theme*/
      1 && l !== (l = /*$theme*/
      w[0].header)) && z(i, "class", l), /*$allDaySlot*/
      w[3] ? C ? (C.p(w, T), T & /*$allDaySlot*/
      8 && x(C, 1)) : (C = Wa(w), C.c(), x(C, 1), C.m(_.parentNode, _)) : C && (ft(), j(C, 1, 1, () => {
        C = null;
      }), at());
      const F = {};
      T & /*$$scope, $_viewDates*/
      65538 && (F.$$scope = { dirty: T, ctx: w }), g.$set(F);
    },
    i(w) {
      v || (x(r.$$.fragment, w), x(C), x(g.$$.fragment, w), v = !0);
    },
    o(w) {
      j(r.$$.fragment, w), j(C), j(g.$$.fragment, w), v = !1;
    },
    d(w) {
      w && (ie(i), ie(c), ie(_)), Ae(r), C && C.d(w), Ae(g, w);
    }
  };
}
function xv(n, i, r) {
  let u, o, a, l, c, { _viewDates: _, _intlDayHeader: g, _viewClass: v, _scrollable: C, allDaySlot: w, theme: T } = wt("state");
  return k(n, _, (E) => r(1, a = E)), k(n, g, (E) => r(2, l = E)), k(n, v, (E) => r(9, u = E)), k(n, w, (E) => r(3, c = E)), k(n, T, (E) => r(0, o = E)), We(v, u = "week", u), [
    o,
    a,
    l,
    c,
    _,
    g,
    v,
    w,
    T
  ];
}
class Ha extends it {
  constructor(i) {
    super(), rt(this, i, xv, zv, Ze, {});
  }
}
const Yv = {
  createOptions(n) {
    n.buttonText.timeGridDay = "day", n.buttonText.timeGridWeek = "week", n.view = "timeGridWeek", n.views.timeGridDay = {
      buttonText: gm,
      component: Ha,
      dayHeaderFormat: { weekday: "long" },
      duration: { days: 1 },
      titleFormat: { year: "numeric", month: "long", day: "numeric" }
    }, n.views.timeGridWeek = {
      buttonText: pm,
      component: Ha,
      duration: { weeks: 1 }
    };
  },
  createStores(n) {
    n._slotTimeLimits = hv(n), n._times = cv(n);
  }
};
let lo = !1;
function qv(n) {
  lo || (lo = !0, window.requestAnimationFrame(() => {
    n(), lo = !1;
  }));
}
function Ga(n, i, r) {
  return ur(i, Dr(r, n));
}
const { window: sr } = rc;
function Kv(n) {
  let i, r;
  return {
    c: Me,
    m(u, o) {
      i || (r = [
        ye(
          sr,
          "pointermove",
          /*handlePointerMove*/
          n[31]
        ),
        ye(
          sr,
          "pointerup",
          /*handlePointerUp*/
          n[32]
        ),
        ye(
          sr,
          "pointercancel",
          /*handlePointerUp*/
          n[32]
        ),
        ye(
          sr,
          "scroll",
          /*handleScroll*/
          n[0]
        ),
        ye(sr, "selectstart", Ts(
          /*complexAction*/
          n[33]
        )),
        ye(sr, "contextmenu", function() {
          he(Ts(
            /*contextmenu_handler*/
            n[40]
          )) && Ts(
            /*contextmenu_handler*/
            n[40]
          ).apply(this, arguments);
        }),
        ye(
          sr,
          "touchstart",
          /*handleTouchStart*/
          n[34]
        ),
        ye(
          sr,
          "touchmove",
          /*touchmove_handler*/
          n[39],
          { passive: !1 }
        )
      ], i = !0);
    },
    p(u, o) {
      n = u;
    },
    i: Me,
    o: Me,
    d(u) {
      i = !1, It(r);
    }
  };
}
const za = 1, xa = 2, Ya = 3, fo = 4, ao = 5;
function qa(n) {
  return n.isPrimary && (n.pointerType !== "mouse" || n.buttons & 1);
}
function Ts(n) {
  return (i) => {
    n() && i.preventDefault();
  };
}
function Xv(n, i, r) {
  let u, o, a, l, c, _, g, v, C, w, T, E, F, R, A, L, B, W, N, O, D, Y, q, X, K, $, de, He, me, { _iEvents: De, _iClass: ze, _events: Q, _view: oe, _monthMode: te, _draggable: Le, _viewClass: bt, dragScroll: Je, datesAboveResources: Ke, eventDragMinDistance: ct, eventDragStart: ht, eventDragStop: _t, eventDrop: $e, eventLongPressDelay: V, eventResizeStart: Ie, eventResizeStop: Qe, eventResize: et, longPressDelay: Bt, selectable: dt, select: ne, selectBackgroundColor: Rt, selectLongPressDelay: gt, selectMinDistance: lr, slotDuration: Ir, slotHeight: wn, unselect: J, unselectAuto: Wt, unselectCancel: Lt, dateClick: Rr } = wt("state");
  k(n, De, (H) => r(68, l = H)), k(n, ze, (H) => r(71, g = H)), k(n, Q, (H) => r(67, a = H)), k(n, oe, (H) => r(65, u = H)), k(n, te, (H) => r(70, _ = H)), k(n, Le, (H) => r(93, me = H)), k(n, bt, (H) => r(91, de = H)), k(n, Je, (H) => r(81, B = H)), k(n, Ke, (H) => r(89, K = H)), k(n, ct, (H) => r(84, O = H)), k(n, ht, (H) => r(82, W = H)), k(n, _t, (H) => r(75, T = H)), k(n, $e, (H) => r(73, C = H)), k(n, V, (H) => r(87, q = H)), k(n, Ie, (H) => r(83, N = H)), k(n, Qe, (H) => r(76, E = H)), k(n, et, (H) => r(74, w = H)), k(n, Bt, (H) => r(86, Y = H)), k(n, dt, (H) => r(92, He = H)), k(n, ne, (H) => r(77, F = H)), k(n, Rt, (H) => r(69, c = H)), k(n, gt, (H) => r(88, X = H)), k(n, lr, (H) => r(85, D = H)), k(n, Ir, (H) => r(90, $ = H)), k(n, wn, (H) => r(80, L = H)), k(n, J, (H) => r(66, o = H)), k(n, Wt, (H) => r(79, A = H)), k(n, Lt, (H) => r(78, R = H)), k(n, Rr, (H) => r(72, v = H));
  let st, cn, Te, qt, Kt, fr, St, yn, ar, cr, tn, Ve, bn, Cn, ri, Lr, An, hn, ii, Tn, Or, Pr, Mr, Xn, hr;
  function Ms(H, _e, ut, Ot) {
    st || (st = qa(_e) ? ut ? xa : me(H) ? za : ao : ao, Jn() && (Te = H, Li(_e), Ot && (Kt = Ot), ii = ut ? hn ? "resizingX" : "resizingY" : "dragging", ut && (Tn = Ue(Te.start), hn ? (Tn.setUTCHours(Te.end.getUTCHours(), Te.end.getUTCMinutes(), Te.end.getUTCSeconds(), 0), Tn < Te.start && ti(Tn)) : nt(Tn, $)), In(_e)));
  }
  function si(H) {
    st || (st = qa(H) ? He && de !== "list" ? Ya : fo : ao, Jn() && (Li(H), ii = "selecting", Or = hn ? mn({ day: 1 }) : $, Te = {
      allDay: hn,
      start: Kt,
      end: nt(Ue(Kt), Or),
      resourceIds: St ? [St.id] : []
    }, In(H)));
  }
  function Li(H) {
    window.getSelection().removeAllRanges(), ar = tn = H.clientX, cr = Ve = H.clientY;
    let _e = Si(tn, Ve);
    ({ allDay: hn, date: Kt, resource: St } = Cs(_e)(Ve)), bn = ua(_e, St ? 4 : 3), ri = ua(_e, St && (zs() || K) ? 2 : 1), Oi(), H.pointerType !== "mouse" && r(1, Xn = setTimeout(
      () => {
        st && (cn = !0, In(H));
      },
      (Zn() ? X : q) ?? Y
    ));
  }
  function In(H) {
    if (cn || H && H.pointerType === "mouse" && Gs() >= (Zn() ? D : O)) {
      cn = !0, Rn(H), We(ze, g = ii, g), l[0] || (Zn() ? Hs() : Ns(H, _r() ? N : W));
      let _e = Ws();
      if (_e) {
        let ut;
        ({ allDay: ut, date: fr, resource: yn } = Cs(_e)(Ve)), ut === hn && (An = mn((fr - Kt) / 1e3), We(De, l[0].end = nt(Ue(Te.end), An), l), _r() ? l[0].end < Tn && We(De, l[0].end = Tn, l) : Zn() ? l[0].end < Te.end ? (We(De, l[0].start = mc(l[0].end, Or), l), We(De, l[0].end = Te.end, l)) : We(De, l[0].start = Te.start, l) : (We(De, l[0].start = nt(Ue(Te.start), An), l), St && (We(De, l[0].resourceIds = Te.resourceIds.filter((Ot) => Ot !== St.id), l), l[0].resourceIds.push(yn.id))));
      }
    }
    if (B) {
      let _e = L * 2;
      qv(() => {
        bn && (Ve < _e && window.scrollBy(0, ur(-10, (Ve - _e) / 3)), Ve < Cn.top + _e && (bn.scrollTop += ur(-10, (Ve - Cn.top - _e) / 3)), Ve > window.innerHeight - _e && window.scrollBy(0, Dr(10, (Ve - window.innerHeight + _e) / 3)), Ve > Cn.bottom - _e && (bn.scrollTop += Dr(10, (Ve - Cn.bottom + _e) / 3)));
      });
    }
  }
  function Us() {
    Jn() && (Oi(), In());
  }
  function Fs(H) {
    Jn() && H.isPrimary && (tn = H.clientX, Ve = H.clientY, In(H));
  }
  function Bs(H) {
    if (Pr && A && !(R && H.target.closest(R)) && Rn(H), st && H.isPrimary) {
      if (cn)
        if (Zn()) {
          if (Pr = !0, he(F)) {
            let { start: _e, end: ut } = $t(l[0]);
            F({
              start: _e,
              end: ut,
              startStr: Er(l[0].start),
              endStr: Er(l[0].end),
              allDay: hn,
              jsEvent: H,
              view: xt(u),
              resource: St
            });
          }
        } else {
          Te.display = qt;
          let _e = _r() ? E : T;
          he(_e) && _e({
            event: $t(Te),
            jsEvent: H,
            view: xt(u)
          });
          let ut = la(Te);
          if (ui(Te, l[0]), Pi(), _e = _r() ? w : C, he(_e)) {
            let Ot = Te, dr;
            _r() ? dr = { endDelta: An } : dr = {
              delta: An,
              oldResource: St !== yn ? St : void 0,
              newResource: St !== yn ? yn : void 0
            }, _e(zn(dr, {
              event: $t(Te),
              oldEvent: $t(ut),
              jsEvent: H,
              view: xt(u),
              revert() {
                ui(Ot, ut);
              }
            }));
          }
        }
      else if ((xs() || Zn()) && he(v) && !Mr) {
        tn = H.clientX, Ve = H.clientY;
        let _e = Si(tn, Ve);
        if (_e) {
          let { allDay: ut, date: Ot, resource: dr } = Cs(_e)(Ve);
          v({
            allDay: ut,
            date: At(Ot),
            dateStr: Er(Ot),
            dayEl: _e,
            jsEvent: H,
            view: xt(u),
            resource: dr
          });
        }
      }
      cn = !1, st = ar = cr = tn = Ve = Te = qt = Kt = fr = St = yn = An = hn = We(ze, g = Tn = Or = void 0, g), bn = ri = Cn = Lr = void 0, Xn && (clearTimeout(Xn), r(1, Xn = void 0));
    }
    Mr = !1;
  }
  function Ws() {
    return Si(Ga(tn, hr[0], hr[1]), Ga(Ve, hr[2], hr[3]));
  }
  function Oi() {
    Cn = ni(bn), Lr = ni(ri), hr = [
      ur(0, Lr.left + (_ ? 0 : 8)),
      Dr(
        document.documentElement.clientWidth,
        Lr.right
      ) - 2,
      ur(
        0,
        Cn.top
        // top
      ),
      Dr(document.documentElement.clientHeight, Cn.bottom) - 2
    ];
  }
  function Ns(H, _e) {
    he(_e) && _e({
      event: $t(Te),
      jsEvent: H,
      view: xt(u)
    }), qt = Te.display, Te.display = "preview", We(De, l[0] = la(Te), l), Te.display = "ghost", Q.set(a);
  }
  function Hs() {
    We(
      De,
      l[0] = {
        id: "{select}",
        allDay: Te.allDay,
        start: Te.start,
        title: "",
        display: "preview",
        extendedProps: {},
        backgroundColor: c,
        resourceIds: Te.resourceIds
      },
      l
    );
  }
  function Pi() {
    We(De, l[0] = null, l);
  }
  function ui(H, _e) {
    H.start = _e.start, H.end = _e.end, H.resourceIds = _e.resourceIds, Q.set(a);
  }
  function Gs() {
    return Math.sqrt(Math.pow(tn - ar, 2) + Math.pow(Ve - cr, 2));
  }
  function zs() {
    return st === za;
  }
  function _r() {
    return st === xa;
  }
  function xs() {
    return st === fo;
  }
  function Zn() {
    return st === Ya;
  }
  function Jn() {
    return st && st < fo;
  }
  function Rn(H) {
    Pr && (Pr = !1, Pi(), he(o) && o({
      jsEvent: H,
      view: xt(u)
    }));
  }
  function Ys() {
    Mr = !0;
  }
  oe.subscribe(Rn);
  function Ur(H) {
    if (Jn()) {
      let _e = H.target, ut = [], Ot = () => It(ut);
      ut.push(ye(_e, "touchmove", Ts(() => cn))), ut.push(ye(_e, "touchend", Ot)), ut.push(ye(_e, "touchcancel", Ot));
    }
  }
  function qs(H) {
    sc.call(this, n, H);
  }
  return [
    Us,
    Xn,
    De,
    ze,
    Q,
    oe,
    te,
    Le,
    bt,
    Je,
    Ke,
    ct,
    ht,
    _t,
    $e,
    V,
    Ie,
    Qe,
    et,
    Bt,
    dt,
    ne,
    Rt,
    gt,
    lr,
    Ir,
    wn,
    J,
    Wt,
    Lt,
    Rr,
    Fs,
    Bs,
    Jn,
    Ur,
    Ms,
    si,
    Rn,
    Ys,
    qs,
    () => Xn
  ];
}
class Zv extends it {
  constructor(i) {
    super(), rt(
      this,
      i,
      Xv,
      Kv,
      Ze,
      {
        drag: 35,
        select: 36,
        handleScroll: 0,
        unselect: 37,
        noClick: 38
      },
      null,
      [-1, -1, -1, -1]
    );
  }
  get drag() {
    return this.$$.ctx[35];
  }
  get select() {
    return this.$$.ctx[36];
  }
  get handleScroll() {
    return this.$$.ctx[0];
  }
  get unselect() {
    return this.$$.ctx[37];
  }
  get noClick() {
    return this.$$.ctx[38];
  }
}
function Jv(n) {
  let i, r;
  return {
    c: Me,
    m(u, o) {
      i || (r = [
        ye(
          window,
          "pointermove",
          /*handlePointerMove*/
          n[5]
        ),
        ye(
          window,
          "scroll",
          /*handleScroll*/
          n[0]
        )
      ], i = !0);
    },
    p: Me,
    i: Me,
    o: Me,
    d(u) {
      i = !1, It(r);
    }
  };
}
function ys(n) {
  return n.isPrimary && n.pointerType === "mouse";
}
function Qv(n, i, r) {
  let u, o, a, l, { _iEvents: c, _events: _, _viewDates: g, _slotTimeLimits: v, slotDuration: C, slotHeight: w, hiddenDays: T, _view: E, datesAboveResources: F, theme: R } = wt("state");
  k(n, c, (me) => r(9, u = me)), k(n, v, (me) => r(18, l = me)), k(n, C, (me) => r(16, o = me)), k(n, w, (me) => r(17, a = me));
  let A, L, B, W, N, O;
  function D(me, De, ze, Q) {
    ys(ze) && (L = me, B = De, W = ni(B), A = ze.clientY, N = Q);
  }
  function Y(me, De) {
    ys(De) && (L = me, B = null, A = N = void 0);
  }
  function q(me) {
    ys(me) && He();
  }
  function X() {
    if (L) {
      if (B) {
        let me = A - W.top;
        O = nt(nt(Ue(L), l.min), o, pc(me / a));
      } else
        O = L;
      u[1] || de(), We(c, u[1].start = O, u), We(c, u[1].end = nt(Ue(O), o), u), We(c, u[1].resourceIds = N ? [N.id] : [], u);
    }
  }
  function K() {
    B && (W = ni(B), X());
  }
  function $(me) {
    ys(me) && (A = me.clientY, X());
  }
  function de() {
    We(
      c,
      u[1] = {
        id: "{pointer}",
        title: "",
        display: "pointer",
        extendedProps: {},
        backgroundColor: "transparent"
      },
      u
    );
  }
  function He() {
    L = B = We(c, u[1] = null, u);
  }
  return n.$$.update = () => {
    n.$$.dirty & /*$_iEvents*/
    512 && u[0] && He();
  }, [
    K,
    c,
    v,
    C,
    w,
    $,
    D,
    Y,
    q,
    u
  ];
}
class Vv extends it {
  constructor(i) {
    super(), rt(this, i, Qv, Jv, Ze, {
      enterTimeGrid: 6,
      enterDayGrid: 7,
      leave: 8,
      handleScroll: 0
    });
  }
  get enterTimeGrid() {
    return this.$$.ctx[6];
  }
  get enterDayGrid() {
    return this.$$.ctx[7];
  }
  get leave() {
    return this.$$.ctx[8];
  }
  get handleScroll() {
    return this.$$.ctx[0];
  }
}
function Ka(n) {
  let i, r, u, o;
  return {
    c() {
      i = se("div"), z(i, "class", r = /*$theme*/
      n[1].resizer);
    },
    m(a, l) {
      ue(a, i, l), u || (o = ye(
        i,
        "pointerdown",
        /*pointerdown_handler*/
        n[8]
      ), u = !0);
    },
    p(a, l) {
      l & /*$theme*/
      2 && r !== (r = /*$theme*/
      a[1].resizer) && z(i, "class", r);
    },
    d(a) {
      a && ie(i), u = !1, o();
    }
  };
}
function jv(n) {
  let i, r = (
    /*resizable*/
    n[0] && Ka(n)
  );
  return {
    c() {
      r && r.c(), i = Ft();
    },
    m(u, o) {
      r && r.m(u, o), ue(u, i, o);
    },
    p(u, [o]) {
      /*resizable*/
      u[0] ? r ? r.p(u, o) : (r = Ka(u), r.c(), r.m(i.parentNode, i)) : r && (r.d(1), r = null);
    },
    i: Me,
    o: Me,
    d(u) {
      u && ie(i), r && r.d(u);
    }
  };
}
function $v(n, i, r) {
  let u, o, a, { event: l } = i, { theme: c, eventDurationEditable: _, editable: g } = wt("state");
  k(n, c, (w) => r(1, a = w)), k(n, _, (w) => r(7, o = w)), k(n, g, (w) => r(6, u = w));
  let v;
  function C(w) {
    sc.call(this, n, w);
  }
  return n.$$set = (w) => {
    "event" in w && r(5, l = w.event);
  }, n.$$.update = () => {
    n.$$.dirty & /*event, $eventDurationEditable, $editable*/
    224 && r(0, v = !Hn(l.display) && !Kn(l.display) && ((l.durationEditable ?? o) || (l.editable ?? u)));
  }, [
    v,
    a,
    c,
    _,
    g,
    l,
    u,
    o,
    C
  ];
}
class ew extends it {
  constructor(i) {
    super(), rt(this, i, $v, jv, Ze, { event: 5 });
  }
}
function Xa(n) {
  let i, r, u = {};
  return i = new Vv({ props: u }), n[16](i), {
    c() {
      Oe(i.$$.fragment);
    },
    m(o, a) {
      Re(i, o, a), r = !0;
    },
    p(o, a) {
      const l = {};
      i.$set(l);
    },
    i(o) {
      r || (x(i.$$.fragment, o), r = !0);
    },
    o(o) {
      j(i.$$.fragment, o), r = !1;
    },
    d(o) {
      n[16](null), Ae(i, o);
    }
  };
}
function tw(n) {
  let i, r, u, o, a = {};
  i = new Zv({ props: a }), n[15](i);
  let l = (
    /*$pointer*/
    n[1] && Xa(n)
  );
  return {
    c() {
      Oe(i.$$.fragment), r = Ne(), l && l.c(), u = Ft();
    },
    m(c, _) {
      Re(i, c, _), ue(c, r, _), l && l.m(c, _), ue(c, u, _), o = !0;
    },
    p(c, [_]) {
      const g = {};
      i.$set(g), /*$pointer*/
      c[1] ? l ? (l.p(c, _), _ & /*$pointer*/
      2 && x(l, 1)) : (l = Xa(c), l.c(), x(l, 1), l.m(u.parentNode, u)) : l && (ft(), j(l, 1, 1, () => {
        l = null;
      }), at());
    },
    i(c) {
      o || (x(i.$$.fragment, c), x(l), o = !0);
    },
    o(c) {
      j(i.$$.fragment, c), j(l), o = !1;
    },
    d(c) {
      c && (ie(r), ie(u)), n[15](null), Ae(i, c), l && l.d(c);
    }
  };
}
function nw(n, i, r) {
  let u, o, a, l, c, _, g, v, { theme: C, editable: w, eventStartEditable: T, eventDurationEditable: E, pointer: F, _bodyEl: R, _interaction: A, _iClasses: L, _draggable: B } = wt("state");
  k(n, C, (D) => r(11, a = D)), k(n, w, (D) => r(13, _ = D)), k(n, T, (D) => r(14, g = D)), k(n, F, (D) => r(1, v = D)), k(n, R, (D) => r(10, o = D)), k(n, A, (D) => r(0, u = D)), k(n, L, (D) => r(17, c = D)), k(n, B, (D) => r(12, l = D)), We(A, u.resizer = ew, u);
  function W() {
    var D;
    for (let Y of Object.values(u))
      (D = Y == null ? void 0 : Y.handleScroll) == null || D.call(Y);
  }
  function N(D) {
    en[D ? "unshift" : "push"](() => {
      u.action = D, A.set(u);
    });
  }
  function O(D) {
    en[D ? "unshift" : "push"](() => {
      u.pointer = D, A.set(u);
    });
  }
  return n.$$.update = () => {
    n.$$.dirty & /*$eventStartEditable, $editable*/
    24576 && We(B, l = (D) => (D.startEditable ?? g) || (D.editable ?? _), l), n.$$.dirty & /*$theme, $_draggable*/
    6144 && We(
      L,
      c = (D, Y) => {
        let { display: q } = Y;
        return Kn(q) ? [a[q]] : !Hn(q) && l(Y) ? [a.draggable] : [];
      },
      c
    ), n.$$.dirty & /*$_bodyEl*/
    1024 && o && ye(o, "scroll", W);
  }, [
    u,
    v,
    C,
    w,
    T,
    F,
    R,
    A,
    L,
    B,
    o,
    a,
    l,
    _,
    g,
    N,
    O
  ];
}
class rw extends it {
  constructor(i) {
    super(), rt(this, i, nw, tw, Ze, {});
  }
}
const iw = {
  createOptions(n) {
    n.dateClick = void 0, n.dragScroll = !0, n.editable = !1, n.eventDragMinDistance = 5, n.eventDragStart = void 0, n.eventDragStop = void 0, n.eventDrop = void 0, n.eventDurationEditable = !0, n.eventLongPressDelay = void 0, n.eventResizeStart = void 0, n.eventResizeStop = void 0, n.eventResize = void 0, n.eventStartEditable = !0, n.longPressDelay = 1e3, n.pointer = !1, n.select = void 0, n.selectBackgroundColor = void 0, n.selectLongPressDelay = void 0, n.selectMinDistance = 5, n.unselect = void 0, n.unselectAuto = !0, n.unselectCancel = "", n.theme.draggable = "ec-draggable", n.theme.ghost = "ec-ghost", n.theme.preview = "ec-preview", n.theme.pointer = "ec-pointer", n.theme.resizer = "ec-resizer", n.theme.dragging = "ec-dragging", n.theme.resizingY = "ec-resizing-y", n.theme.resizingX = "ec-resizing-x", n.theme.selecting = "ec-selecting";
  },
  createStores(n) {
    n._draggable = vt(Me), n._auxiliary.update((i) => [...i, rw]);
  }
}, sw = "#f2f2f2";
function uw(n) {
  if (n === "")
    return sw;
  let i = 0;
  for (let _ = 0; _ < n.length; _++)
    i = n.charCodeAt(_) + ((i << 5) - i);
  let r = "";
  for (let _ = 0; _ < 3; _++) {
    const g = i >> _ * 8 & 255;
    let v = g.toString(16)[1];
    !v === void 0 && (v = g.toString(16)[0]);
    const C = v.repeat(2);
    r += ("00" + C).substr(-2);
  }
  const u = aw(r), o = lw(u.r, u.g, u.b);
  o.h += 0.05, o.s = 0.7, o.v = 0.7;
  const a = ow(o.h, o.s, o.v);
  return "#" + fw(a.r, a.g, a.b);
}
function ow(n, i, r) {
  let u = 0, o = 0, a = 0;
  const l = Math.floor(n * 6), c = n * 6 - l, _ = r * (1 - i), g = r * (1 - c * i), v = r * (1 - (1 - c) * i);
  switch (l % 6) {
    case 0:
      u = r, o = v, a = _;
      break;
    case 1:
      u = g, o = r, a = _;
      break;
    case 2:
      u = _, o = r, a = v;
      break;
    case 3:
      u = _, o = g, a = r;
      break;
    case 4:
      u = v, o = _, a = r;
      break;
    case 5:
      u = r, o = _, a = g;
      break;
  }
  return {
    r: Math.round(u * 255),
    g: Math.round(o * 255),
    b: Math.round(a * 255)
  };
}
function lw(n, i, r) {
  const u = Math.max(n, i, r), o = Math.min(n, i, r), a = u - o;
  let l = -1;
  const c = u === 0 ? 0 : a / u, _ = u / 255;
  switch (u) {
    case o:
      l = 0;
      break;
    case n:
      l = i - r + a * (i < r ? 6 : 0), l /= 6 * a;
      break;
    case i:
      l = r - n + a * 2, l /= 6 * a;
      break;
    case r:
      l = n - i + a * 4, l /= 6 * a;
      break;
  }
  return {
    h: l,
    s: c,
    v: _
  };
}
function fw(n, i, r) {
  return ((1 << 24) + (n << 16) + (i << 8) + r).toString(16).slice(1);
}
function aw(n) {
  const i = parseInt(n.substring(0, 2), 16), r = parseInt(n.substring(2, 4), 16), u = parseInt(n.substring(4, 6), 16);
  return { r: i, g: r, b: u };
}
const { document: cw } = rc;
function hw(n) {
  let i, r, u, o, a, l, c;
  const _ = (
    /*#slots*/
    n[10].default
  ), g = Di(
    _,
    n,
    /*$$scope*/
    n[9],
    null
  );
  return {
    c() {
      i = Ne(), r = se("popup"), u = se("div"), g && g.c(), z(u, "class", "popup svelte-d4cui3"), z(u, "style", o = `--pos-x:${/*pos_x*/
      n[3]}; --pos-y:${/*pos_y*/
      n[2]};`), $f(
        u,
        "show",
        /*is_open*/
        n[0]
      ), z(r, "class", "svelte-d4cui3");
    },
    m(v, C) {
      ue(v, i, C), ue(v, r, C), le(r, u), g && g.m(u, null), n[11](u), a = !0, l || (c = ye(
        cw.body,
        "click",
        /*handle_body_click*/
        n[4],
        !0
      ), l = !0);
    },
    p(v, [C]) {
      g && g.p && (!a || C & /*$$scope*/
      512) && ki(
        g,
        _,
        v,
        /*$$scope*/
        v[9],
        a ? Ei(
          _,
          /*$$scope*/
          v[9],
          C,
          null
        ) : Ai(
          /*$$scope*/
          v[9]
        ),
        null
      ), (!a || C & /*pos_x, pos_y*/
      12 && o !== (o = `--pos-x:${/*pos_x*/
      v[3]}; --pos-y:${/*pos_y*/
      v[2]};`)) && z(u, "style", o), (!a || C & /*is_open*/
      1) && $f(
        u,
        "show",
        /*is_open*/
        v[0]
      );
    },
    i(v) {
      a || (x(g, v), a = !0);
    },
    o(v) {
      j(g, v), a = !1;
    },
    d(v) {
      v && (ie(i), ie(r)), g && g.d(v), n[11](null), l = !1, c();
    }
  };
}
const co = 16;
function wo(n) {
  if (!n)
    return document.body;
  const r = n.getClientRects()[0].height;
  return n.scrollHeight > n.clientHeight && r > 0 ? n : (n.parentElement || console.warn({
    level: "warn",
    msg: "finding scrolling element, node does not have parent",
    node: n
  }), wo(n.parentNode));
}
function _w(n, i, r) {
  let u, o, { $$slots: a = {}, $$scope: l } = i, { is_open: c = !1 } = i, { anchor_el: _ } = i, { track_scrolling: g = !1 } = i, v;
  function C(L) {
    if (!c)
      return;
    const B = L.target;
    if (!_)
      return;
    const W = v.contains(B), N = _.contains(B);
  }
  async function w(L) {
    if (await lc(), !L)
      return;
    const B = L.getBoundingClientRect(), W = v.firstElementChild.getBoundingClientRect(), N = window.innerWidth, O = wo(L), D = B.top + B.height / 2 - W.height / 2, Y = O.getClientRects()[0].top, X = O.getClientRects()[0].bottom - W.height;
    r(8, E = Math.max(Y, Math.min(D, X))), r(7, T = B.left - W.width - co);
    const K = B.left + B.width + co;
    if (r(7, T = K), !(K + W.width < N)) {
      const de = B.left - W.width - co;
      r(7, T = de);
    }
  }
  let T = 0, E = 0;
  function F(L, B, W) {
    if (!B || !W || !L)
      return;
    const N = wo(L);
    N.removeEventListener("scroll", R), N.addEventListener("scroll", R);
  }
  function R(L) {
    w(_);
  }
  function A(L) {
    en[L ? "unshift" : "push"](() => {
      v = L, r(1, v);
    });
  }
  return n.$$set = (L) => {
    "is_open" in L && r(0, c = L.is_open), "anchor_el" in L && r(5, _ = L.anchor_el), "track_scrolling" in L && r(6, g = L.track_scrolling), "$$scope" in L && r(9, l = L.$$scope);
  }, n.$$.update = () => {
    n.$$.dirty & /*is_open, anchor_el*/
    33 && c && w(_), n.$$.dirty & /*anchor_el*/
    32 && console.log({ anchor_el: _ }), n.$$.dirty & /*x*/
    128 && r(3, u = `${T}px`), n.$$.dirty & /*y*/
    256 && r(2, o = `${E}px`), n.$$.dirty & /*anchor_el, is_open, track_scrolling*/
    97 && F(_, c, g);
  }, [
    c,
    v,
    o,
    u,
    C,
    _,
    g,
    T,
    E,
    l,
    a,
    A
  ];
}
class dw extends it {
  constructor(i) {
    super(), rt(this, i, _w, hw, Ze, {
      is_open: 0,
      anchor_el: 5,
      track_scrolling: 6
    });
  }
}
function Za(n, i, r) {
  const u = n.slice();
  return u[15] = i[r], u;
}
function Ja(n, i, r) {
  const u = n.slice();
  return u[18] = i[r], u;
}
function Qa(n) {
  let i, r = (
    /*task*/
    n[18].id + ""
  ), u, o, a = (
    /*task*/
    n[18].name + ""
  ), l, c, _, g;
  return {
    c() {
      var v;
      i = se("option"), u = kn(r), o = kn(` | 
							`), l = kn(a), c = Ne(), i.selected = _ = /*selected_task*/
      ((v = n[0]) == null ? void 0 : v.id) === /*task*/
      n[18].id, i.__value = g = /*task*/
      n[18].id, Ss(i, i.__value);
    },
    m(v, C) {
      ue(v, i, C), le(i, u), le(i, o), le(i, l), le(i, c);
    },
    p(v, C) {
      var w;
      C & /*projects*/
      2 && r !== (r = /*task*/
      v[18].id + "") && kr(u, r), C & /*projects*/
      2 && a !== (a = /*task*/
      v[18].name + "") && kr(l, a), C & /*selected_task, projects*/
      3 && _ !== (_ = /*selected_task*/
      ((w = v[0]) == null ? void 0 : w.id) === /*task*/
      v[18].id) && (i.selected = _), C & /*projects*/
      2 && g !== (g = /*task*/
      v[18].id) && (i.__value = g, Ss(i, i.__value));
    },
    d(v) {
      v && ie(i);
    }
  };
}
function Va(n) {
  let i, r, u = Ge(
    /*project*/
    n[15].tasks
  ), o = [];
  for (let a = 0; a < u.length; a += 1)
    o[a] = Qa(Ja(n, u, a));
  return {
    c() {
      i = se("optgroup");
      for (let a = 0; a < o.length; a += 1)
        o[a].c();
      z(i, "label", r = /*project*/
      n[15].name);
    },
    m(a, l) {
      ue(a, i, l);
      for (let c = 0; c < o.length; c += 1)
        o[c] && o[c].m(i, null);
    },
    p(a, l) {
      if (l & /*selected_task, projects*/
      3) {
        u = Ge(
          /*project*/
          a[15].tasks
        );
        let c;
        for (c = 0; c < u.length; c += 1) {
          const _ = Ja(a, u, c);
          o[c] ? o[c].p(_, l) : (o[c] = Qa(_), o[c].c(), o[c].m(i, null));
        }
        for (; c < o.length; c += 1)
          o[c].d(1);
        o.length = u.length;
      }
      l & /*projects*/
      2 && r !== (r = /*project*/
      a[15].name) && z(i, "label", r);
    },
    d(a) {
      a && ie(i), vn(o, a);
    }
  };
}
function gw(n) {
  let i, r, u, o, a, l, c, _, g, v, C, w, T, E, F, R, A, L, B = Ge(
    /*projects*/
    n[1]
  ), W = [];
  for (let N = 0; N < B.length; N += 1)
    W[N] = Va(Za(n, B, N));
  return {
    c() {
      i = Ne(), r = se("event-form"), u = se("form"), o = se("label"), a = se("span"), a.textContent = "Task", l = Ne(), c = se("select");
      for (let N = 0; N < W.length; N += 1)
        W[N].c();
      _ = Ne(), g = se("label"), v = se("span"), v.textContent = "Description", C = Ne(), w = se("textarea"), T = Ne(), E = se("button"), E.textContent = "save", F = Ne(), R = se("button"), R.textContent = "delete", z(c, "class", "svelte-1ju71ug"), z(o, "class", "svelte-1ju71ug"), z(w, "rows", "5"), z(w, "class", "svelte-1ju71ug"), z(g, "class", "svelte-1ju71ug"), z(E, "type", "submit"), z(u, "class", "svelte-1ju71ug");
    },
    m(N, O) {
      ue(N, i, O), ue(N, r, O), le(r, u), le(u, o), le(o, a), le(o, l), le(o, c);
      for (let D = 0; D < W.length; D += 1)
        W[D] && W[D].m(c, null);
      le(u, _), le(u, g), le(g, v), le(g, C), le(g, w), Ss(
        w,
        /*new_description*/
        n[3]
      ), le(u, T), le(u, E), le(u, F), le(u, R), n[12](r), A || (L = [
        ye(
          document.body,
          "keydown",
          /*handle_cmd_enter*/
          n[7]
        ),
        ye(
          document.body,
          "keydown",
          /*handle_escape*/
          n[8]
        ),
        ye(
          c,
          "change",
          /*handle_task_change*/
          n[4]
        ),
        ye(
          w,
          "input",
          /*textarea_input_handler*/
          n[11]
        ),
        ye(R, "click", jf(
          /*handle_delete*/
          n[6]
        )),
        ye(u, "submit", jf(
          /*handle_submit*/
          n[5]
        ))
      ], A = !0);
    },
    p(N, [O]) {
      if (O & /*projects, selected_task*/
      3) {
        B = Ge(
          /*projects*/
          N[1]
        );
        let D;
        for (D = 0; D < B.length; D += 1) {
          const Y = Za(N, B, D);
          W[D] ? W[D].p(Y, O) : (W[D] = Va(Y), W[D].c(), W[D].m(c, null));
        }
        for (; D < W.length; D += 1)
          W[D].d(1);
        W.length = B.length;
      }
      O & /*new_description*/
      8 && Ss(
        w,
        /*new_description*/
        N[3]
      );
    },
    i: Me,
    o: Me,
    d(N) {
      N && (ie(i), ie(r)), vn(W, N), n[12](null), A = !1, It(L);
    }
  };
}
function pw(n, i, r) {
  let { selected_task: u } = i, { is_open: o = !1 } = i, { description: a = void 0 } = i, { projects: l } = i;
  const c = Co();
  let _, g = u || l[0].tasks[0], v = a;
  function C(L) {
    const W = L.target.value;
    for (const N of l) {
      const O = N.tasks.find((D) => String(D.id) === W);
      if (O) {
        g = O;
        break;
      }
    }
  }
  function w() {
    const L = {
      task: g,
      description: v ?? ""
    };
    console.log({ level: "dev", msg: "submitting", detail: L }), c("save", L);
  }
  function T() {
    c("delete");
  }
  function E(L) {
    L.code === "Enter" && (L.metaKey || L.ctrlKey) && o && w();
  }
  function F(L) {
    L.code === "Escape" && o && c("close");
  }
  function R() {
    v = this.value, r(3, v);
  }
  function A(L) {
    en[L ? "unshift" : "push"](() => {
      _ = L, r(2, _);
    });
  }
  return n.$$set = (L) => {
    "selected_task" in L && r(0, u = L.selected_task), "is_open" in L && r(9, o = L.is_open), "description" in L && r(10, a = L.description), "projects" in L && r(1, l = L.projects);
  }, [
    u,
    l,
    _,
    v,
    C,
    w,
    T,
    E,
    F,
    o,
    a,
    R,
    A
  ];
}
class mw extends it {
  constructor(i) {
    super(), rt(this, i, pw, gw, Ze, {
      selected_task: 0,
      is_open: 9,
      description: 10,
      projects: 1
    });
  }
}
class vw {
  constructor() {
    ke(this, "_entries$", vt([]));
    ke(this, "entries$", Yt(this._entries$, (i) => i));
    ke(this, "entries_to_save$", ja(this._entries$, kt.ToSave));
    ke(this, "entries_to_delete$", ja(this._entries$, kt.ToDelete));
  }
  create_time_entry(...i) {
    const r = i.map((u) => new ei(u));
    this._entries$.update((u) => [...u, ...r]);
  }
  clear() {
    this._entries$.set([]);
  }
  /**
   * Selects a single time entry
   * and deselects any previously selected ones
   */
  select_time_entry(i) {
    this._entries$.update((r) => r.map((u) => u.id === i ? { ...u, is_selected: !0 } : { ...u, is_selected: !1 }));
  }
  /**
   * Selects additional time entries
   * wihout deselecting any previously selected ones
   */
  select_additional_time_entry(i) {
    this._entries$.update((r) => r.map((u) => u.id === i ? { ...u, is_selected: !0 } : u));
  }
  reset_selected_time_entry() {
    this._entries$.update((i) => i.map((r) => ({ ...r, is_selected: !1 })));
  }
  set_state(i, r) {
    this._entries$.update((u) => u.map((o) => o.id === i ? { ...o, state: r } : o));
  }
  flag_to_delete(i) {
    this.set_state(i, kt.ToDelete);
  }
  flag_to_save(i) {
    this._entries$.update((r) => r.map((u) => u.id === i ? {
      ...u,
      state: kt.ToSave
    } : u));
  }
  delete(i) {
    this._entries$.update((r) => r.filter((u) => u.id !== i));
  }
  delete_batch(i) {
    this._entries$.update((r) => r.filter((u) => !i.includes(u.id)));
  }
  set_time_range(i, r, u) {
    this.update_by_id(i, { start: r, end: u }), this.flag_to_save(i);
  }
  update_by_id(i, r) {
    this._entries$.update((u) => u.map((o) => o.id === i ? {
      ...o,
      ...r
    } : o));
  }
  update_by_batch(i) {
    this._entries$.update((r) => r.map((u) => {
      const o = i.find((a) => a.id === u.id);
      return o != null ? {
        ...u,
        ...o.time_entry
        // state: Time_Entry_State.Stable,
      } : u;
    }));
  }
  replace_time_entries_by_id(i) {
    const r = yo(this.entries$), u = [];
    for (const { id: o, time_entry: a } of i) {
      const l = r.findIndex((c) => c.id === o);
      u.push({
        index: l,
        time_entry: a
      });
    }
    this.replace_time_entries_by_index(u);
  }
  replace_time_entries_by_index(i) {
    this._entries$.update((r) => {
      const u = [...r];
      for (const { index: o, time_entry: a } of i)
        a.start > a.end && ([a.end, a.start] = [a.start, a.end]), u[o] = a;
      return u;
    });
  }
  replace_time_entries_by_time_range(i) {
    this._entries$.update((r) => {
      const u = [...r];
      for (const o of i) {
        const a = r.findIndex((l) => ei.Is_Same_Range(l, o));
        u[a] = o;
      }
      return u;
    });
  }
}
function ja(n, i) {
  return Yt(n, (r) => r.filter((u) => u.state === i));
}
const Lc = {};
function ww() {
  Os(Lc, new vw());
}
function Oc() {
  const n = wt(Lc);
  return n || console.warn({ level: "warn", msg: "time entry context has not been initalized" }), n;
}
function $a(n) {
  let i = (
    /*cur_time_entry*/
    n[0] && /*anchor*/
    n[3]
  ), r, u, o = ec(n);
  return {
    c() {
      o.c(), r = Ft();
    },
    m(a, l) {
      o.m(a, l), ue(a, r, l), u = !0;
    },
    p(a, l) {
      l & /*cur_time_entry, anchor*/
      9 && Ze(i, i = /*cur_time_entry*/
      a[0] && /*anchor*/
      a[3]) ? (ft(), j(o, 1, 1, Me), at(), o = ec(a), o.c(), x(o, 1), o.m(r.parentNode, r)) : o.p(a, l);
    },
    i(a) {
      u || (x(o), u = !0);
    },
    o(a) {
      j(o), u = !1;
    },
    d(a) {
      a && ie(r), o.d(a);
    }
  };
}
function yw(n) {
  let i, r;
  return i = new mw({
    props: {
      projects: (
        /*projects*/
        n[5]
      ),
      selected_task: (
        /*cur_time_entry*/
        n[0].task
      ),
      description: (
        /*cur_time_entry*/
        n[0].description
      ),
      is_open: (
        /*is_form_open*/
        n[2]
      )
    }
  }), i.$on(
    "save",
    /*handle_save*/
    n[9]
  ), i.$on(
    "delete",
    /*handle_delete*/
    n[10]
  ), i.$on(
    "close",
    /*handle_close*/
    n[11]
  ), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o & /*projects*/
      32 && (a.projects = /*projects*/
      u[5]), o & /*cur_time_entry*/
      1 && (a.selected_task = /*cur_time_entry*/
      u[0].task), o & /*cur_time_entry*/
      1 && (a.description = /*cur_time_entry*/
      u[0].description), o & /*is_form_open*/
      4 && (a.is_open = /*is_form_open*/
      u[2]), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function ec(n) {
  let i, r;
  return i = new dw({
    props: {
      is_open: (
        /*is_form_open*/
        n[2]
      ),
      anchor_el: (
        /*anchor*/
        n[3]
      ),
      track_scrolling: !0,
      $$slots: { default: [yw] },
      $$scope: { ctx: n }
    }
  }), {
    c() {
      Oe(i.$$.fragment);
    },
    m(u, o) {
      Re(i, u, o), r = !0;
    },
    p(u, o) {
      const a = {};
      o & /*is_form_open*/
      4 && (a.is_open = /*is_form_open*/
      u[2]), o & /*anchor*/
      8 && (a.anchor_el = /*anchor*/
      u[3]), o & /*$$scope, projects, cur_time_entry, is_form_open*/
      1073741861 && (a.$$scope = { dirty: o, ctx: u }), i.$set(a);
    },
    i(u) {
      r || (x(i.$$.fragment, u), r = !0);
    },
    o(u) {
      j(i.$$.fragment, u), r = !1;
    },
    d(u) {
      Ae(i, u);
    }
  };
}
function bw(n) {
  let i, r, u, o, a = {
    plugins: (
      /*plugins*/
      n[7]
    ),
    options: (
      /*options*/
      n[1]
    )
  };
  r = new av({ props: a }), n[14](r);
  let l = (
    /*cur_time_entry*/
    n[0] && /*anchor*/
    n[3] && $a(n)
  );
  return {
    c() {
      i = se("div"), Oe(r.$$.fragment), u = Ne(), l && l.c(), z(i, "class", "calendar-root svelte-oa8jgk");
    },
    m(c, _) {
      ue(c, i, _), Re(r, i, null), le(i, u), l && l.m(i, null), o = !0;
    },
    p(c, [_]) {
      const g = {};
      _ & /*options*/
      2 && (g.options = /*options*/
      c[1]), r.$set(g), /*cur_time_entry*/
      c[0] && /*anchor*/
      c[3] ? l ? (l.p(c, _), _ & /*cur_time_entry, anchor*/
      9 && x(l, 1)) : (l = $a(c), l.c(), x(l, 1), l.m(i, null)) : l && (ft(), j(l, 1, 1, () => {
        l = null;
      }), at());
    },
    i(c) {
      o || (x(r.$$.fragment, c), x(l), o = !0);
    },
    o(c) {
      j(r.$$.fragment, c), j(l), o = !1;
    },
    d(c) {
      c && ie(i), n[14](null), Ae(r), l && l.d();
    }
  };
}
function Cw(n, i, r) {
  let u, o, a, l, c = Me, _ = () => (c(), c = Ls(u, (Q) => r(13, l = Q)), u);
  n.$$.on_destroy.push(() => c());
  const g = Co(), v = Oc(), C = hc();
  let w = [Yv, iw], T = {};
  function E() {
    return function(oe) {
      const te = /* @__PURE__ */ new Date("1970-01-01"), bt = R.filter((_t) => Gn(oe) === Gn(_t.start ?? te)).reduce(
        (_t, $e) => {
          let V = 0;
          return $e.start && $e.end && (V = nm($e.start, $e.end)), _t + V;
        },
        0
      ), Je = rm(bt), Ke = oe.toLocaleDateString("de", { weekday: "short" }), ct = oe.toLocaleDateString("de", { day: "numeric" }), ht = oe.toLocaleDateString("de", { month: "numeric" });
      return `${Ke} ${ct}.${ht} (${Je})`;
    };
  }
  function F(Q) {
    var Le, bt;
    if (Q.event.id === "{pointer}")
      return Q.timeText;
    const oe = Q.event.extendedProps;
    return {
      html: `
            <div class="ec-custom-event ${[
        {
          class: "stable",
          condition: oe.state === kt.Stable
        },
        {
          class: "in-progress",
          condition: oe.state === kt.In_Progress
        },
        {
          class: "saving",
          condition: oe.state === kt.ToSave
        },
        {
          class: "error",
          condition: oe.state === kt.Error
        },
        {
          class: "deleting",
          condition: oe.state === kt.ToDelete
        },
        {
          class: "selected",
          condition: oe.is_selected
        }
      ].filter((Je) => Je.condition).map((Je) => Je.class).join(" ")}">
                <div>${Q.timeText}</div>
                ${oe.project ? `<div>${(Le = oe.project) == null ? void 0 : Le.name}</div>` : ""}
                ${oe.task ? `<div>${(bt = oe.task) == null ? void 0 : bt.name}</div>` : ""}
                ${oe.description ? `<div>${oe.description}</div>` : ""}
            </div>
        `
    };
  }
  let R = [];
  const A = v.entries$;
  k(n, A, (Q) => r(12, a = Q));
  function L(Q) {
    const oe = Q.map(B);
    D && (D.setOption("events", oe), D.setOption("dayHeaderFormat", E()), R = oe);
  }
  function B(Q) {
    var Le;
    const oe = `${((Le = Q.project) == null ? void 0 : Le.name) ?? ""}`;
    let te = uw(oe);
    return oe === "" && (te = "var(--color-grey-2)"), {
      id: String(Q.id),
      allDay: !1,
      start: Q.start,
      end: Q.end,
      // editable: true,
      editable: Q.state === kt.Stable,
      durationEditable: Q.state === kt.Stable,
      startEditable: Q.state === kt.Stable,
      backgroundColor: te,
      extendedProps: Q
    };
  }
  let W = !1, N, O, D;
  function Y(Q) {
    const { detail: oe } = Q;
    v.reset_selected_time_entry(), v.update_by_id(O.id, oe), v.flag_to_save(O.id), r(2, W = !1);
  }
  function q() {
    v.reset_selected_time_entry(), v.flag_to_delete(O.id), r(2, W = !1);
  }
  function X() {
    r(2, W = !1);
  }
  function K(Q) {
    const oe = { start: Q.start, end: Q.end };
    g("datechanged", oe);
  }
  function $(Q) {
    v.reset_selected_time_entry(), v.create_time_entry({
      start: Q.start,
      end: Q.end,
      state: kt.In_Progress
    }), D.unselect();
  }
  function de(Q) {
    const oe = Q.event.extendedProps;
    v.set_time_range(oe.id, Q.event.start, Q.event.end);
  }
  function He(Q) {
    const oe = Q.event.extendedProps;
    v.set_time_range(oe.id, Q.event.start, Q.event.end);
  }
  function me(Q) {
    const oe = Q.event.extendedProps;
    (oe.is_selected || oe.state === kt.In_Progress) && (r(2, W = !0), r(0, O = oe), r(3, N = Q.el));
  }
  function De(Q) {
    const oe = Q.event.extendedProps;
    v.select_time_entry(oe.id);
  }
  function ze(Q) {
    en[Q ? "unshift" : "push"](() => {
      D = Q, r(4, D);
    });
  }
  return n.$$.update = () => {
    n.$$.dirty & /*$project_sets, cur_time_entry*/
    8193 && r(5, o = l.get(Gn((O == null ? void 0 : O.start) ?? /* @__PURE__ */ new Date())) ?? []), n.$$.dirty & /*$store*/
    4096 && L(a);
  }, _(r(6, u = C.store)), r(1, T = {
    view: "timeGridWeek",
    height: "100%",
    slotDuration: "00:15",
    editable: !0,
    eventClick: De,
    slotMinTime: "06:00:00",
    slotMaxTime: "22:00:00",
    datesSet: K,
    eventDrop: de,
    eventTimeFormat: {
      hour: "numeric",
      minute: "2-digit",
      meridiem: !1,
      hour12: !1
    },
    eventResize: He,
    selectable: !0,
    select: $,
    pointer: !0,
    dayMaxEvents: !0,
    nowIndicator: !0,
    eventDidMount: me,
    eventContent: F,
    locale: "de",
    firstDay: 1,
    dayHeaderFormat: E(),
    hiddenDays: [0, 6]
  }), [
    O,
    T,
    W,
    N,
    D,
    o,
    u,
    w,
    A,
    Y,
    q,
    X,
    a,
    l,
    ze
  ];
}
class Tw extends it {
  constructor(i) {
    super(), rt(this, i, Cw, bw, Ze, {});
  }
}
function Sw(n, i) {
  i.entries_to_save$.subscribe(Dw.bind(void 0, n, i)), i.entries_to_delete$.subscribe(Ew.bind(void 0, n, i));
}
async function Dw(n, i, r) {
  if (!(r.length > 0))
    return;
  const o = r.map(async (g) => {
    g.id < 0 ? await n.save_time_entry(g) : await n.update_time_entry(g);
  });
  await Promise.allSettled(o);
  const { start: a, end: l } = kw(r[0].start), c = await n.fetch_time_entires(a, l), _ = [];
  r.forEach((g) => {
    const v = c.find((C) => ei.Is_Same_Range(g, C));
    v && _.push({
      id: g.id,
      time_entry: v
    });
  }), i.replace_time_entries_by_id(_);
}
async function Ew(n, i, r) {
  if (r.length === 0)
    return;
  const u = [], o = r.map(async (c) => {
    c.id > 0 && await n.delete_time_entry(c);
  }), a = [];
  (await Promise.allSettled(o)).forEach((c, _) => {
    const g = r[_];
    if (c.status === "rejected") {
      console.log({ level: "error", msg: "could not delete time entry", te: g, err: c });
      const v = um(g, _c.Save_Error);
      u.push({
        id: g.id,
        time_entry: v
      });
    } else
      a.push(g.id);
  }), i.delete_batch(a);
}
function kw(n) {
  const i = tm(n, 1), r = new Date(i);
  return r.setDate(r.getDate() + 6), {
    start: i,
    end: r
  };
}
function Aw(n) {
  let i, r;
  const u = (
    /*#slots*/
    n[1].default
  ), o = Di(
    u,
    n,
    /*$$scope*/
    n[0],
    null
  );
  return {
    c() {
      i = se("theme"), o && o.c();
    },
    m(a, l) {
      ue(a, i, l), o && o.m(i, null), r = !0;
    },
    p(a, [l]) {
      o && o.p && (!r || l & /*$$scope*/
      1) && ki(
        o,
        u,
        a,
        /*$$scope*/
        a[0],
        r ? Ei(
          u,
          /*$$scope*/
          a[0],
          l,
          null
        ) : Ai(
          /*$$scope*/
          a[0]
        ),
        null
      );
    },
    i(a) {
      r || (x(o, a), r = !0);
    },
    o(a) {
      j(o, a), r = !1;
    },
    d(a) {
      a && ie(i), o && o.d(a);
    }
  };
}
function Iw(n, i, r) {
  let { $$slots: u = {}, $$scope: o } = i;
  return n.$$set = (a) => {
    "$$scope" in a && r(0, o = a.$$scope);
  }, [o, u];
}
class Rw extends it {
  constructor(i) {
    super(), rt(this, i, Iw, Aw, Ze, {});
  }
}
function Lw(n) {
  let i, r, u, o;
  return u = new Tw({}), u.$on(
    "datechanged",
    /*handle_datechanged*/
    n[1]
  ), {
    c() {
      i = se("h1"), i.textContent = "Heimtime", r = Ne(), Oe(u.$$.fragment);
    },
    m(a, l) {
      ue(a, i, l), ue(a, r, l), Re(u, a, l), o = !0;
    },
    p: Me,
    i(a) {
      o || (x(u.$$.fragment, a), o = !0);
    },
    o(a) {
      j(u.$$.fragment, a), o = !1;
    },
    d(a) {
      a && (ie(i), ie(r)), Ae(u, a);
    }
  };
}
function Ow(n) {
  let i, r, u, o, a;
  return o = new Rw({
    props: {
      $$slots: { default: [Lw] },
      $$scope: { ctx: n }
    }
  }), {
    c() {
      i = se("link"), r = Ne(), u = se("calendar"), Oe(o.$$.fragment), z(i, "rel", "stylesheet"), z(
        i,
        "href",
        /*styleURL*/
        n[0]
      ), z(u, "class", "svelte-1jmpun7");
    },
    m(l, c) {
      le(document.head, i), ue(l, r, c), ue(l, u, c), Re(o, u, null), a = !0;
    },
    p(l, [c]) {
      const _ = {};
      c & /*$$scope*/
      8192 && (_.$$scope = { dirty: c, ctx: l }), o.$set(_);
    },
    i(l) {
      a || (x(o.$$.fragment, l), a = !0);
    },
    o(l) {
      j(o.$$.fragment, l), a = !1;
    },
    d(l) {
      l && (ie(r), ie(u)), ie(i), Ae(o);
    }
  };
}
const Pw = "https://heimat.sprinteins.com/api/v1/";
function Mw(n, i, r) {
  let u;
  u = new mo();
  const o = u.jwt_get();
  _m();
  let a = dm();
  a.set_base_url(Pw), o && o !== "" && a.jwt_set(o);
  const l = new URL(import.meta.url), _ = new URL("style.css", l).toString();
  ww();
  const g = Oc();
  j0();
  const v = hc();
  let C = /* @__PURE__ */ new Date(), w = /* @__PURE__ */ new Date();
  Sw(a, g);
  async function T(R, A) {
    const L = await a.fetch_time_entires(R, A);
    g.clear();
    for (const B of L)
      g.create_time_entry(B);
  }
  async function E(R, A) {
    let L = [];
    for (let W = 0; W < 7; W++) {
      const N = ta(R, W), O = a.fetch_projects(N);
      L.push(O);
    }
    const B = await Promise.all(L);
    for (let W = 0, N = B.length; W < N; W++) {
      const O = ta(R, W), D = B[W];
      v.set_projects(Gn(O), D);
    }
  }
  function F(R) {
    const { start: A, end: L } = R.detail;
    r(2, C = A), r(3, w = L);
  }
  return n.$$.update = () => {
    n.$$.dirty & /*date_start, date_end*/
    12 && E(C), n.$$.dirty & /*date_start, date_end*/
    12 && T(C, w);
  }, [_, F, C, w];
}
class Uw extends it {
  constructor(i) {
    super(), rt(this, i, Mw, Ow, Ze, {});
  }
}
function Hw() {
  new Uw({
    target: document.getElementById("view-root"),
    props: {}
  });
}
export {
  Hw as default
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4xLjEvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4xLjEvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9nbG9iYWxzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjEuMS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2RvbS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4xLjEvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMS4xL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvc2NoZWR1bGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjEuMS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3RyYW5zaXRpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjEuMS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMS4xL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvQ29tcG9uZW50LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3N2ZWx0ZUA0LjEuMS9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9zaGFyZWQvdmVyc2lvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zdmVsdGVANC4xLjEvbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9kaXNjbG9zZS12ZXJzaW9uL2luZGV4LmpzIiwiLi4vc3JjL2xpYi9hcGkvZW1wbG95ZWUvZW1wbG95ZWUudHMiLCIuLi9zcmMvbGliL2FwaS9lbXBsb3llZS9lbXBsb3llZV9hcGkudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDQuMS4xL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvc3RvcmUvaW5kZXguanMiLCIuLi9zcmMvbGliL2FwaS9wcm9qZWN0L3Byb2plY3Rfc3RvcmUudHMiLCIuLi9zcmMvbGliL2FwaS9wcm9qZWN0L3Byb2plY3RfY29udGV4dC50cyIsIi4uL3NyYy9saWIvYXBpL3Byb2plY3QvcHJvamVjdC50cyIsIi4uL3NyYy9saWIvYXBpL3Byb2plY3QvdGFzay50cyIsIi4uL3NyYy9saWIvYXBpL3gvZGF0ZS9kYXRlLnRzIiwiLi4vc3JjL2xpYi9hcGkvcHJvamVjdC9wcm9qZWN0X2FwaS50cyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIi4uL3NyYy9saWIvYXBpL3RpbWVfZW50cnkvdGltZV9lbnRyeS50cyIsIi4uL3NyYy9saWIvYXBpL3RpbWVfZW50cnkvdGltZV9lbnRyeV9hcGkudHMiLCIuLi9zcmMvbGliL2FwaS94L2h0dHAvaHR0cC50cyIsIi4uL3NyYy9saWIvYXBpL2FwaS50cyIsIi4uL3NyYy9saWIvYXBpL2FwaV9jb250ZXh0LnRzIiwiLi4vc3JjL2xpYi9hcGkvYXV0aC9hdXRoLnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldmVudC1jYWxlbmRhcitjb3JlQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvY29yZS9zcmMvbGliL2ExMXkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK2NvcmVAMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9jb3JlL3NyYy9saWIvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK2NvcmVAMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9jb3JlL3NyYy9saWIvYWN0aW9ucy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrY29yZUAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL2NvcmUvc3JjL2xpYi9kYXRlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldmVudC1jYWxlbmRhcitjb3JlQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvY29yZS9zcmMvbGliL2RlYm91bmNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldmVudC1jYWxlbmRhcitjb3JlQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvY29yZS9zcmMvbGliL2RvbS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrY29yZUAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL2NvcmUvc3JjL2xpYi92aWV3LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldmVudC1jYWxlbmRhcitjb3JlQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvY29yZS9zcmMvbGliL2V2ZW50cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrY29yZUAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL2NvcmUvc3JjL2xpYi9zdG9yZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK2NvcmVAMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9jb3JlL3NyYy9zdG9yYWdlL29wdGlvbnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK2NvcmVAMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9jb3JlL3NyYy9zdG9yYWdlL3N0b3Jlcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrY29yZUAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL2NvcmUvc3JjL3N0b3JhZ2Uvc3RhdGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK2NvcmVAMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9jb3JlL3NyYy9CdXR0b25zLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrY29yZUAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL2NvcmUvc3JjL1Rvb2xiYXIuc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldmVudC1jYWxlbmRhcitjb3JlQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvY29yZS9zcmMvQXV4aWxpYXJ5LnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrY29yZUAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL2NvcmUvc3JjL0NhbGVuZGFyLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrdGltZS1ncmlkQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvdGltZS1ncmlkL3NyYy9zdG9yZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK3RpbWUtZ3JpZEAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL3RpbWUtZ3JpZC9zcmMvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK3RpbWUtZ3JpZEAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL3RpbWUtZ3JpZC9zcmMvU2VjdGlvbi5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK3RpbWUtZ3JpZEAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL3RpbWUtZ3JpZC9zcmMvQm9keS5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK3RpbWUtZ3JpZEAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL3RpbWUtZ3JpZC9zcmMvRXZlbnQuc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldmVudC1jYWxlbmRhcit0aW1lLWdyaWRAMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci90aW1lLWdyaWQvc3JjL05vd0luZGljYXRvci5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK3RpbWUtZ3JpZEAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL3RpbWUtZ3JpZC9zcmMvRGF5LnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrdGltZS1ncmlkQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvdGltZS1ncmlkL3NyYy9hbGwtZGF5L0V2ZW50LnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrdGltZS1ncmlkQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvdGltZS1ncmlkL3NyYy9hbGwtZGF5L0RheS5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK3RpbWUtZ3JpZEAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL3RpbWUtZ3JpZC9zcmMvYWxsLWRheS9XZWVrLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrdGltZS1ncmlkQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvdGltZS1ncmlkL3NyYy9WaWV3LnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIrdGltZS1ncmlkQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvdGltZS1ncmlkL3NyYy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIraW50ZXJhY3Rpb25AMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9pbnRlcmFjdGlvbi9zcmMvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK2ludGVyYWN0aW9uQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvaW50ZXJhY3Rpb24vc3JjL0FjdGlvbi5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV2ZW50LWNhbGVuZGFyK2ludGVyYWN0aW9uQDEuNS4xL25vZGVfbW9kdWxlcy9AZXZlbnQtY2FsZW5kYXIvaW50ZXJhY3Rpb24vc3JjL1BvaW50ZXIuc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldmVudC1jYWxlbmRhcitpbnRlcmFjdGlvbkAxLjUuMS9ub2RlX21vZHVsZXMvQGV2ZW50LWNhbGVuZGFyL2ludGVyYWN0aW9uL3NyYy9SZXNpemVyLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIraW50ZXJhY3Rpb25AMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9pbnRlcmFjdGlvbi9zcmMvQXV4aWxpYXJ5LnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXZlbnQtY2FsZW5kYXIraW50ZXJhY3Rpb25AMS41LjEvbm9kZV9tb2R1bGVzL0BldmVudC1jYWxlbmRhci9pbnRlcmFjdGlvbi9zcmMvaW5kZXguanMiLCIuLi9zcmMvbGliL2NvbXBvbmVudHMvY2FyZC9jb2xvci1oYXNoLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnRzL3BvcHVwL3BvcHVwLnN2ZWx0ZSIsIi4uL3NyYy9saWIvY29tcG9uZW50cy9ldmVudF9mb3JtL2V2ZW50X2Zvcm0uc3ZlbHRlIiwiLi4vc3JjL2xpYi9hcGkvdGltZV9lbnRyeS90aW1lX2VudHJpZXMudHMiLCIuLi9zcmMvbGliL2FwaS90aW1lX2VudHJ5L3RpbWVfZW50cmllc19jb250ZXh0LnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnRzL2NhbGVuZGFyL2NhbGVuZGFyLnN2ZWx0ZSIsIi4uL3NyYy9saWIvYXBpL3RpbWVfZW50cnlfc3luYy90aW1lX2VudHJ5X3N5bmMudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudHMvdGhlbWUvdGhlbWUuc3ZlbHRlIiwiLi4vc3JjL0FwcC5zdmVsdGUiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmV4cG9ydCBjb25zdCBpZGVudGl0eSA9ICh4KSA9PiB4O1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgU1xuICogQHBhcmFtIHtUfSB0YXJcbiAqIEBwYXJhbSB7U30gc3JjXG4gKiBAcmV0dXJucyB7VCAmIFN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24odGFyLCBzcmMpIHtcblx0Ly8gQHRzLWlnbm9yZVxuXHRmb3IgKGNvbnN0IGsgaW4gc3JjKSB0YXJba10gPSBzcmNba107XG5cdHJldHVybiAvKiogQHR5cGUge1QgJiBTfSAqLyAodGFyKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvaW5kZXguanNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvTElDRU5TRVxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEByZXR1cm5zIHt2YWx1ZSBpcyBQcm9taXNlTGlrZTxhbnk+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuXHRyZXR1cm4gKFxuXHRcdCEhdmFsdWUgJiZcblx0XHQodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpICYmXG5cdFx0dHlwZW9mICgvKiogQHR5cGUge2FueX0gKi8gKHZhbHVlKS50aGVuKSA9PT0gJ2Z1bmN0aW9uJ1xuXHQpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuXHRlbGVtZW50Ll9fc3ZlbHRlX21ldGEgPSB7XG5cdFx0bG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW4oZm4pIHtcblx0cmV0dXJuIGZuKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBibGFua19vYmplY3QoKSB7XG5cdHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bl9hbGwoZm5zKSB7XG5cdGZucy5mb3JFYWNoKHJ1bik7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHRoaW5nXG4gKiBAcmV0dXJucyB7dGhpbmcgaXMgRnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuXHRyZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYiB8fCAoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nO1xufVxuXG5sZXQgc3JjX3VybF9lcXVhbF9hbmNob3I7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRfc3JjXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuXHRpZiAoZWxlbWVudF9zcmMgPT09IHVybCkgcmV0dXJuIHRydWU7XG5cdGlmICghc3JjX3VybF9lcXVhbF9hbmNob3IpIHtcblx0XHRzcmNfdXJsX2VxdWFsX2FuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0fVxuXHQvLyBUaGlzIGlzIGFjdHVhbGx5IGZhc3RlciB0aGFuIGRvaW5nIFVSTCguLikuaHJlZlxuXHRzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmID0gdXJsO1xuXHRyZXR1cm4gZWxlbWVudF9zcmMgPT09IHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWY7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gc3Jjc2V0ICovXG5mdW5jdGlvbiBzcGxpdF9zcmNzZXQoc3Jjc2V0KSB7XG5cdHJldHVybiBzcmNzZXQuc3BsaXQoJywnKS5tYXAoKHNyYykgPT4gc3JjLnRyaW0oKS5zcGxpdCgnICcpLmZpbHRlcihCb29sZWFuKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MU291cmNlRWxlbWVudCB8IEhUTUxJbWFnZUVsZW1lbnR9IGVsZW1lbnRfc3Jjc2V0XG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IHNyY3NldFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcmNzZXRfdXJsX2VxdWFsKGVsZW1lbnRfc3Jjc2V0LCBzcmNzZXQpIHtcblx0Y29uc3QgZWxlbWVudF91cmxzID0gc3BsaXRfc3Jjc2V0KGVsZW1lbnRfc3Jjc2V0LnNyY3NldCk7XG5cdGNvbnN0IHVybHMgPSBzcGxpdF9zcmNzZXQoc3Jjc2V0IHx8ICcnKTtcblxuXHRyZXR1cm4gKFxuXHRcdHVybHMubGVuZ3RoID09PSBlbGVtZW50X3VybHMubGVuZ3RoICYmXG5cdFx0dXJscy5ldmVyeShcblx0XHRcdChbdXJsLCB3aWR0aF0sIGkpID0+XG5cdFx0XHRcdHdpZHRoID09PSBlbGVtZW50X3VybHNbaV1bMV0gJiZcblx0XHRcdFx0Ly8gV2UgbmVlZCB0byB0ZXN0IGJvdGggd2F5cyBiZWNhdXNlIFZpdGUgd2lsbCBjcmVhdGUgYW4gYSBmdWxsIFVSTCB3aXRoXG5cdFx0XHRcdC8vIGBuZXcgVVJMKGFzc2V0LCBpbXBvcnQubWV0YS51cmwpLmhyZWZgIGZvciB0aGUgY2xpZW50IHdoZW4gYGJhc2U6ICcuLydgLCBhbmQgdGhlXG5cdFx0XHRcdC8vIHJlbGF0aXZlIFVSTHMgaW5zaWRlIHNyY3NldCBhcmUgbm90IGF1dG9tYXRpY2FsbHkgcmVzb2x2ZWQgdG8gYWJzb2x1dGUgVVJMcyBieVxuXHRcdFx0XHQvLyBicm93c2VycyAoaW4gY29udHJhc3QgdG8gaW1nLnNyYykuIFRoaXMgbWVhbnMgYm90aCBTU1IgYW5kIERPTSBjb2RlIGNvdWxkXG5cdFx0XHRcdC8vIGNvbnRhaW4gcmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMcy5cblx0XHRcdFx0KHNyY191cmxfZXF1YWwoZWxlbWVudF91cmxzW2ldWzBdLCB1cmwpIHx8IHNyY191cmxfZXF1YWwodXJsLCBlbGVtZW50X3VybHNbaV1bMF0pKVxuXHRcdClcblx0KTtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZW1wdHkob2JqKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG5cdGlmIChzdG9yZSAhPSBudWxsICYmIHR5cGVvZiBzdG9yZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZShzdG9yZSwgLi4uY2FsbGJhY2tzKSB7XG5cdGlmIChzdG9yZSA9PSBudWxsKSB7XG5cdFx0Zm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcblx0XHRcdGNhbGxiYWNrKHVuZGVmaW5lZCk7XG5cdFx0fVxuXHRcdHJldHVybiBub29wO1xuXHR9XG5cdGNvbnN0IHVuc3ViID0gc3RvcmUuc3Vic2NyaWJlKC4uLmNhbGxiYWNrcyk7XG5cdHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgdmFsdWUgZnJvbSBhIHN0b3JlIGJ5IHN1YnNjcmliaW5nIGFuZCBpbW1lZGlhdGVseSB1bnN1YnNjcmliaW5nLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNnZXRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vc3RvcmUvcHVibGljLmpzJykuUmVhZGFibGU8VD59IHN0b3JlXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdG9yZV92YWx1ZShzdG9yZSkge1xuXHRsZXQgdmFsdWU7XG5cdHN1YnNjcmliZShzdG9yZSwgKF8pID0+ICh2YWx1ZSA9IF8pKSgpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG5cdGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goc3Vic2NyaWJlKHN0b3JlLCBjYWxsYmFjaykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX3Nsb3QoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuXHRpZiAoZGVmaW5pdGlvbikge1xuXHRcdGNvbnN0IHNsb3RfY3R4ID0gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKTtcblx0XHRyZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdHJldHVybiBkZWZpbml0aW9uWzFdICYmIGZuID8gYXNzaWduKCQkc2NvcGUuY3R4LnNsaWNlKCksIGRlZmluaXRpb25bMV0oZm4oY3R4KSkpIDogJCRzY29wZS5jdHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc2xvdF9jaGFuZ2VzKGRlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBmbikge1xuXHRpZiAoZGVmaW5pdGlvblsyXSAmJiBmbikge1xuXHRcdGNvbnN0IGxldHMgPSBkZWZpbml0aW9uWzJdKGZuKGRpcnR5KSk7XG5cdFx0aWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGxldHM7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgbGV0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGNvbnN0IG1lcmdlZCA9IFtdO1xuXHRcdFx0Y29uc3QgbGVuID0gTWF0aC5tYXgoJCRzY29wZS5kaXJ0eS5sZW5ndGgsIGxldHMubGVuZ3RoKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcblx0XHRcdFx0bWVyZ2VkW2ldID0gJCRzY29wZS5kaXJ0eVtpXSB8IGxldHNbaV07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWVyZ2VkO1xuXHRcdH1cblx0XHRyZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG5cdH1cblx0cmV0dXJuICQkc2NvcGUuZGlydHk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc2xvdF9iYXNlKFxuXHRzbG90LFxuXHRzbG90X2RlZmluaXRpb24sXG5cdGN0eCxcblx0JCRzY29wZSxcblx0c2xvdF9jaGFuZ2VzLFxuXHRnZXRfc2xvdF9jb250ZXh0X2ZuXG4pIHtcblx0aWYgKHNsb3RfY2hhbmdlcykge1xuXHRcdGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuXHRcdHNsb3QucChzbG90X2NvbnRleHQsIHNsb3RfY2hhbmdlcyk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90KFxuXHRzbG90LFxuXHRzbG90X2RlZmluaXRpb24sXG5cdGN0eCxcblx0JCRzY29wZSxcblx0ZGlydHksXG5cdGdldF9zbG90X2NoYW5nZXNfZm4sXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuXHR1cGRhdGVfc2xvdF9iYXNlKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBzbG90X2NoYW5nZXMsIGdldF9zbG90X2NvbnRleHRfZm4pO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdIHwgLTF9ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlKCQkc2NvcGUpIHtcblx0aWYgKCQkc2NvcGUuY3R4Lmxlbmd0aCA+IDMyKSB7XG5cdFx0Y29uc3QgZGlydHkgPSBbXTtcblx0XHRjb25zdCBsZW5ndGggPSAkJHNjb3BlLmN0eC5sZW5ndGggLyAzMjtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRkaXJ0eVtpXSA9IC0xO1xuXHRcdH1cblx0XHRyZXR1cm4gZGlydHk7XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3QgayBpbiBwcm9wcykgaWYgKGtbMF0gIT09ICckJykgcmVzdWx0W2tdID0gcHJvcHNba107XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG5cdGNvbnN0IHJlc3QgPSB7fTtcblx0a2V5cyA9IG5ldyBTZXQoa2V5cyk7XG5cdGZvciAoY29uc3QgayBpbiBwcm9wcykgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpIHJlc3Rba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3Q7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZV9zbG90cyhzbG90cykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcblx0XHRyZXN1bHRba2V5XSA9IHRydWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHsodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbmNlKGZuKSB7XG5cdGxldCByYW4gPSBmYWxzZTtcblx0cmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG5cdFx0aWYgKHJhbikgcmV0dXJuO1xuXHRcdHJhbiA9IHRydWU7XG5cdFx0Zm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG51bGxfdG9fZW1wdHkodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0b3JlX3ZhbHVlKHN0b3JlLCByZXQsIHZhbHVlKSB7XG5cdHN0b3JlLnNldCh2YWx1ZSk7XG5cdHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBjb25zdCBoYXNfcHJvcCA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xuXG5leHBvcnQgZnVuY3Rpb24gYWN0aW9uX2Rlc3Ryb3llcihhY3Rpb25fcmVzdWx0KSB7XG5cdHJldHVybiBhY3Rpb25fcmVzdWx0ICYmIGlzX2Z1bmN0aW9uKGFjdGlvbl9yZXN1bHQuZGVzdHJveSkgPyBhY3Rpb25fcmVzdWx0LmRlc3Ryb3kgOiBub29wO1xufVxuXG4vKiogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJucyB7W251bWJlciwgc3RyaW5nXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0X2Nzc191bml0KHZhbHVlKSB7XG5cdGNvbnN0IHNwbGl0ID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5tYXRjaCgvXlxccyooLT9bXFxkLl0rKShbXlxcc10qKVxccyokLyk7XG5cdHJldHVybiBzcGxpdCA/IFtwYXJzZUZsb2F0KHNwbGl0WzFdKSwgc3BsaXRbMl0gfHwgJ3B4J10gOiBbLyoqIEB0eXBlIHtudW1iZXJ9ICovICh2YWx1ZSksICdweCddO1xufVxuXG5leHBvcnQgY29uc3QgY29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMgPSBbJycsIHRydWUsIDEsICd0cnVlJywgJ2NvbnRlbnRlZGl0YWJsZSddO1xuIiwiLyoqIEB0eXBlIHt0eXBlb2YgZ2xvYmFsVGhpc30gKi9cbmV4cG9ydCBjb25zdCBnbG9iYWxzID1cblx0dHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcblx0XHQ/IHdpbmRvd1xuXHRcdDogdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG5cdFx0PyBnbG9iYWxUaGlzXG5cdFx0OiAvLyBAdHMtaWdub3JlIE5vZGUgdHlwaW5ncyBoYXZlIHRoaXNcblx0XHQgIGdsb2JhbDtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlclNpbmdsZXRvbi5qcyc7XG5pbXBvcnQgeyBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgaGFzX3Byb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSB0cnVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kX2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGxvd1xuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hcbiAqIEBwYXJhbSB7KGluZGV4OiBudW1iZXIpID0+IG51bWJlcn0ga2V5XG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHVwcGVyX2JvdW5kKGxvdywgaGlnaCwga2V5LCB2YWx1ZSkge1xuXHQvLyBSZXR1cm4gZmlyc3QgaW5kZXggb2YgdmFsdWUgbGFyZ2VyIHRoYW4gaW5wdXQgdmFsdWUgaW4gdGhlIHJhbmdlIFtsb3csIGhpZ2gpXG5cdHdoaWxlIChsb3cgPCBoaWdoKSB7XG5cdFx0Y29uc3QgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcblx0XHRpZiAoa2V5KG1pZCkgPD0gdmFsdWUpIHtcblx0XHRcdGxvdyA9IG1pZCArIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZ2ggPSBtaWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcblx0aWYgKHRhcmdldC5oeWRyYXRlX2luaXQpIHJldHVybjtcblx0dGFyZ2V0Lmh5ZHJhdGVfaW5pdCA9IHRydWU7XG5cdC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cblxuXHRsZXQgY2hpbGRyZW4gPSAvKiogQHR5cGUge0FycmF5TGlrZTxOb2RlRXgyPn0gKi8gKHRhcmdldC5jaGlsZE5vZGVzKTtcblx0Ly8gSWYgdGFyZ2V0IGlzIDxoZWFkPiwgdGhlcmUgbWF5IGJlIGNoaWxkcmVuIHdpdGhvdXQgY2xhaW1fb3JkZXJcblx0aWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG5cdFx0Y29uc3QgbXlDaGlsZHJlbiA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bXlDaGlsZHJlbi5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjaGlsZHJlbiA9IG15Q2hpbGRyZW47XG5cdH1cblx0Lypcblx0ICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cblx0ICogV2UgY2FuIHJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkgYnkgZmluZGluZyB0aGUgbG9uZ2VzdCBzdWJzZXF1ZW5jZSBvZlxuXHQgKiBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IGNsYWltZWQgaW4gb3JkZXIgYW5kIG9ubHkgbW92aW5nIHRoZSByZXN0LiBUaGUgbG9uZ2VzdFxuXHQgKiBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuXHQgKiBjb21wdXRpbmcgdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiAuY2xhaW1fb3JkZXIgdmFsdWVzLlxuXHQgKlxuXHQgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcblx0ICogcG9zc2libGUuXG5cdCAqXG5cdCAqIFByb29mOlxuXHQgKiBXZSBrbm93IHRoYXQsIGdpdmVuIGEgc2V0IG9mIHJlb3JkZXJpbmcgb3BlcmF0aW9ucywgdGhlIG5vZGVzIHRoYXQgZG8gbm90IG1vdmVcblx0ICogYWx3YXlzIGZvcm0gYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSwgc2luY2UgdGhleSBkbyBub3QgbW92ZSBhbW9uZyBlYWNoIG90aGVyXG5cdCAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG5cdCAqIHNldCBvZiBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlIGZvcm0gYSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UuXG5cdCAqL1xuXHQvLyBDb21wdXRlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHQvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG5cdGNvbnN0IG0gPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGggKyAxKTtcblx0Ly8gUHJlZGVjZXNzb3IgaW5kaWNlcyArIDFcblx0Y29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG5cdG1bMF0gPSAtMTtcblx0bGV0IGxvbmdlc3QgPSAwO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IGNoaWxkcmVuW2ldLmNsYWltX29yZGVyO1xuXHRcdC8vIEZpbmQgdGhlIGxhcmdlc3Qgc3Vic2VxdWVuY2UgbGVuZ3RoIHN1Y2ggdGhhdCBpdCBlbmRzIGluIGEgdmFsdWUgbGVzcyB0aGFuIG91ciBjdXJyZW50IHZhbHVlXG5cdFx0Ly8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcblx0XHQvLyB3aXRoIGZhc3QgcGF0aCBmb3Igd2hlbiB3ZSBhcmUgb24gdGhlIGN1cnJlbnQgbG9uZ2VzdCBzdWJzZXF1ZW5jZVxuXHRcdGNvbnN0IHNlcUxlbiA9XG5cdFx0XHQobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudFxuXHRcdFx0XHQ/IGxvbmdlc3QgKyAxXG5cdFx0XHRcdDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgKGlkeCkgPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcblx0XHRwW2ldID0gbVtzZXFMZW5dICsgMTtcblx0XHRjb25zdCBuZXdMZW4gPSBzZXFMZW4gKyAxO1xuXHRcdC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cblx0XHRtW25ld0xlbl0gPSBpO1xuXHRcdGxvbmdlc3QgPSBNYXRoLm1heChuZXdMZW4sIGxvbmdlc3QpO1xuXHR9XG5cdC8vIFRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgKGluaXRpYWxseSByZXZlcnNlZClcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IGxpcyA9IFtdO1xuXHQvLyBUaGUgcmVzdCBvZiB0aGUgbm9kZXMsIG5vZGVzIHRoYXQgd2lsbCBiZSBtb3ZlZFxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgdG9Nb3ZlID0gW107XG5cdGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcblx0Zm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG5cdFx0bGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuXHRcdGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG5cdFx0XHR0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdFx0fVxuXHRcdGxhc3QtLTtcblx0fVxuXHRmb3IgKDsgbGFzdCA+PSAwOyBsYXN0LS0pIHtcblx0XHR0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdH1cblx0bGlzLnJldmVyc2UoKTtcblx0Ly8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG5cdHRvTW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG5cdC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvTW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdHdoaWxlIChqIDwgbGlzLmxlbmd0aCAmJiB0b01vdmVbaV0uY2xhaW1fb3JkZXIgPj0gbGlzW2pdLmNsYWltX29yZGVyKSB7XG5cdFx0XHRqKys7XG5cdFx0fVxuXHRcdGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHRvTW92ZVtpXSwgYW5jaG9yKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZV9zaGVldF9pZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuXHRjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG5cdGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcblx0XHRjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcblx0XHRhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuXHRpZiAoIW5vZGUpIHJldHVybiBkb2N1bWVudDtcblx0Y29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG5cdGlmIChyb290ICYmIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QpIHtcblx0XHRyZXR1cm4gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCk7XG5cdH1cblx0cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuXHRjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcblx0Ly8gRm9yIHRyYW5zaXRpb25zIHRvIHdvcmsgd2l0aG91dCAnc3R5bGUtc3JjOiB1bnNhZmUtaW5saW5lJyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSxcblx0Ly8gdGhlc2UgZW1wdHkgdGFncyBuZWVkIHRvIGJlIGFsbG93ZWQgd2l0aCBhIGhhc2ggYXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIG1vdmUgdG8gdGhlIFdlYiBBbmltYXRpb25zIEFQSS5cblx0Ly8gVXNpbmcgdGhlIGhhc2ggZm9yIHRoZSBlbXB0eSBzdHJpbmcgKGZvciBhbiBlbXB0eSB0YWcpIHdvcmtzIGluIGFsbCBicm93c2VycyBleGNlcHQgU2FmYXJpLlxuXHQvLyBTbyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSB3b3JrYXJvdW5kLCB3aGVuIHdlIGFwcGVuZCBlbXB0eSBzdHlsZSB0YWdzIHdlIHNldCB0aGVpciBjb250ZW50IHRvIC8qIGVtcHR5ICovLlxuXHQvLyBUaGUgaGFzaCAnc2hhMjU2LTlPbE5PMERORWVhVnpITDRSWndDTHNCSEE4V0JROHRvQnAvNEY1WFYybmM9JyB3aWxsIHRoZW4gd29yayBldmVuIGluIFNhZmFyaS5cblx0c3R5bGVfZWxlbWVudC50ZXh0Q29udGVudCA9ICcvKiBlbXB0eSAqLyc7XG5cdGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG5cdHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2hhZG93Um9vdCB8IERvY3VtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcblx0YXBwZW5kKC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChub2RlKS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcblx0cmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG5cdGlmIChpc19oeWRyYXRpbmcpIHtcblx0XHRpbml0X2h5ZHJhdGUodGFyZ2V0KTtcblx0XHRpZiAoXG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KVxuXHRcdCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcblx0XHR9XG5cdFx0Ly8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcblx0XHR3aGlsZSAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcblx0XHR9XG5cdFx0aWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtOb2RlfSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZUV4fSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuXHRcdGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG5cdGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChpdGVyYXRpb25zW2ldKSBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGlzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2tleW9mIFR9IEtcbiAqIEBwYXJhbSB7VH0gb2JqXG4gKiBAcGFyYW0ge0tbXX0gZXhjbHVkZVxuICogQHJldHVybnMge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuXHRjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59ICovICh7fSk7XG5cdGZvciAoY29uc3QgayBpbiBvYmopIHtcblx0XHRpZiAoXG5cdFx0XHRoYXNfcHJvcChvYmosIGspICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRleGNsdWRlLmluZGV4T2YoaykgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR0YXJnZXRba10gPSBvYmpba107XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGRhdGEpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKCkge1xuXHRyZXR1cm4gdGV4dCgnICcpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRyZXR1cm4gdGV4dCgnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0fSBoYW5kbGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG5cdG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC5pc1RydXN0ZWQpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHRlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHRub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChub2RlKS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XSAmJlxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XS5zZXQgJiZcblx0XHRcdGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGFfbWFwXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuXHRPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdFx0c2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0aWYgKHByb3AgaW4gbm9kZSkge1xuXHRcdG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcblx0cmV0dXJuIC8tLy50ZXN0KHRhZykgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdmVsdGVfZGF0YXNldChub2RlKSB7XG5cdHJldHVybiBub2RlLmRhdGFzZXQuc3ZlbHRlSDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dW5rbm93bltdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0fVxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBncm91cFxuICogQHJldHVybnMge3sgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHIoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cdHJldHVybiB7XG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByKCkge1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXNcbiAqIEByZXR1cm5zIHt7IHUobmV3X2luZGV4ZXM6IG51bWJlcltdKTogdm9pZDsgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHI6ICgpID0+IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblxuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cblx0ZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIGdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBwdXNoKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0LyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcblx0XHRcdGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcblx0XHRcdGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblx0XHRcdGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuXHRcdFx0XHRyZW1vdmUoKTtcblx0XHRcdFx0X2dyb3VwID0gbmV3X2dyb3VwO1xuXHRcdFx0XHRwdXNoKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0cHVzaCgpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHI6IHJlbW92ZVxuXHR9O1xufVxuXG4vKiogQHJldHVybnMge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG5cdGNvbnN0IGFycmF5ID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0YXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcblx0fVxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcblx0aWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuXHRcdG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Q2hpbGROb2RlRXh9IFJcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gbm9kZSBpcyBSfSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBDaGlsZE5vZGVFeCB8IHVuZGVmaW5lZH0gcHJvY2Vzc05vZGVcbiAqIEBwYXJhbSB7KCkgPT4gUn0gY3JlYXRlTm9kZVxuICogQHBhcmFtIHtib29sZWFufSBkb250VXBkYXRlTGFzdEluZGV4XG4gKiBAcmV0dXJucyB7Un1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fbm9kZShub2RlcywgcHJlZGljYXRlLCBwcm9jZXNzTm9kZSwgY3JlYXRlTm9kZSwgZG9udFVwZGF0ZUxhc3RJbmRleCA9IGZhbHNlKSB7XG5cdC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IHJlc3VsdE5vZGUgPSAoKCkgPT4ge1xuXHRcdC8vIFdlIGZpcnN0IHRyeSB0byBmaW5kIGFuIGVsZW1lbnQgYWZ0ZXIgdGhlIHByZXZpb3VzIG9uZVxuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3NOb2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udFVwZGF0ZUxhc3RJbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuXHRcdC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3NOb2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udFVwZGF0ZUxhc3RJbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIFNpbmNlIHdlIHNwbGljZWQgYmVmb3JlIHRoZSBsYXN0X2luZGV4LCB3ZSBkZWNyZWFzZSBpdFxuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG5cdFx0cmV0dXJuIGNyZWF0ZU5vZGUoKTtcblx0fSkoKTtcblx0cmVzdWx0Tm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdHJldHVybiByZXN1bHROb2RlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHBhcmFtIHsobmFtZTogc3RyaW5nKSA9PiBFbGVtZW50IHwgU1ZHRWxlbWVudH0gY3JlYXRlX2VsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgRWxlbWVudCB8IFNWR0VsZW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZU5hbWUgPT09IG5hbWUsXG5cdFx0LyoqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCByZW1vdmUgPSBbXTtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcblx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSkge1xuXHRcdFx0XHRcdHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlLmZvckVhY2goKHYpID0+IG5vZGUucmVtb3ZlQXR0cmlidXRlKHYpKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjcmVhdGVfZWxlbWVudChuYW1lKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Z19lbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBUZXh0fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLFxuXHRcdC8qKiBAcGFyYW0ge1RleHR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgZGF0YVN0ciA9ICcnICsgZGF0YTtcblx0XHRcdGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aChkYXRhU3RyKSkge1xuXHRcdFx0XHRpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YVN0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YVN0ci5sZW5ndGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub2RlLmRhdGEgPSBkYXRhU3RyO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0KCkgPT4gdGV4dChkYXRhKSxcblx0XHR0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuXHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG5cdHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIENvbW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsXG5cdFx0LyoqIEBwYXJhbSB7Q29tbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRub2RlLmRhdGEgPSAnJyArIGRhdGE7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY29tbWVudChkYXRhKSxcblx0XHR0cnVlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGdldF9jb21tZW50X2lkeChub2RlcywgdGV4dCwgc3RhcnQpIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfc3ZnXG4gKiBAcmV0dXJucyB7SHRtbFRhZ0h5ZHJhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcblx0Ly8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG5cdGNvbnN0IHN0YXJ0X2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcblx0Y29uc3QgZW5kX2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXggKyAxKTtcblx0aWYgKHN0YXJ0X2luZGV4ID09PSAtMSB8fCBlbmRfaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcblx0Y29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuXHRmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuXHRcdG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdFx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdH1cblx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2ZywgY2xhaW1lZF9ub2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC5kYXRhID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyX3ZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG5cdGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuXHRcdHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcblx0aW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuXHR0cnkge1xuXHRcdGlucHV0LnR5cGUgPSB0eXBlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcblx0fSBlbHNlIHtcblx0XHRub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0aWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuXHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG5cdGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuXHRyZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuXHRyZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIChvcHRpb24pID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufSAqL1xubGV0IGNyb3Nzb3JpZ2luO1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuXHRpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdGNyb3Nzb3JpZ2luID0gZmFsc2U7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG5cdFx0XHRcdHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y3Jvc3NvcmlnaW4gPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuXHRjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcblx0XHRub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0fVxuXHRjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZShcblx0XHQnc3R5bGUnLFxuXHRcdCdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuXHRcdFx0J292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOydcblx0KTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRpZnJhbWUudGFiSW5kZXggPSAtMTtcblx0Y29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7KCkgPT4gdm9pZH1cblx0ICovXG5cdGxldCB1bnN1YnNjcmliZTtcblx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0aWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG5cdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oXG5cdFx0XHR3aW5kb3csXG5cdFx0XHQnbWVzc2FnZScsXG5cdFx0XHQvKiogQHBhcmFtIHtNZXNzYWdlRXZlbnR9IGV2ZW50ICovIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdykgZm4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuXHRcdGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHR1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHR9XG5cdGFwcGVuZChub2RlLCBpZnJhbWUpO1xuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChjcm9zc29yaWdpbikge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9IGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH1cblx0XHRkZXRhY2goaWZyYW1lKTtcblx0fTtcbn1cbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnY29udGVudC1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdib3JkZXItYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oXG5cdHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9XG4pO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG5cdC8vIFRoZSBgISFgIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gYHVuZGVmaW5lZGAgZmxhZyBtZWFucyBmbGlwcGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsICEhdG9nZ2xlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7VH0gW2RldGFpbF1cbiAqIEBwYXJhbSB7eyBidWJibGVzPzogYm9vbGVhbiwgY2FuY2VsYWJsZT86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7Q3VzdG9tRXZlbnQ8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuXHRyZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcblx0cmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZUlkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWFkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IHN0YXJ0ZWQgPSAwO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG5cdFx0XHRjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcblx0XHRcdFx0c3RhcnRlZCAtPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuXHRcdFx0XHRzdGFydGVkICs9IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcblx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqICovXG5leHBvcnQgY2xhc3MgSHRtbFRhZyB7XG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aXNfc3ZnID0gZmFsc2U7XG5cdC8qKiBwYXJlbnQgZm9yIGNyZWF0aW5nIG5vZGUgKi9cblx0ZSA9IHVuZGVmaW5lZDtcblx0LyoqIGh0bWwgdGFnIG5vZGVzICovXG5cdG4gPSB1bmRlZmluZWQ7XG5cdC8qKiB0YXJnZXQgKi9cblx0dCA9IHVuZGVmaW5lZDtcblx0LyoqIGFuY2hvciAqL1xuXHRhID0gdW5kZWZpbmVkO1xuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuXHRcdHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYW5jaG9yXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0bShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNfc3ZnKVxuXHRcdFx0XHR0aGlzLmUgPSBzdmdfZWxlbWVudCgvKiogQHR5cGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSAqLyAodGFyZ2V0Lm5vZGVOYW1lKSk7XG5cdFx0XHQvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqLyBlbHNlXG5cdFx0XHRcdHRoaXMuZSA9IGVsZW1lbnQoXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9ICovIChcblx0XHRcdFx0XHRcdHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXHRcdFx0dGhpcy50ID1cblx0XHRcdFx0dGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IHRhcmdldFxuXHRcdFx0XHRcdDogLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAodGFyZ2V0KS5jb250ZW50O1xuXHRcdFx0dGhpcy5jKGh0bWwpO1xuXHRcdH1cblx0XHR0aGlzLmkoYW5jaG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGgoaHRtbCkge1xuXHRcdHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdHRoaXMubiA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0cChodG1sKSB7XG5cdFx0dGhpcy5kKCk7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHRcdHRoaXMuaSh0aGlzLmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRkKCkge1xuXHRcdHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcblx0LyoqIEB0eXBlIHtFbGVtZW50W119IGh5ZHJhdGlvbiBjbGFpbWVkIG5vZGVzICovXG5cdGwgPSB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UsIGNsYWltZWRfbm9kZXMpIHtcblx0XHRzdXBlcihpc19zdmcpO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdFx0dGhpcy5sID0gY2xhaW1lZF9ub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdGlmICh0aGlzLmwpIHtcblx0XHRcdHRoaXMubiA9IHRoaXMubDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3VwZXIuYyhodG1sKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOYW1lZE5vZGVNYXB9IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCJpbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmV4cG9ydCBsZXQgY3VycmVudF9jb21wb25lbnQ7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuXHRpZiAoIWN1cnJlbnRfY29tcG9uZW50KSB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuXHRyZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYmVmb3JldXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogSWYgYSBmdW5jdGlvbiBpcyByZXR1cm5lZCBfc3luY2hyb25vdXNseV8gZnJvbSBgb25Nb3VudGAsIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25tb3VudFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPiB8IFByb21pc2U8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2FmdGVydXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25kZXN0cm95XG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgY2FuIGJlIHR5cGVkIHRvIG5hcnJvdyB0aGUgYWxsb3dlZCBldmVudCBuYW1lcyBhbmQgdGhlIHR5cGUgb2YgdGhlIGBkZXRhaWxgIGFyZ3VtZW50OlxuICogYGBgdHNcbiAqIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAqICBsb2FkZWQ6IG5ldmVyOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcD1hbnldXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkV2ZW50RGlzcGF0Y2hlcjxFdmVudE1hcD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG5cdGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRyZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcblx0XHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0XHQvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG5cdFx0XHQvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG5cdFx0XHRjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcblx0XHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiB7XG5cdFx0XHRcdGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjc2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEBwYXJhbSB7VH0gY29udGV4dFxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuXHRyZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0YWxsY29udGV4dHNcbiAqIEB0ZW1wbGF0ZSB7TWFwPGFueSwgYW55Pn0gW1Q9TWFwPGFueSwgYW55Pl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2hhc2NvbnRleHRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG5cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuXHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuXHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5cbmV4cG9ydCBjb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5leHBvcnQgY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuZXhwb3J0IGNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5cbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuXG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuXHRpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcblx0XHR1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcblx0XHRyZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWNrKCkge1xuXHRzY2hlZHVsZV91cGRhdGUoKTtcblx0cmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG5cdHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcblx0Zmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcblx0Ly8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cblx0Ly8gcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuIEluc3RlYWQsIGxldCB0aGUgaW5uZXIgZmx1c2ggaGFuZGxlIGl0LlxuXHQvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cblx0aWYgKGZsdXNoaWR4ICE9PSAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRkbyB7XG5cdFx0Ly8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuXHRcdC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuXHRcdHRyeSB7XG5cdFx0XHR3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcblx0XHRcdFx0Zmx1c2hpZHgrKztcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0XHRcdHVwZGF0ZShjb21wb25lbnQuJCQpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcblx0XHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRcdGZsdXNoaWR4ID0gMDtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0Zmx1c2hpZHggPSAwO1xuXHRcdHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdFx0Ly8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG5cdFx0Ly8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuXHRcdC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuXHRcdFx0aWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG5cdFx0XHRcdC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcblx0XHRcdFx0c2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuXHR9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG5cdHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0Zmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdH1cblx0dXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXHRzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoc2F2ZWRfY29tcG9uZW50KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdCQkLnVwZGF0ZSgpO1xuXHRcdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdFx0Y29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcblx0XHQkJC5kaXJ0eSA9IFstMV07XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcblx0XHQkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgZXhhbXBsZSB0byBleGVjdXRlIHJlbWFpbmluZyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrcyBiZWZvcmUgZXhlY3V0aW5nIGBkZXN0cm95YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG5cdGNvbnN0IGZpbHRlcmVkID0gW107XG5cdGNvbnN0IHRhcmdldHMgPSBbXTtcblx0cmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiAoZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSkpO1xuXHR0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG5cdHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cbiIsImltcG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciwgaXNfZnVuY3Rpb24sIG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbG9vcCB9IGZyb20gJy4vbG9vcC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfcnVsZSwgZGVsZXRlX3J1bGUgfSBmcm9tICcuL3N0eWxlX21hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYWRkX3JlbmRlcl9jYWxsYmFjayB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9XG4gKi9cbmxldCBwcm9taXNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5mdW5jdGlvbiB3YWl0KCkge1xuXHRpZiAoIXByb21pc2UpIHtcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0cHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHByb21pc2UgPSBudWxsO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBwcm9taXNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPIHwgYm9vbGVhbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0geydzdGFydCcgfCAnZW5kJ30ga2luZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuXHRub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0eXBlIHtPdXRyb31cbiAqL1xubGV0IG91dHJvcztcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG5cdG91dHJvcyA9IHtcblx0XHRyOiAwLFxuXHRcdGM6IFtdLFxuXHRcdHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG5cdGlmICghb3V0cm9zLnIpIHtcblx0XHRydW5fYWxsKG91dHJvcy5jKTtcblx0fVxuXHRvdXRyb3MgPSBvdXRyb3MucDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBbbG9jYWxdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5pKSB7XG5cdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRibG9jay5pKGxvY2FsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IGxvY2FsXG4gKiBAcGFyYW0gezAgfCAxfSBbZGV0YWNoXVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2subykge1xuXHRcdGlmIChvdXRyb2luZy5oYXMoYmxvY2spKSByZXR1cm47XG5cdFx0b3V0cm9pbmcuYWRkKGJsb2NrKTtcblx0XHRvdXRyb3MuYy5wdXNoKCgpID0+IHtcblx0XHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0aWYgKGRldGFjaCkgYmxvY2suZCgxKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRibG9jay5vKGxvY2FsKTtcblx0fSBlbHNlIGlmIChjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgc3RhcnQoKTogdm9pZDsgaW52YWxpZGF0ZSgpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IGZhbHNlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGxldCB0YXNrO1xuXHRsZXQgdWlkID0gMDtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcblx0XHR0aWNrKDAsIDEpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGlmICh0YXNrKSB0YXNrLmFib3J0KCk7XG5cdFx0cnVubmluZyA9IHRydWU7XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG5cdFx0dGFzayA9IGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMSwgMCk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRyZXR1cm4gKHJ1bm5pbmcgPSBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdHJldHVybiB7XG5cdFx0c3RhcnQoKSB7XG5cdFx0XHRpZiAoc3RhcnRlZCkgcmV0dXJuO1xuXHRcdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0XHRkZWxldGVfcnVsZShub2RlKTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdFx0d2FpdCgpLnRoZW4oZ28pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGludmFsaWRhdGUoKSB7XG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IGVuZChyZXNldDogYW55KTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gdHJ1ZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRjb25zdCBncm91cCA9IG91dHJvcztcblx0Z3JvdXAuciArPSAxO1xuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMCwgMSk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcblx0XHRcdFx0XHRpZiAoIS0tZ3JvdXAucikge1xuXHRcdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuXHRcdFx0XHRcdFx0cnVuX2FsbChncm91cC5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2soMSAtIHQsIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXG5cdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0Z28oKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRnbygpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRlbmQocmVzZXQpIHtcblx0XHRcdGlmIChyZXNldCAmJiAnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG5cdFx0XHRcdGNvbmZpZy50aWNrKDEsIDApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50cm9cbiAqIEByZXR1cm5zIHt7IHJ1bihiOiAwIHwgMSk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0bGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcblxuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BlbmRpbmdQcm9ncmFtfSBwcm9ncmFtXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvZ3JhbX1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcblx0XHRjb25zdCBkID0gLyoqIEB0eXBlIHtQcm9ncmFtWydkJ119ICovIChwcm9ncmFtLmIgLSB0KTtcblx0XHRkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YTogdCxcblx0XHRcdGI6IHByb2dyYW0uYixcblx0XHRcdGQsXG5cdFx0XHRkdXJhdGlvbixcblx0XHRcdHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuXHRcdFx0ZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG5cdFx0XHRncm91cDogcHJvZ3JhbS5ncm91cFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPfSBiXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ28oYikge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbX0gKi9cblx0XHRjb25zdCBwcm9ncmFtID0ge1xuXHRcdFx0c3RhcnQ6IG5vdygpICsgZGVsYXksXG5cdFx0XHRiXG5cdFx0fTtcblxuXHRcdGlmICghYikge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3Ncblx0XHRcdHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG5cdFx0XHRvdXRyb3MuciArPSAxO1xuXHRcdH1cblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdGlmIChiKSB7XG5cdFx0XHRcdGlmIChvcmlnaW5hbF9pbmVydF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYWJvcnRlZC9yZXZlcnNlZCBvdXRybyDigJQgcmVzdG9yZSBwcmV2aW91cyBpbmVydCB2YWx1ZVxuXHRcdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG5cdFx0XHQvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcblx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYikgdGljaygwLCAxKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG5cdFx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdFx0aWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuXHRcdFx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShcblx0XHRcdFx0XHRcdFx0bm9kZSxcblx0XHRcdFx0XHRcdFx0dCxcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmIsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0ZWFzaW5nLFxuXHRcdFx0XHRcdFx0XHRjb25maWcuY3NzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0aWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG5cdFx0XHRcdFx0XHR0aWNrKCh0ID0gcnVubmluZ19wcm9ncmFtLmIpLCAxIC0gdCk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuXHRcdFx0XHRcdFx0aWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gd2UncmUgZG9uZVxuXHRcdFx0XHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcblx0XHRcdFx0XHRcdHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuXHRcdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJ1bihiKSB7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0cyA9IHsgZGlyZWN0aW9uOiBiID8gJ2luJyA6ICdvdXQnIH07XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRzKTtcblx0XHRcdFx0XHRnbyhiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbyhiKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbi8qKiBAdHlwZWRlZiB7MX0gSU5UUk8gKi9cbi8qKiBAdHlwZWRlZiB7MH0gT1VUUk8gKi9cbi8qKiBAdHlwZWRlZiB7eyBkaXJlY3Rpb246ICdpbicgfCAnb3V0JyB8ICdib3RoJyB9fSBUcmFuc2l0aW9uT3B0aW9ucyAqL1xuLyoqIEB0eXBlZGVmIHsobm9kZTogRWxlbWVudCwgcGFyYW1zOiBhbnksIG9wdGlvbnM6IFRyYW5zaXRpb25PcHRpb25zKSA9PiBpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ30gVHJhbnNpdGlvbkZuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3V0cm9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uW119IGNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZW5kaW5nUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gYVxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHsxfC0xfSBkXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZFxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG4iLCJpbXBvcnQgeyB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vLyBnZW5lcmFsIGVhY2ggZnVuY3Rpb25zOlxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlX2FycmF5X2xpa2UoYXJyYXlfbGlrZV9vcl9pdGVyYXRvcikge1xuXHRyZXR1cm4gYXJyYXlfbGlrZV9vcl9pdGVyYXRvcj8ubGVuZ3RoICE9PSB1bmRlZmluZWRcblx0XHQ/IGFycmF5X2xpa2Vfb3JfaXRlcmF0b3Jcblx0XHQ6IEFycmF5LmZyb20oYXJyYXlfbGlrZV9vcl9pdGVyYXRvcik7XG59XG5cbi8vIGtleWVkIGVhY2ggZnVuY3Rpb25zOlxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmQoMSk7XG5cdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0dHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcblx0XHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG5cdH0pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2goXG5cdG9sZF9ibG9ja3MsXG5cdGRpcnR5LFxuXHRnZXRfa2V5LFxuXHRkeW5hbWljLFxuXHRjdHgsXG5cdGxpc3QsXG5cdGxvb2t1cCxcblx0bm9kZSxcblx0ZGVzdHJveSxcblx0Y3JlYXRlX2VhY2hfYmxvY2ssXG5cdG5leHQsXG5cdGdldF9jb250ZXh0XG4pIHtcblx0bGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcblx0bGV0IG4gPSBsaXN0Lmxlbmd0aDtcblx0bGV0IGkgPSBvO1xuXHRjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuXHR3aGlsZSAoaS0tKSBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuXHRjb25zdCBuZXdfYmxvY2tzID0gW107XG5cdGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcblx0Y29uc3QgdXBkYXRlcyA9IFtdO1xuXHRpID0gbjtcblx0d2hpbGUgKGktLSkge1xuXHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcblx0XHRpZiAoIWJsb2NrKSB7XG5cdFx0XHRibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcblx0XHRcdGJsb2NrLmMoKTtcblx0XHR9IGVsc2UgaWYgKGR5bmFtaWMpIHtcblx0XHRcdC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcblx0XHRcdHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcblx0XHR9XG5cdFx0bmV3X2xvb2t1cC5zZXQoa2V5LCAobmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKSk7XG5cdFx0aWYgKGtleSBpbiBvbGRfaW5kZXhlcykgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG5cdH1cblx0Y29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuXHRjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcblx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRibG9jay5tKG5vZGUsIG5leHQpO1xuXHRcdGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG5cdFx0bmV4dCA9IGJsb2NrLmZpcnN0O1xuXHRcdG4tLTtcblx0fVxuXHR3aGlsZSAobyAmJiBuKSB7XG5cdFx0Y29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG5cdFx0Y29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG5cdFx0Y29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG5cdFx0aWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG5cdFx0XHQvLyBkbyBub3RoaW5nXG5cdFx0XHRuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuXHRcdFx0by0tO1xuXHRcdFx0bi0tO1xuXHRcdH0gZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHQvLyByZW1vdmUgb2xkIGJsb2NrXG5cdFx0XHRkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuXHRcdFx0ZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG5cdFx0XHRvLS07XG5cdFx0fVxuXHR9XG5cdHdoaWxlIChvLS0pIHtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuXHRcdGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHR9XG5cdHdoaWxlIChuKSBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuXHRydW5fYWxsKHVwZGF0ZXMpO1xuXHRyZXR1cm4gbmV3X2Jsb2Nrcztcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG5cdGNvbnN0IGtleXMgPSBuZXcgTWFwKCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG5cdFx0aWYgKGtleXMuaGFzKGtleSkpIHtcblx0XHRcdGxldCB2YWx1ZSA9ICcnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBgd2l0aCB2YWx1ZSAnJHtTdHJpbmcoa2V5KX0nIGA7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIGNhbid0IHN0cmluZ2lmeVxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoOiBLZXlzIGF0IGluZGV4ICR7a2V5cy5nZXQoXG5cdFx0XHRcdFx0a2V5XG5cdFx0XHRcdCl9IGFuZCAke2l9ICR7dmFsdWV9YXJlIGR1cGxpY2F0ZXNgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRrZXlzLnNldChrZXksIGkpO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRhZGRfcmVuZGVyX2NhbGxiYWNrLFxuXHRmbHVzaCxcblx0Zmx1c2hfcmVuZGVyX2NhbGxiYWNrcyxcblx0c2NoZWR1bGVfdXBkYXRlLFxuXHRkaXJ0eV9jb21wb25lbnRzXG59IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBibGFua19vYmplY3QsIGlzX2VtcHR5LCBpc19mdW5jdGlvbiwgcnVuLCBydW5fYWxsLCBub29wIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRjaGlsZHJlbixcblx0ZGV0YWNoLFxuXHRzdGFydF9oeWRyYXRpbmcsXG5cdGVuZF9oeWRyYXRpbmcsXG5cdGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMsXG5cdGluc2VydCxcblx0ZWxlbWVudCxcblx0YXR0clxufSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyB0cmFuc2l0aW9uX2luIH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kKGNvbXBvbmVudCwgbmFtZSwgY2FsbGJhY2spIHtcblx0Y29uc3QgaW5kZXggPSBjb21wb25lbnQuJCQucHJvcHNbbmFtZV07XG5cdGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29tcG9uZW50LiQkLmJvdW5kW2luZGV4XSA9IGNhbGxiYWNrO1xuXHRcdGNhbGxiYWNrKGNvbXBvbmVudC4kJC5jdHhbaW5kZXhdKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2NvbXBvbmVudChibG9jaykge1xuXHRibG9jayAmJiBibG9jay5jKCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuXHRibG9jayAmJiBibG9jay5sKHBhcmVudF9ub2Rlcyk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCB0YXJnZXQsIGFuY2hvcikge1xuXHRjb25zdCB7IGZyYWdtZW50LCBhZnRlcl91cGRhdGUgfSA9IGNvbXBvbmVudC4kJDtcblx0ZnJhZ21lbnQgJiYgZnJhZ21lbnQubSh0YXJnZXQsIGFuY2hvcik7XG5cdC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcblx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG5cdFx0Y29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBjb21wb25lbnQuJCQub25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcblx0XHQvLyBpZiB0aGUgY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBpdCB3aWxsIHVwZGF0ZSB0aGUgYCQkLm9uX2Rlc3Ryb3lgIHJlZmVyZW5jZSB0byBgbnVsbGAuXG5cdFx0Ly8gdGhlIGRlc3RydWN0dXJlZCBvbl9kZXN0cm95IG1heSBzdGlsbCByZWZlcmVuY2UgdG8gdGhlIG9sZCBhcnJheVxuXHRcdGlmIChjb21wb25lbnQuJCQub25fZGVzdHJveSkge1xuXHRcdFx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaCguLi5uZXdfb25fZGVzdHJveSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuXHRcdFx0Ly8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuXHRcdFx0cnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG5cdFx0fVxuXHRcdGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuXHR9KTtcblx0YWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuXHRjb25zdCAkJCA9IGNvbXBvbmVudC4kJDtcblx0aWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0Zmx1c2hfcmVuZGVyX2NhbGxiYWNrcygkJC5hZnRlcl91cGRhdGUpO1xuXHRcdHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuZChkZXRhY2hpbmcpO1xuXHRcdC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cblx0XHQvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG5cdFx0JCQub25fZGVzdHJveSA9ICQkLmZyYWdtZW50ID0gbnVsbDtcblx0XHQkJC5jdHggPSBbXTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuXHRpZiAoY29tcG9uZW50LiQkLmRpcnR5WzBdID09PSAtMSkge1xuXHRcdGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuXHRcdHNjaGVkdWxlX3VwZGF0ZSgpO1xuXHRcdGNvbXBvbmVudC4kJC5kaXJ0eS5maWxsKDApO1xuXHR9XG5cdGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9IDEgPDwgaSAlIDMxO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzLFxuXHRkaXJ0eSA9IFstMV1cbikge1xuXHRjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuVCQkfSAqL1xuXHRjb25zdCAkJCA9IChjb21wb25lbnQuJCQgPSB7XG5cdFx0ZnJhZ21lbnQ6IG51bGwsXG5cdFx0Y3R4OiBbXSxcblx0XHQvLyBzdGF0ZVxuXHRcdHByb3BzLFxuXHRcdHVwZGF0ZTogbm9vcCxcblx0XHRub3RfZXF1YWwsXG5cdFx0Ym91bmQ6IGJsYW5rX29iamVjdCgpLFxuXHRcdC8vIGxpZmVjeWNsZVxuXHRcdG9uX21vdW50OiBbXSxcblx0XHRvbl9kZXN0cm95OiBbXSxcblx0XHRvbl9kaXNjb25uZWN0OiBbXSxcblx0XHRiZWZvcmVfdXBkYXRlOiBbXSxcblx0XHRhZnRlcl91cGRhdGU6IFtdLFxuXHRcdGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcblx0XHQvLyBldmVyeXRoaW5nIGVsc2Vcblx0XHRjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuXHRcdGRpcnR5LFxuXHRcdHNraXBfYm91bmQ6IGZhbHNlLFxuXHRcdHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuXHR9KTtcblx0YXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuXHRsZXQgcmVhZHkgPSBmYWxzZTtcblx0JCQuY3R4ID0gaW5zdGFuY2Vcblx0XHQ/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcblx0XHRcdFx0aWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAoJCQuY3R4W2ldID0gdmFsdWUpKSkge1xuXHRcdFx0XHRcdGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSkgJCQuYm91bmRbaV0odmFsdWUpO1xuXHRcdFx0XHRcdGlmIChyZWFkeSkgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0ICB9KVxuXHRcdDogW107XG5cdCQkLnVwZGF0ZSgpO1xuXHRyZWFkeSA9IHRydWU7XG5cdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuXHQkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG5cdGlmIChvcHRpb25zLnRhcmdldCkge1xuXHRcdGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcblx0XHRcdHN0YXJ0X2h5ZHJhdGluZygpO1xuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuXHRcdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG5cdFx0XHRub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5jKCk7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zLmludHJvKSB0cmFuc2l0aW9uX2luKGNvbXBvbmVudC4kJC5mcmFnbWVudCk7XG5cdFx0bW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yKTtcblx0XHRlbmRfaHlkcmF0aW5nKCk7XG5cdFx0Zmx1c2goKTtcblx0fVxuXHRzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5cbmV4cG9ydCBsZXQgU3ZlbHRlRWxlbWVudDtcblxuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRTdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGNvbnN0cnVjdG9yICovXG5cdFx0JCRjdG9yO1xuXHRcdC8qKiBTbG90cyAqL1xuXHRcdCQkcztcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgaW5zdGFuY2UgKi9cblx0XHQkJGM7XG5cdFx0LyoqIFdoZXRoZXIgb3Igbm90IHRoZSBjdXN0b20gZWxlbWVudCBpcyBjb25uZWN0ZWQgKi9cblx0XHQkJGNuID0gZmFsc2U7XG5cdFx0LyoqIENvbXBvbmVudCBwcm9wcyBkYXRhICovXG5cdFx0JCRkID0ge307XG5cdFx0LyoqIGB0cnVlYCBpZiBjdXJyZW50bHkgaW4gdGhlIHByb2Nlc3Mgb2YgcmVmbGVjdGluZyBjb21wb25lbnQgcHJvcHMgYmFjayB0byBhdHRyaWJ1dGVzICovXG5cdFx0JCRyID0gZmFsc2U7XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBQcm9wcyBkZWZpbml0aW9uIChuYW1lLCByZWZsZWN0ZWQsIHR5cGUgZXRjKSAqL1xuXHRcdCQkcF9kID0ge307XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbltdPn0gRXZlbnQgbGlzdGVuZXJzICovXG5cdFx0JCRsID0ge307XG5cdFx0LyoqIEB0eXBlIHtNYXA8RnVuY3Rpb24sIEZ1bmN0aW9uPn0gRXZlbnQgbGlzdGVuZXIgdW5zdWJzY3JpYmUgZnVuY3Rpb25zICovXG5cdFx0JCRsX3UgPSBuZXcgTWFwKCk7XG5cblx0XHRjb25zdHJ1Y3RvcigkJGNvbXBvbmVudEN0b3IsICQkc2xvdHMsIHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRzdXBlcigpO1xuXHRcdFx0dGhpcy4kJGN0b3IgPSAkJGNvbXBvbmVudEN0b3I7XG5cdFx0XHR0aGlzLiQkcyA9ICQkc2xvdHM7XG5cdFx0XHRpZiAodXNlX3NoYWRvd19kb20pIHtcblx0XHRcdFx0dGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0Ly8gV2UgY2FuJ3QgZGV0ZXJtaW5lIHVwZnJvbnQgaWYgdGhlIGV2ZW50IGlzIGEgY3VzdG9tIGV2ZW50IG9yIG5vdCwgc28gd2UgaGF2ZSB0b1xuXHRcdFx0Ly8gbGlzdGVuIHRvIGJvdGguIElmIHNvbWVvbmUgdXNlcyBhIGN1c3RvbSBldmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgYSByZWd1bGFyXG5cdFx0XHQvLyBicm93c2VyIGV2ZW50LCB0aGlzIGZpcmVzIHR3aWNlIC0gd2UgY2FuJ3QgYXZvaWQgdGhhdC5cblx0XHRcdHRoaXMuJCRsW3R5cGVdID0gdGhpcy4kJGxbdHlwZV0gfHwgW107XG5cdFx0XHR0aGlzLiQkbFt0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0XHRcdGlmICh0aGlzLiQkYykge1xuXHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRjLiRvbih0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHR9XG5cdFx0XHRzdXBlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRyZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHRzdXBlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHRcdGlmICh0aGlzLiQkYykge1xuXHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRsX3UuZ2V0KGxpc3RlbmVyKTtcblx0XHRcdFx0aWYgKHVuc3ViKSB7XG5cdFx0XHRcdFx0dW5zdWIoKTtcblx0XHRcdFx0XHR0aGlzLiQkbF91LmRlbGV0ZShsaXN0ZW5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IHRydWU7XG5cdFx0XHRpZiAoIXRoaXMuJCRjKSB7XG5cdFx0XHRcdC8vIFdlIHdhaXQgb25lIHRpY2sgdG8gbGV0IHBvc3NpYmxlIGNoaWxkIHNsb3QgZWxlbWVudHMgYmUgY3JlYXRlZC9tb3VudGVkXG5cdFx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbikge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBjcmVhdGVfc2xvdChuYW1lKSB7XG5cdFx0XHRcdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdFx0XHRcdGxldCBub2RlO1xuXHRcdFx0XHRcdFx0Y29uc3Qgb2JqID0ge1xuXHRcdFx0XHRcdFx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW1lbnQoJ3Nsb3QnKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAobmFtZSAhPT0gJ2RlZmF1bHQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhdHRyKG5vZGUsICduYW1lJywgbmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG5cdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFthbmNob3JdXG5cdFx0XHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdFx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0XHRcdFx0XHRcdGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGV0YWNoKG5vZGUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCAkJHNsb3RzID0ge307XG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nX3Nsb3RzID0gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyh0aGlzKTtcblx0XHRcdFx0Zm9yIChjb25zdCBuYW1lIG9mIHRoaXMuJCRzKSB7XG5cdFx0XHRcdFx0aWYgKG5hbWUgaW4gZXhpc3Rpbmdfc2xvdHMpIHtcblx0XHRcdFx0XHRcdCQkc2xvdHNbbmFtZV0gPSBbY3JlYXRlX3Nsb3QobmFtZSldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLmF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0XHQvLyB0aGlzLiQkZGF0YSB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhpcy5hdHRyaWJ1dGVzXG5cdFx0XHRcdFx0Y29uc3QgbmFtZSA9IHRoaXMuJCRnX3AoYXR0cmlidXRlLm5hbWUpO1xuXHRcdFx0XHRcdGlmICghKG5hbWUgaW4gdGhpcy4kJGQpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtuYW1lXSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShuYW1lLCBhdHRyaWJ1dGUudmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGMgPSBuZXcgdGhpcy4kJGN0b3Ioe1xuXHRcdFx0XHRcdHRhcmdldDogdGhpcy5zaGFkb3dSb290IHx8IHRoaXMsXG5cdFx0XHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0XHRcdC4uLnRoaXMuJCRkLFxuXHRcdFx0XHRcdFx0JCRzbG90cyxcblx0XHRcdFx0XHRcdCQkc2NvcGU6IHtcblx0XHRcdFx0XHRcdFx0Y3R4OiBbXVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gUmVmbGVjdCBjb21wb25lbnQgcHJvcHMgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRjb25zdCByZWZsZWN0X2F0dHJpYnV0ZXMgPSAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy4kJHIgPSB0cnVlO1xuXHRcdFx0XHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCRwX2QpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0gPSB0aGlzLiQkYy4kJC5jdHhbdGhpcy4kJGMuJCQucHJvcHNba2V5XV07XG5cdFx0XHRcdFx0XHRpZiAodGhpcy4kJHBfZFtrZXldLnJlZmxlY3QpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgYXR0cmlidXRlX3ZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKFxuXHRcdFx0XHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRwX2QsXG5cdFx0XHRcdFx0XHRcdFx0J3RvQXR0cmlidXRlJ1xuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYXR0cmlidXRlX3ZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5LCBhdHRyaWJ1dGVfdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuJCRyID0gZmFsc2U7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuJCRjLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKHJlZmxlY3RfYXR0cmlidXRlcyk7XG5cdFx0XHRcdHJlZmxlY3RfYXR0cmlidXRlcygpOyAvLyBvbmNlIGluaXRpYWxseSBiZWNhdXNlIGFmdGVyX3VwZGF0ZSBpcyBhZGRlZCB0b28gbGF0ZSBmb3IgZmlyc3QgcmVuZGVyXG5cblx0XHRcdFx0Zm9yIChjb25zdCB0eXBlIGluIHRoaXMuJCRsKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiQkbFt0eXBlXSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGwgPSB7fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBXZSBkb24ndCBuZWVkIHRoaXMgd2hlbiB3b3JraW5nIHdpdGhpbiBTdmVsdGUgY29kZSwgYnV0IGZvciBjb21wYXRpYmlsaXR5IG9mIHBlb3BsZSB1c2luZyB0aGlzIG91dHNpZGUgb2YgU3ZlbHRlXG5cdFx0Ly8gYW5kIHNldHRpbmcgYXR0cmlidXRlcyB0aHJvdWdoIHNldEF0dHJpYnV0ZSBldGMsIHRoaXMgaXMgaGVscGZ1bFxuXHRcdGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy4kJHIpIHJldHVybjtcblx0XHRcdGF0dHIgPSB0aGlzLiQkZ19wKGF0dHIpO1xuXHRcdFx0dGhpcy4kJGRbYXR0cl0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoYXR0ciwgbmV3VmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW2F0dHJdOiB0aGlzLiQkZFthdHRyXSB9KTtcblx0XHR9XG5cblx0XHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IGZhbHNlO1xuXHRcdFx0Ly8gSW4gYSBtaWNyb3Rhc2ssIGJlY2F1c2UgdGhpcyBjb3VsZCBiZSBhIG1vdmUgd2l0aGluIHRoZSBET01cblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbikge1xuXHRcdFx0XHRcdHRoaXMuJCRjLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0dGhpcy4kJGMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdCQkZ19wKGF0dHJpYnV0ZV9uYW1lKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRPYmplY3Qua2V5cyh0aGlzLiQkcF9kKS5maW5kKFxuXHRcdFx0XHRcdChrZXkpID0+XG5cdFx0XHRcdFx0XHR0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlID09PSBhdHRyaWJ1dGVfbmFtZSB8fFxuXHRcdFx0XHRcdFx0KCF0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSBhdHRyaWJ1dGVfbmFtZSlcblx0XHRcdFx0KSB8fCBhdHRyaWJ1dGVfbmFtZVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uXG4gKiBAcGFyYW0geyd0b0F0dHJpYnV0ZScgfCAndG9Qcm9wJ30gW3RyYW5zZm9ybV1cbiAqL1xuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uLCB0cmFuc2Zvcm0pIHtcblx0Y29uc3QgdHlwZSA9IHByb3BzX2RlZmluaXRpb25bcHJvcF0/LnR5cGU7XG5cdHZhbHVlID0gdHlwZSA9PT0gJ0Jvb2xlYW4nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgIT0gbnVsbCA6IHZhbHVlO1xuXHRpZiAoIXRyYW5zZm9ybSB8fCAhcHJvcHNfZGVmaW5pdGlvbltwcm9wXSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fSBlbHNlIGlmICh0cmFuc2Zvcm0gPT09ICd0b0F0dHJpYnV0ZScpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgJiYgSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlOyAvLyBjb252ZXJzaW9uIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9IG51bGwgPyArdmFsdWUgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBUdXJuIGEgU3ZlbHRlIGNvbXBvbmVudCBpbnRvIGEgY3VzdG9tIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRUeXBlfSBDb21wb25lbnQgIEEgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uICBUaGUgcHJvcHMgdG8gb2JzZXJ2ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2xvdHMgIFRoZSBzbG90cyB0byBjcmVhdGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFjY2Vzc29ycyAgT3RoZXIgYWNjZXNzb3JzIGJlc2lkZXMgdGhlIG9uZXMgZm9yIHByb3BzIHRoZSBjb21wb25lbnQgaGFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZV9zaGFkb3dfZG9tICBXaGV0aGVyIHRvIHVzZSBzaGFkb3cgRE9NXG4gKiBAcGFyYW0geyhjZTogbmV3ICgpID0+IEhUTUxFbGVtZW50KSA9PiBuZXcgKCkgPT4gSFRNTEVsZW1lbnR9IFtleHRlbmRdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY3VzdG9tX2VsZW1lbnQoXG5cdENvbXBvbmVudCxcblx0cHJvcHNfZGVmaW5pdGlvbixcblx0c2xvdHMsXG5cdGFjY2Vzc29ycyxcblx0dXNlX3NoYWRvd19kb20sXG5cdGV4dGVuZFxuKSB7XG5cdGxldCBDbGFzcyA9IGNsYXNzIGV4dGVuZHMgU3ZlbHRlRWxlbWVudCB7XG5cdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRzdXBlcihDb21wb25lbnQsIHNsb3RzLCB1c2Vfc2hhZG93X2RvbSk7XG5cdFx0XHR0aGlzLiQkcF9kID0gcHJvcHNfZGVmaW5pdGlvbjtcblx0XHR9XG5cdFx0c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMocHJvcHNfZGVmaW5pdGlvbikubWFwKChrZXkpID0+XG5cdFx0XHRcdChwcm9wc19kZWZpbml0aW9uW2tleV0uYXR0cmlidXRlIHx8IGtleSkudG9Mb3dlckNhc2UoKVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG5cdE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLmZvckVhY2goKHByb3ApID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBwcm9wLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYyAmJiBwcm9wIGluIHRoaXMuJCRjID8gdGhpcy4kJGNbcHJvcF0gOiB0aGlzLiQkZFtwcm9wXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQodmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24pO1xuXHRcdFx0XHR0aGlzLiQkZFtwcm9wXSA9IHZhbHVlO1xuXHRcdFx0XHR0aGlzLiQkYz8uJHNldCh7IFtwcm9wXTogdmFsdWUgfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRhY2Nlc3NvcnMuZm9yRWFjaCgoYWNjZXNzb3IpID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBhY2Nlc3Nvciwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGM/LlthY2Nlc3Nvcl07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRpZiAoZXh0ZW5kKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGFzc2lnbmluZyBoZXJlIGlzIGZpbmVcblx0XHRDbGFzcyA9IGV4dGVuZChDbGFzcyk7XG5cdH1cblx0Q29tcG9uZW50LmVsZW1lbnQgPSAvKiogQHR5cGUge2FueX0gKi8gKENsYXNzKTtcblx0cmV0dXJuIENsYXNzO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW1Byb3BzPWFueV1cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50cz1hbnldXG4gKi9cbmV4cG9ydCBjbGFzcyBTdmVsdGVDb21wb25lbnQge1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkID0gdW5kZWZpbmVkO1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkc2V0ID0gdW5kZWZpbmVkO1xuXG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0JGRlc3Ryb3koKSB7XG5cdFx0ZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG5cdFx0dGhpcy4kZGVzdHJveSA9IG5vb3A7XG5cdH1cblxuXHQvKipcblx0ICogQHRlbXBsYXRlIHtFeHRyYWN0PGtleW9mIEV2ZW50cywgc3RyaW5nPn0gS1xuXHQgKiBAcGFyYW0ge0t9IHR5cGVcblx0ICogQHBhcmFtIHsoKGU6IEV2ZW50c1tLXSkgPT4gdm9pZCkgfCBudWxsIHwgdW5kZWZpbmVkfSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cblx0ICovXG5cdCRvbih0eXBlLCBjYWxsYmFjaykge1xuXHRcdGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG5cdFx0XHRyZXR1cm4gbm9vcDtcblx0XHR9XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gdGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pO1xuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGFydGlhbDxQcm9wcz59IHByb3BzXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0JHNldChwcm9wcykge1xuXHRcdGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eShwcm9wcykpIHtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG5cdFx0XHR0aGlzLiQkc2V0KHByb3BzKTtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJ1dGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZWZsZWN0XVxuICogQHByb3BlcnR5IHsnU3RyaW5nJ3wnQm9vbGVhbid8J051bWJlcid8J0FycmF5J3wnT2JqZWN0J30gW3R5cGVdXG4gKi9cbiIsIi8vIGdlbmVyYXRlZCBkdXJpbmcgcmVsZWFzZSwgZG8gbm90IG1vZGlmeVxuXG4vKipcbiAqIFRoZSBjdXJyZW50IHZlcnNpb24sIGFzIHNldCBpbiBwYWNrYWdlLmpzb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWNvbXBpbGVyI3N2ZWx0ZS12ZXJzaW9uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0LjEuMSc7XG5leHBvcnQgY29uc3QgUFVCTElDX1ZFUlNJT04gPSAnNCc7XG4iLCJpbXBvcnQgeyBQVUJMSUNfVkVSU0lPTiB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC92ZXJzaW9uLmpzJztcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHQvLyBAdHMtaWdub3JlXG5cdCh3aW5kb3cuX19zdmVsdGUgfHwgKHdpbmRvdy5fX3N2ZWx0ZSA9IHsgdjogbmV3IFNldCgpIH0pKS52LmFkZChQVUJMSUNfVkVSU0lPTik7XG4iLCJleHBvcnQgY2xhc3MgRW1wbG95ZWUge1xuICAgIHB1YmxpYyByZWFkb25seSBpZDogICAgICAgICBudW1iZXIgPSAtMVxuICAgIHB1YmxpYyByZWFkb25seSBmaXJzdF9uYW1lOiBzdHJpbmcgPSBcIlwiXG4gICAgcHVibGljIHJlYWRvbmx5IGxhc3RfbmFtZTogIHN0cmluZyA9IFwiXCJcblxuICAgIGNvbnN0cnVjdG9yIChlbXBsb3llZT86IFBhcnRpYWw8RW1wbG95ZWU+KSB7XG4gICAgICAgIGNvbnN0IG5ld190aGlzOiBFbXBsb3llZSA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgICAuLi5lbXBsb3llZVxuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihuZXdfdGhpcywgRW1wbG95ZWUucHJvdG90eXBlKVxuICAgICAgICByZXR1cm4gbmV3X3RoaXNcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEhUVFAsIEpTT05fUmVzcG9uc2UgfSBmcm9tIFwiLi4veC9odHRwXCJcbmltcG9ydCB7IEVtcGxveWVlIH0gZnJvbSBcIi4vZW1wbG95ZWVcIlxuXG5leHBvcnQgY2xhc3MgRW1wbG95ZWVfQVBJIHtcbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIHB1YmxpYyBodHRwOiAgICAgSFRUUCxcbiAgICAgICAgcHVibGljIGJhc2VfdXJsOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgdGhpcy5hcGlfdXJsID0gXCJlbXBsb3llZXNcIlxuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBpX3VybDogc3RyaW5nXG5cbiAgICBwdWJsaWMgYXN5bmMgZmV0Y2hfZW1wbG95ZWUgKGVtcF9pZDogbnVtYmVyKTogUHJvbWlzZTxFbXBsb3llZT4ge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLnVybF9lbXBsb3llZShlbXBfaWQpXG4gICAgICAgIGNvbnN0IHJlc3A6IEpTT05fUmVzcG9uc2U8UmVzcG9uc2VfRW1wbG95ZWU+ID0gYXdhaXQgdGhpcy5odHRwLmdldDxSZXNwb25zZV9FbXBsb3llZT4odXJsKVxuXG4gICAgICAgIGNvbnN0IGVtcCA9IGVtcGxveWVlX2Zyb21fcmVzcG9uc2UocmVzcC5ib2R5KVxuICAgICAgICByZXR1cm4gZW1wXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cmxfZW1wbG95ZWUgKGVtcF9pZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYXBpX3BhdGggPSBbdGhpcy5hcGlfdXJsLCBlbXBfaWRdLmpvaW4oXCIvXCIpXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYXBpX3BhdGgsIHRoaXMuYmFzZV91cmwpXG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKVxuICAgIH1cbn1cblxuaW50ZXJmYWNlIFJlc3BvbnNlX0VtcGxveWVlIHtcbiAgICBpZDogICAgICAgIG51bWJlclxuICAgIGZpcnN0TmFtZTogc3RyaW5nXG4gICAgbGFzdE5hbWU6ICBzdHJpbmdcbn1cblxuZnVuY3Rpb24gZW1wbG95ZWVfZnJvbV9yZXNwb25zZSAocmVzcDogUmVzcG9uc2VfRW1wbG95ZWUpOiBFbXBsb3llZSB7XG4gICAgY29uc3QgZW1wID0gbmV3IEVtcGxveWVlKHtcbiAgICAgICAgaWQ6ICAgICAgICAgcmVzcC5pZCxcbiAgICAgICAgZmlyc3RfbmFtZTogcmVzcC5maXJzdE5hbWUsXG4gICAgICAgIGxhc3RfbmFtZTogIHJlc3AubGFzdE5hbWVcbiAgICB9KVxuXG4gICAgcmV0dXJuIGVtcFxufVxuIiwiaW1wb3J0IHtcblx0cnVuX2FsbCxcblx0c3Vic2NyaWJlLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0aXNfZnVuY3Rpb24sXG5cdGdldF9zdG9yZV92YWx1ZVxufSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5qcyc7XG5cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcblx0cmV0dXJuIHtcblx0XHRzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlXG5cdH07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjd3JpdGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuV3JpdGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn0gKi9cblx0bGV0IHN0b3A7XG5cdC8qKiBAdHlwZSB7U2V0PGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+Pn0gKi9cblx0Y29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcGFyYW0ge1R9IG5ld192YWx1ZVxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcblx0XHRpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcblx0XHRcdHZhbHVlID0gbmV3X3ZhbHVlO1xuXHRcdFx0aWYgKHN0b3ApIHtcblx0XHRcdFx0Ly8gc3RvcmUgaXMgcmVhZHlcblx0XHRcdFx0Y29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2Ygc3Vic2NyaWJlcnMpIHtcblx0XHRcdFx0XHRzdWJzY3JpYmVyWzFdKCk7XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVuX3F1ZXVlKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVwZGF0ZXI8VD59IGZuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG5cdFx0c2V0KGZuKHZhbHVlKSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3Vic2NyaWJlcjxUPn0gcnVuXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5JbnZhbGlkYXRvcjxUPn0gW2ludmFsaWRhdGVdXG5cdCAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+fSAqL1xuXHRcdGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcblx0XHRzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG5cdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcblx0XHRcdHN0b3AgPSBzdGFydChzZXQsIHVwZGF0ZSkgfHwgbm9vcDtcblx0XHR9XG5cdFx0cnVuKHZhbHVlKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0c3Vic2NyaWJlcnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuXHRcdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDAgJiYgc3RvcCkge1xuXHRcdFx0XHRzdG9wKCk7XG5cdFx0XHRcdHN0b3AgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+LCBzZXQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgdXBkYXRlOiAoZm46IGltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+KSA9PiB2b2lkKSA9PiBpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyIHwgdm9pZH0gZm4gLSBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlc1xuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV0gLSBpbml0aWFsIHZhbHVlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZGVyaXZlZFxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXMgLSBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXNWYWx1ZXM8Uz4pID0+IFR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG5cdGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG5cdC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPGFueT4+fSAqL1xuXHRjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGUgPyBbc3RvcmVzXSA6IHN0b3Jlcztcblx0aWYgKCFzdG9yZXNfYXJyYXkuZXZlcnkoQm9vbGVhbikpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Rlcml2ZWQoKSBleHBlY3RzIHN0b3JlcyBhcyBpbnB1dCwgZ290IGEgZmFsc3kgdmFsdWUnKTtcblx0fVxuXHRjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcblx0cmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQsIHVwZGF0ZSkgPT4ge1xuXHRcdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cdFx0bGV0IHBlbmRpbmcgPSAwO1xuXHRcdGxldCBjbGVhbnVwID0gbm9vcDtcblx0XHRjb25zdCBzeW5jID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQsIHVwZGF0ZSk7XG5cdFx0XHRpZiAoYXV0bykge1xuXHRcdFx0XHRzZXQocmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT5cblx0XHRcdHN1YnNjcmliZShcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZhbHVlc1tpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuXHRcdFx0XHRcdGlmIChzdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRzeW5jKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cGVuZGluZyB8PSAxIDw8IGk7XG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpO1xuXHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdHN5bmMoKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcblx0XHRcdHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHQvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHRvIGZhbHNlIGJlY2F1c2UgY2FsbGJhY2tzIGNhbiBzdGlsbCBoYXBwZW4gZGVzcGl0ZSBoYXZpbmcgdW5zdWJzY3JpYmVkOlxuXHRcdFx0Ly8gQ2FsbGJhY2tzIG1pZ2h0IGFscmVhZHkgYmUgcGxhY2VkIGluIHRoZSBxdWV1ZSB3aGljaCBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIG5vIGxvbmdlclxuXHRcdFx0Ly8gaW52b2tlIHRoaXMgZGVyaXZlZCBzdG9yZS5cblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZG9ubHlcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmUgIC0gc3RvcmUgdG8gbWFrZSByZWFkb25seVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5KHN0b3JlKSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcblx0fTtcbn1cblxuZXhwb3J0IHsgZ2V0X3N0b3JlX3ZhbHVlIGFzIGdldCB9O1xuIiwiaW1wb3J0IHsgZGVyaXZlZCwgd3JpdGFibGUgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCJcbmltcG9ydCB0eXBlIHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIlxuaW1wb3J0IHR5cGUgeyBEYXRlX0lTTyB9IGZyb20gXCIuLi94L3R5cGVzXCJcblxuZXhwb3J0IGNsYXNzIFByb2plY3RzIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zdG9yZSA9IHdyaXRhYmxlPERhdGVQcm9qZWN0TWFwPihuZXcgTWFwKCkpXG4gICAgcHVibGljIHN0b3JlID0gZGVyaXZlZCh0aGlzLl9zdG9yZSwgKHApID0+IHApXG5cbiAgICBwdWJsaWMgc2V0X3Byb2plY3RzIChkYXRlOiBEYXRlX0lTTywgcHJvamVjdHM6IFByb2plY3RbXSkge1xuICAgICAgICB0aGlzLl9zdG9yZS51cGRhdGUoKHByb2plY3RzX21hcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHByb2plY3RzX21hcC5zZXQoZGF0ZSwgcHJvamVjdHMpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZV9wcm9qZWN0IChkYXRlOiBEYXRlX0lTTywgcHJvamVjdDogUHJvamVjdCkge1xuICAgICAgICB0aGlzLl9zdG9yZS51cGRhdGUoKHByb2plY3RzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0c19mb3JfZGF0ZSA9IHByb2plY3RzLmdldChkYXRlKSA/PyBbXVxuICAgICAgICAgICAgcmV0dXJuIHByb2plY3RzLnNldChkYXRlLCBbLi4ucHJvamVjdHNfZm9yX2RhdGUsIHByb2plY3RdKVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgRGF0ZVByb2plY3RNYXAgPSBNYXA8RGF0ZV9JU08sIFByb2plY3RbXT5cbiIsImltcG9ydCB7IHdyaXRhYmxlLCB0eXBlIFdyaXRhYmxlLCBnZXQgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCJcbmltcG9ydCB7IGdldENvbnRleHQsIHNldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCJcbmltcG9ydCB7IFByb2plY3RzIH0gZnJvbSBcIi4vcHJvamVjdF9zdG9yZVwiXG5pbXBvcnQgdHlwZSB7IFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCJcblxuaW50ZXJmYWNlIFByb2plY3RfQ29udGV4dCB7XG4gICAgc3RvcmVfcHJvamVjdHM6IFdyaXRhYmxlPFByb2plY3RbXT5cbiAgICBhZGRfcHJvamVjdDogICAgdHlwZW9mIGFkZF9wcm9qZWN0XG4gICAgc2V0X3Byb2plY3RzOiAgIHR5cGVvZiBzZXRfcHJvamVjdHNcbn1cbmNvbnN0IGNvbnRleHRfa2V5ID0ge31cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRfcHJvamVjdF9jb250ZXh0ICgpIHtcbiAgICBjb25zdCBwcm9qZWN0X2NvbnRleHQ6IFByb2plY3RfQ29udGV4dCA9IHtcbiAgICAgICAgc3RvcmVfcHJvamVjdHM6IHdyaXRhYmxlPFByb2plY3RbXT4oW10pLFxuICAgICAgICBhZGRfcHJvamVjdCxcbiAgICAgICAgc2V0X3Byb2plY3RzXG4gICAgfVxuICAgIHNldENvbnRleHQ8UHJvamVjdF9Db250ZXh0Pihjb250ZXh0X2tleSwgcHJvamVjdF9jb250ZXh0KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlX3Byb2plY3RfY29udGV4dCAoKSB7XG4gICAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dDxQcm9qZWN0X0NvbnRleHQ+KGNvbnRleHRfa2V5KVxuICAgIGlmICghY3R4KSB7XG4gICAgICAgIGNvbnNvbGUud2Fybih7IGxldmVsOiBcIndhcm5cIiwgbXNnOiBcInByb2plY3QgY29udGV4dCBoYXMgbm90IGJlZW4gaW5pdGFsaXplZFwiIH0pXG4gICAgfVxuICAgIHJldHVybiBjdHhcbn1cblxuLy8gVE9ETzogcmV3cml0ZSB3aXRoIHVwZGF0ZVxuZnVuY3Rpb24gYWRkX3Byb2plY3QgKC4uLm5ld19wcm9qZWN0czogUHJvamVjdFtdKSB7XG4gICAgY29uc3QgeyBzdG9yZV9wcm9qZWN0cyB9ID0gdXNlX3Byb2plY3RfY29udGV4dCgpXG4gICAgY29uc3QgcHJvamVjdHMgPSBnZXQoc3RvcmVfcHJvamVjdHMpXG4gICAgc3RvcmVfcHJvamVjdHMuc2V0KFsuLi5wcm9qZWN0cywgLi4ubmV3X3Byb2plY3RzXSlcbn1cblxuZnVuY3Rpb24gc2V0X3Byb2plY3RzIChwcm9qZWN0czogUHJvamVjdFtdKSB7XG4gICAgY29uc3QgeyBzdG9yZV9wcm9qZWN0cyB9ID0gdXNlX3Byb2plY3RfY29udGV4dCgpXG4gICAgc3RvcmVfcHJvamVjdHMuc2V0KHByb2plY3RzKVxufVxuXG5jb25zdCBjb250ZXh0X2tleV92MiA9IHt9XG5leHBvcnQgZnVuY3Rpb24gY29udGV4dF9wcm9qZWN0X2luaXQgKCkge1xuICAgIHNldENvbnRleHQ8UHJvamVjdHM+KGNvbnRleHRfa2V5X3YyLCBuZXcgUHJvamVjdHMoKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRleHRfcHJvamVjdF91c2UgKCk6IFByb2plY3RzIHtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0PFByb2plY3RzPihjb250ZXh0X2tleV92MilcbiAgICBpZiAoIWN0eCkge1xuICAgICAgICBjb25zb2xlLndhcm4oeyBsZXZlbDogXCJ3YXJuXCIsIG1zZzogXCJwcm9qZWN0IGNvbnRleHQgaGFzIG5vdCBiZWVuIGluaXRhbGl6ZWRcIiB9KVxuICAgIH1cbiAgICByZXR1cm4gY3R4XG59XG4iLCJpbXBvcnQgdHlwZSB7IFRhc2sgfSBmcm9tIFwiLi90YXNrXCJcblxuZXhwb3J0IHR5cGUgUHJvamVjdCA9IHtcbiAgICBpZDogICAgbnVtYmVyXG4gICAgbmFtZTogIHN0cmluZ1xuICAgIHRhc2tzOiBUYXNrW11cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld19wcm9qZWN0IChpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHRhc2tzOiBUYXNrW10gPSBbXSk6IFByb2plY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lLFxuICAgICAgICB0YXNrcyxcbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIFRhc2sge1xuICAgIGlkOiAgIG51bWJlclxuICAgIG5hbWU6IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3X3Rhc2sgKGlkOiBudW1iZXIsIG5hbWU6IHN0cmluZyk6IFRhc2sge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lLFxuICAgIH1cbn1cbiIsIi8qKlxuICogQHBhcmFtIGRhdGVcbiAqIEByZXR1cm5zIGRhdGUgZm9ybWF0ZWQgYXMgXCJoaDpNTVwiIGVnLiAxMjozN1xuICovXG5leHBvcnQgY29uc3QgZGF0ZV9mb3JtYXRfdGltZSA9IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJkZS1ERVwiLCB7IHRpbWVTdHlsZTogXCJzaG9ydFwiIH0pLmZvcm1hdFxuZXhwb3J0IGNvbnN0IGRhdGVfZm9ybWF0X2RhdGVfbG9jYWwgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZGUtREVcIiwgeyBkYXRlU3R5bGU6IFwic2hvcnRcIiB9KS5mb3JtYXRcblxuLyoqXG4gKlxuICogQHBhcmFtIGRhdGVcbiAqIEByZXR1cm5zIGRhdGUgZm9ybWF0ZWQgYXMgSVNPIHN0cmluZyBlZy4gMjAyMS0wMS0wMVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGF0ZV9mb3JtYXRfaXNvIChkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpXG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIilcbiAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YFxufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gZGF0ZVxuICogQHJldHVybnMgZGF0ZSBmb3JtYXRlZCBhcyBJU08gc3RyaW5nIGVnLiBcIjIwMjEtMDEtMDEgMTI6MzdcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGF0ZV9mb3JtYXRlX2RhdGVfdGltZV9pc28gKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRhdGVfaXNvID0gZGF0ZV9mb3JtYXRfaXNvKGRhdGUpXG4gICAgY29uc3QgdGltZV9pc28gPSBkYXRlX2Zvcm1hdF90aW1lKGRhdGUpXG4gICAgcmV0dXJuIGAke2RhdGVfaXNvfSAke3RpbWVfaXNvfWBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVfd2Vla19mcmFtZXMgKGRhdGUgPSBuZXcgRGF0ZSgpKTogW3N0YXJ0OiBEYXRlLCBlbmQ6RGF0ZV0ge1xuICAgIHJldHVybiBbZGF0ZV9maXJzdF9kYXlfb2Zfd2VlayhkYXRlLCAxKSwgZGF0ZV9sYXN0X2RheV9vZl93ZWVrKGRhdGUsIDEpXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF0ZV9hZGRfZGF5cyAoZGF0ZTogRGF0ZSwgZGF5czogbnVtYmVyKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZSlcbiAgICByZXN1bHQuc2V0RGF0ZShyZXN1bHQuZ2V0RGF0ZSgpICsgZGF5cylcbiAgICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRlX2ZpcnN0X2RheV9vZl93ZWVrIChkYXRlOiBEYXRlLCBmaXJzdF9kYXlfb2Zfd2Vla19pbmRleCA9IDEpOiBEYXRlIHtcbiAgICBjb25zdCBkYXlfb2Zfd2VlayA9IGRhdGUuZ2V0RGF5KClcbiAgICBjb25zdCBmaXJzdF9kYXlfb2Zfd2VlayA9IG5ldyBEYXRlKGRhdGUpXG4gICAgY29uc3QgZGlmZiA9IGRheV9vZl93ZWVrID49IGZpcnN0X2RheV9vZl93ZWVrX2luZGV4XG4gICAgICAgID8gZGF5X29mX3dlZWsgLSBmaXJzdF9kYXlfb2Zfd2Vla19pbmRleFxuICAgICAgICA6IDYgLSBkYXlfb2Zfd2Vla1xuXG4gICAgZmlyc3RfZGF5X29mX3dlZWsuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGRpZmYpXG4gICAgZmlyc3RfZGF5X29mX3dlZWsuc2V0SG91cnMoMCwgMCwgMCwgMClcblxuICAgIHJldHVybiBmaXJzdF9kYXlfb2Zfd2Vla1xufVxuXG5mdW5jdGlvbiBkYXRlX2xhc3RfZGF5X29mX3dlZWsgKGRhdGU6IERhdGUsIGZpcnN0X2RheV9vZl93ZWVrX2luZGV4OiBudW1iZXIpOiBEYXRlIHtcbiAgICBjb25zdCBmaXJzdF9kYXlfb2Zfd2VlayA9IGRhdGVfZmlyc3RfZGF5X29mX3dlZWsoZGF0ZSwgZmlyc3RfZGF5X29mX3dlZWtfaW5kZXgpXG4gICAgY29uc3QgbGFzdF9kYXlfb2Zfd2VlayA9IGRhdGVfYWRkX2RheXMoZmlyc3RfZGF5X29mX3dlZWssIDYpXG5cbiAgICByZXR1cm4gbGFzdF9kYXlfb2Zfd2Vla1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF0ZV9pc190b2RheSAoZDogRGF0ZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRvZGF5ID0gZGF0ZV9mb3JtYXRfaXNvKG5ldyBEYXRlKCkpXG4gICAgY29uc3QgZGF0ZSA9IGRhdGVfZm9ybWF0X2lzbyhkKVxuXG4gICAgY29uc3QgaXNfdG9kYXkgPSB0b2RheSA9PT0gZGF0ZVxuICAgIHJldHVybiBpc190b2RheVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF0ZV9kdXJhdGlvbl9pbl9taW51dGVzIChzdGFydDogRGF0ZSwgZW5kOiBEYXRlKTogbnVtYmVyIHtcbiAgICBjb25zdCBkdXJhdGlvbl9pbl9taW51dGVzID0gTWF0aC5mbG9vcigoZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSkgLyAxMDAwIC8gNjApXG4gICAgcmV0dXJuIGR1cmF0aW9uX2luX21pbnV0ZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVfbWludXRlc190b19ob3Vyc19hbmRfbWludXRlcyAoZHVyYXRpb246IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gNjApXG4gICAgY29uc3QgbWludXRlcyA9IGR1cmF0aW9uICUgNjBcblxuICAgIGNvbnN0IGhvdXJzX2FuZF9taW51dGVzID0gYCR7aG91cnN9aCAke21pbnV0ZXN9bWluYFxuICAgIHJldHVybiBob3Vyc19hbmRfbWludXRlc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWludXRlc190b19kYXRlIChtaW51dGVzOiBudW1iZXIsIGRhdGUgPSBuZXcgRGF0ZSgpKTogRGF0ZSB7XG4gICAgY29uc3QgbmV3X2RhdGUgPSBuZXcgRGF0ZShkYXRlKVxuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApXG4gICAgY29uc3QgbWlucyA9IG1pbnV0ZXMgJSA2MFxuICAgIG5ld19kYXRlLnNldE1pbnV0ZXMobWlucylcbiAgICBuZXdfZGF0ZS5zZXRIb3Vycyhob3VycylcblxuICAgIHJldHVybiBuZXdfZGF0ZVxufVxuXG4vL1xuXG4vLyAwIC0gU3VuZGF5XG4vLyAxIC0gTW9uZGF5ICAgIDwtLVxuLy8gMiAtIFRodWVzZGF5XG4vLyAzIC0gV2VkbmVzZGF5IDwtLVxuLy8gNCAtIFRodXJzZGF5XG4vLyA1IC0gRnJpZGF5XG4vLyA2IC0gU2F0dXJkYXlcbiIsImltcG9ydCB7IGRhdGVfZm9ybWF0X2lzbyB9IGZyb20gXCIuLi94L2RhdGVcIlxuaW1wb3J0IHsgdHlwZSBIVFRQIH0gZnJvbSBcIi4uL3gvaHR0cFwiXG5pbXBvcnQgdHlwZSB7IFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCJcbmltcG9ydCB0eXBlIHsgVGFzayB9IGZyb20gXCIuL3Rhc2tcIlxuXG5leHBvcnQgY2xhc3MgUHJvamVjdF9BUEkge1xuICAgIGNvbnN0cnVjdG9yIChcbiAgICAgICAgcHVibGljIGh0dHA6ICAgICAgICBIVFRQLFxuICAgICAgICBwdWJsaWMgYmFzZV91cmw6ICAgIHN0cmluZyxcbiAgICAgICAgcHVibGljIGVtcGxveWVlX2lkOiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgdGhpcy5hcGlfdXJsID0gYGVtcGxveWVlcy8ke2VtcGxveWVlX2lkfS9wcm9qZWN0c2BcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwaV91cmw6IHN0cmluZ1xuXG4gICAgYXN5bmMgZmV0Y2hfcHJvamVjdHMgKGRhdGU6IERhdGUpOiBQcm9taXNlPFByb2plY3RbXT4ge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLnVybF9wcm9qZWN0cyhkYXRlKVxuICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy5odHRwLmdldDxSZXNwb25zZV9Qcm9qZWN0Pih1cmwpXG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gcHJvamVjdHNfZnJvbV9yZXNwb25zZShyZXNwLmJvZHkpXG5cbiAgICAgICAgcmV0dXJuIHByb2plY3RzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cmxfcHJvamVjdHMgKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuYXBpX3VybCwgdGhpcy5iYXNlX3VybClcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJkYXRlXCIsIGRhdGVfZm9ybWF0X2lzbyhkYXRlKSlcbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpXG4gICAgfVxufVxuXG5pbnRlcmZhY2UgUmVzcG9uc2VfUHJvamVjdCB7XG4gICAgcHJvamVjdHM6IHtcbiAgICAgICAgaWQ6ICAgIG51bWJlclxuICAgICAgICBuYW1lOiAgc3RyaW5nXG4gICAgICAgIHRhc2tzOiB7XG4gICAgICAgICAgICBpZDogICBudW1iZXJcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xuICAgICAgICB9W11cbiAgICB9W11cbn1cblxuZnVuY3Rpb24gcHJvamVjdHNfZnJvbV9yZXNwb25zZSAocmVzcDogUmVzcG9uc2VfUHJvamVjdCk6IFByb2plY3RbXSB7XG4gICAgY29uc3QgcHJvamVjdHM6IFByb2plY3RbXSA9IFtdXG5cbiAgICBmb3IgKGNvbnN0IHAgb2YgcmVzcC5wcm9qZWN0cykge1xuICAgICAgICBjb25zdCBuZXdfcHJvamVjdDogUHJvamVjdCA9IHtcbiAgICAgICAgICAgIGlkOiAgICBwLmlkLFxuICAgICAgICAgICAgbmFtZTogIHAubmFtZSxcbiAgICAgICAgICAgIHRhc2tzOiBbXVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiBwLnRhc2tzKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdfdGFzazogVGFzayA9IHtcbiAgICAgICAgICAgICAgICBpZDogICB0LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHQubmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3X3Byb2plY3QudGFza3MucHVzaChuZXdfdGFzaylcbiAgICAgICAgfVxuICAgICAgICBuZXdfcHJvamVjdC50YXNrcy5zb3J0KCh0YSwgdGIpID0+IHtcbiAgICAgICAgICAgIGlmICh0YS5pZCA+IHRiLmlkKSB7IHJldHVybiAxIH1cbiAgICAgICAgICAgIGlmICh0YS5pZCA8IHRiLmlkKSB7IHJldHVybiAtMSB9XG4gICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICB9KVxuICAgICAgICBwcm9qZWN0cy5wdXNoKG5ld19wcm9qZWN0KVxuICAgIH1cbiAgICByZXR1cm4gcHJvamVjdHNcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIExvZGFzaCA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMjEnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJyxcbiAgICAgIElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQgPSAnSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWAnO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbiAgdmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIGB2YWxpZGF0ZWAgb3B0aW9uIGluIGBfLnRlbXBsYXRlYCB2YXJpYWJsZS5cbiAgICpcbiAgICogRm9yYmlkcyBjaGFyYWN0ZXJzIHdoaWNoIGNvdWxkIHBvdGVudGlhbGx5IGNoYW5nZSB0aGUgbWVhbmluZyBvZiB0aGUgZnVuY3Rpb24gYXJndW1lbnQgZGVmaW5pdGlvbjpcbiAgICogLSBcIigpLFwiIChtb2RpZmljYXRpb24gb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIj1cIiAoZGVmYXVsdCB2YWx1ZSlcbiAgICogLSBcIltde31cIiAoZGVzdHJ1Y3R1cmluZyBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiL1wiIChiZWdpbm5pbmcgb2YgYSBjb21tZW50KVxuICAgKiAtIHdoaXRlc3BhY2VcbiAgICovXG4gIHZhciByZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyA9IC9bKCk9LHt9XFxbXFxdXFwvXFxzXS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVHJpbShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nXG4gICAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgICAgOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciBjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvdW50SG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSAwO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgKytyZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gICAqL1xuICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICAgIHZhciBkYXRhLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRhdGEudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVpciBpbmRleGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAodmFsdWUgPT09IHBsYWNlaG9sZGVyIHx8IHZhbHVlID09PSBQTEFDRUhPTERFUikge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBQTEFDRUhPTERFUjtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBbdmFsdWUsIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggKyAxO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc3ltYm9scyBpbiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nU2l6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVTaXplKHN0cmluZylcbiAgICAgIDogYXNjaWlTaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAgICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICAgIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciB1bmVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbFVuZXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYSBVbmljb2RlIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlU2l6ZShzdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVVbmljb2RlLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICsrcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGBjb250ZXh0YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDEuMS4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5taXhpbih7ICdmb28nOiBfLmNvbnN0YW50KCdmb28nKSB9KTtcbiAgICpcbiAgICogdmFyIGxvZGFzaCA9IF8ucnVuSW5Db250ZXh0KCk7XG4gICAqIGxvZGFzaC5taXhpbih7ICdiYXInOiBsb2Rhc2guY29uc3RhbnQoJ2JhcicpIH0pO1xuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXy5mb28pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guYmFyKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzdXBlZC11cCBgZGVmZXJgIGluIE5vZGUuanMuXG4gICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG4gICAqL1xuICB2YXIgcnVuSW5Db250ZXh0ID0gKGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblxuICAgIC8qKiBCdWlsdC1pbiBjb25zdHJ1Y3RvciByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEVycm9yID0gY29udGV4dC5FcnJvcixcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gICAgdmFyIGNvcmVKc0RhdGEgPSBjb250ZXh0WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbiAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuICAgIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbiAgICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICAgKiBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG4gICAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgXy5ub0NvbmZsaWN0YC4gKi9cbiAgICB2YXIgb2xkRGFzaCA9IHJvb3QuXztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyBjb250ZXh0LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG4gICAgICAgIFVpbnQ4QXJyYXkgPSBjb250ZXh0LlVpbnQ4QXJyYXksXG4gICAgICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1JdGVyYXRvciA9IFN5bWJvbCA/IFN5bWJvbC5pdGVyYXRvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSgpKTtcblxuICAgIC8qKiBNb2NrZWQgYnVpbHQtaW5zLiAqL1xuICAgIHZhciBjdHhDbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCAhPT0gcm9vdC5jbGVhclRpbWVvdXQgJiYgY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG4gICAgICAgIGN0eFNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQgIT09IHJvb3Quc2V0VGltZW91dCAmJiBjb250ZXh0LnNldFRpbWVvdXQ7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG4gICAgdmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZU5vdyA9IERhdGUubm93LFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuICAgICAgICBuYXRpdmVSZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlO1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuICAgIHZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShjb250ZXh0LCAnRGF0YVZpZXcnKSxcbiAgICAgICAgTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdNYXAnKSxcbiAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuICAgICAgICBTZXQgPSBnZXROYXRpdmUoY29udGV4dCwgJ1NldCcpLFxuICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdXZWFrTWFwJyksXG4gICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuICAgIC8qKiBVc2VkIHRvIHN0b3JlIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCB1bm1pbmlmaWVkIGZ1bmN0aW9uIG5hbWVzLiAqL1xuICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG4gICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gICAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBpbXBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcbiAgICAgKiBhbmQgZnVuY3Rpb25zIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLiBNZXRob2RzIHRoYXQgcmV0cmlldmUgYSBzaW5nbGUgdmFsdWVcbiAgICAgKiBvciBtYXkgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlIHdpbGwgYXV0b21hdGljYWxseSBlbmQgdGhlIGNoYWluIHNlcXVlbmNlXG4gICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG4gICAgICogZW5hYmxlZCB1c2luZyBgXy5jaGFpbmAuXG4gICAgICpcbiAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG4gICAgICogYF8jdmFsdWVgIGlzIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cbiAgICAgKiBTaG9ydGN1dCBmdXNpb24gaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1lcmdlIGl0ZXJhdGVlIGNhbGxzOyB0aGlzIGF2b2lkc1xuICAgICAqIHRoZSBjcmVhdGlvbiBvZiBpbnRlcm1lZGlhdGUgYXJyYXlzIGFuZCBjYW4gZ3JlYXRseSByZWR1Y2UgdGhlIG51bWJlciBvZlxuICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaWYgdGhlIHNlY3Rpb24gaXMgYXBwbGllZCB0byBhbiBhcnJheSBhbmQgaXRlcmF0ZWVzIGFjY2VwdCBvbmx5XG4gICAgICogb25lIGFyZ3VtZW50LiBUaGUgaGV1cmlzdGljIGZvciB3aGV0aGVyIGEgc2VjdGlvbiBxdWFsaWZpZXMgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYF8jdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gbG9kYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGhhdmUgYEFycmF5YCBhbmQgYFN0cmluZ2AgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBBcnJheWAgbWV0aG9kcyBhcmU6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHNoaWZ0YCwgYHNvcnRgLCBgc3BsaWNlYCwgYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYFN0cmluZ2AgbWV0aG9kcyBhcmU6XG4gICAgICogYHJlcGxhY2VgIGFuZCBgc3BsaXRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24gYXJlOlxuICAgICAqIGBhdGAsIGBjb21wYWN0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGRyb3BXaGlsZWAsIGBmaWx0ZXJgLCBgZmluZGAsXG4gICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG4gICAgICogYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLCBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYW5kIGB0b0FycmF5YFxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhcnlgLCBgYXNzaWduYCwgYGFzc2lnbkluYCwgYGFzc2lnbkluV2l0aGAsIGBhc3NpZ25XaXRoYCwgYGF0YCxcbiAgICAgKiBgYmVmb3JlYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNhc3RBcnJheWAsIGBjaGFpbmAsIGBjaHVua2AsXG4gICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG4gICAgICogYGN1cnJ5YCwgYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBkZWZlcmAsIGBkZWxheWAsXG4gICAgICogYGRpZmZlcmVuY2VgLCBgZGlmZmVyZW5jZUJ5YCwgYGRpZmZlcmVuY2VXaXRoYCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCxcbiAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcbiAgICAgKiBgZmxhdE1hcGAsIGBmbGF0TWFwRGVlcGAsIGBmbGF0TWFwRGVwdGhgLCBgZmxhdHRlbmAsIGBmbGF0dGVuRGVlcGAsXG4gICAgICogYGZsYXR0ZW5EZXB0aGAsIGBmbGlwYCwgYGZsb3dgLCBgZmxvd1JpZ2h0YCwgYGZyb21QYWlyc2AsIGBmdW5jdGlvbnNgLFxuICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcbiAgICAgKiBgaW50ZXJzZWN0aW9uV2l0aGAsIGBpbnZlcnRgLCBgaW52ZXJ0QnlgLCBgaW52b2tlTWFwYCwgYGl0ZXJhdGVlYCwgYGtleUJ5YCxcbiAgICAgKiBga2V5c2AsIGBrZXlzSW5gLCBgbWFwYCwgYG1hcEtleXNgLCBgbWFwVmFsdWVzYCwgYG1hdGNoZXNgLCBgbWF0Y2hlc1Byb3BlcnR5YCxcbiAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG4gICAgICogYG50aEFyZ2AsIGBvbWl0YCwgYG9taXRCeWAsIGBvbmNlYCwgYG9yZGVyQnlgLCBgb3ZlcmAsIGBvdmVyQXJnc2AsXG4gICAgICogYG92ZXJFdmVyeWAsIGBvdmVyU29tZWAsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwYXJ0aXRpb25gLCBgcGlja2AsXG4gICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuICAgICAqIGBwdWxsQWxsV2l0aGAsIGBwdWxsQXRgLCBgcHVzaGAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlYXJnYCwgYHJlamVjdGAsXG4gICAgICogYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2FtcGxlU2l6ZWAsIGBzZXRgLCBgc2V0V2l0aGAsIGBzaHVmZmxlYCxcbiAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aHJ1YCwgYHRvQXJyYXlgLFxuICAgICAqIGB0b1BhaXJzYCwgYHRvUGFpcnNJbmAsIGB0b1BhdGhgLCBgdG9QbGFpbk9iamVjdGAsIGB0cmFuc2Zvcm1gLCBgdW5hcnlgLFxuICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG4gICAgICogYHVuc2hpZnRgLCBgdW56aXBgLCBgdW56aXBXaXRoYCwgYHVwZGF0ZWAsIGB1cGRhdGVXaXRoYCwgYHZhbHVlc2AsXG4gICAgICogYHZhbHVlc0luYCwgYHdpdGhvdXRgLCBgd3JhcGAsIGB4b3JgLCBgeG9yQnlgLCBgeG9yV2l0aGAsIGB6aXBgLFxuICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBhcmUgKipub3QqKiBjaGFpbmFibGUgYnkgZGVmYXVsdCBhcmU6XG4gICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuICAgICAqIGBjbG9uZURlZXBgLCBgY2xvbmVEZWVwV2l0aGAsIGBjbG9uZVdpdGhgLCBgY29uZm9ybXNUb2AsIGBkZWJ1cnJgLFxuICAgICAqIGBkZWZhdWx0VG9gLCBgZGl2aWRlYCwgYGVhY2hgLCBgZWFjaFJpZ2h0YCwgYGVuZHNXaXRoYCwgYGVxYCwgYGVzY2FwZWAsXG4gICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcbiAgICAgKiBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBmaXJzdGAsIGBmbG9vcmAsIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsXG4gICAgICogYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCwgYGdldGAsIGBndGAsIGBndGVgLCBgaGFzYCxcbiAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcbiAgICAgKiBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0FycmF5QnVmZmVyYCwgYGlzQXJyYXlMaWtlYCwgYGlzQXJyYXlMaWtlT2JqZWN0YCxcbiAgICAgKiBgaXNCb29sZWFuYCwgYGlzQnVmZmVyYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLCBgaXNFbXB0eWAsIGBpc0VxdWFsYCxcbiAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG4gICAgICogYGlzTWFwYCwgYGlzTWF0Y2hgLCBgaXNNYXRjaFdpdGhgLCBgaXNOYU5gLCBgaXNOYXRpdmVgLCBgaXNOaWxgLCBgaXNOdWxsYCxcbiAgICAgKiBgaXNOdW1iZXJgLCBgaXNPYmplY3RgLCBgaXNPYmplY3RMaWtlYCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLFxuICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG4gICAgICogYGlzV2Vha01hcGAsIGBpc1dlYWtTZXRgLCBgam9pbmAsIGBrZWJhYkNhc2VgLCBgbGFzdGAsIGBsYXN0SW5kZXhPZmAsXG4gICAgICogYGxvd2VyQ2FzZWAsIGBsb3dlckZpcnN0YCwgYGx0YCwgYGx0ZWAsIGBtYXhgLCBgbWF4QnlgLCBgbWVhbmAsIGBtZWFuQnlgLFxuICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcbiAgICAgKiBgcGFkRW5kYCwgYHBhZFN0YXJ0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCwgYHJlZHVjZVJpZ2h0YCxcbiAgICAgKiBgcmVwZWF0YCwgYHJlc3VsdGAsIGByb3VuZGAsIGBydW5JbkNvbnRleHRgLCBgc2FtcGxlYCwgYHNoaWZ0YCwgYHNpemVgLFxuICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG4gICAgICogYHNvcnRlZExhc3RJbmRleEJ5YCwgYHN0YXJ0Q2FzZWAsIGBzdGFydHNXaXRoYCwgYHN0dWJBcnJheWAsIGBzdHViRmFsc2VgLFxuICAgICAqIGBzdHViT2JqZWN0YCwgYHN0dWJTdHJpbmdgLCBgc3R1YlRydWVgLCBgc3VidHJhY3RgLCBgc3VtYCwgYHN1bUJ5YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG4gICAgICogYHRvTG93ZXJgLCBgdG9OdW1iZXJgLCBgdG9TYWZlSW50ZWdlcmAsIGB0b1N0cmluZ2AsIGB0b1VwcGVyYCwgYHRyaW1gLFxuICAgICAqIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGB0cnVuY2F0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGB1cHBlckNhc2VgLFxuICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoXy5hZGQpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoc3F1YXJlKTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlckNsb25lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aG9zZSBwcm90b3R5cGUgY2hhaW4gc2VxdWVuY2Ugd3JhcHBlcnMgaW5oZXJpdCBmcm9tLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgbG9kYXNoIGFyZSBsaWtlIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG4gICAgICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogcmVFdmFsdWF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuc3VyZSB3cmFwcGVycyBhcmUgaW5zdGFuY2VzIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGxvZGFzaDtcblxuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2Rhc2hXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fZGlyX18gPSAxO1xuICAgICAgdGhpcy5fX2ZpbHRlcmVkX18gPSBmYWxzZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlZXNfXyA9IFtdO1xuICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcbiAgICAgIHRoaXMuX192aWV3c19fID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBsYXp5IHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMuX193cmFwcGVkX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG4gICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdGhpcy5fX2ZpbHRlcmVkX187XG4gICAgICByZXN1bHQuX19pdGVyYXRlZXNfXyA9IGNvcHlBcnJheSh0aGlzLl9faXRlcmF0ZWVzX18pO1xuICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG4gICAgICByZXN1bHQuX192aWV3c19fID0gY29weUFycmF5KHRoaXMuX192aWV3c19fKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyByZXZlcnNlZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5UmV2ZXJzZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fZmlsdGVyZWRfXykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyA9IC0xO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gKj0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB1bndyYXBwZWQgdmFsdWUgZnJvbSBpdHMgbGF6eSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLFxuICAgICAgICAgIGRpciA9IHRoaXMuX19kaXJfXyxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuICAgICAgICAgIGlzUmlnaHQgPSBkaXIgPCAwLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGlzQXJyID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcbiAgICAgICAgICBzdGFydCA9IHZpZXcuc3RhcnQsXG4gICAgICAgICAgZW5kID0gdmlldy5lbmQsXG4gICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG4gICAgICAgICAgaW5kZXggPSBpc1JpZ2h0ID8gZW5kIDogKHN0YXJ0IC0gMSksXG4gICAgICAgICAgaXRlcmF0ZWVzID0gdGhpcy5fX2l0ZXJhdGVlc19fLFxuICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICB0YWtlQ291bnQgPSBuYXRpdmVNaW4obGVuZ3RoLCB0aGlzLl9fdGFrZUNvdW50X18pO1xuXG4gICAgICBpZiAoIWlzQXJyIHx8ICghaXNSaWdodCAmJiBhcnJMZW5ndGggPT0gbGVuZ3RoICYmIHRha2VDb3VudCA9PSBsZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKGFycmF5LCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAobGVuZ3RoLS0gJiYgcmVzSW5kZXggPCB0YWtlQ291bnQpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuXG4gICAgICAgIHZhciBpdGVySW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIHdoaWxlICgrK2l0ZXJJbmRleCA8IGl0ZXJMZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGl0ZXJhdGVlc1tpdGVySW5kZXhdLFxuICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG4gICAgICAgICAgICAgIHR5cGUgPSBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9NQVBfRkxBRykge1xuICAgICAgICAgICAgdmFsdWUgPSBjb21wdXRlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRykge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGBMYXp5V3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGJhc2VMb2Rhc2hgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgICAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gICAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuICAgIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gICAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgLS10aGlzLnNpemU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgKyt0aGlzLnNpemU7XG4gICAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgYWRkXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQGFsaWFzIHB1c2hcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgICB9XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICAgKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2Jhc2VSYW5kb20oMCwgbGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVTaXplYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAgICAgKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFnZ3JlZ2F0ZXMgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIG9uIGBhY2N1bXVsYXRvcmAgd2l0aCBrZXlzIHRyYW5zZm9ybWVkXG4gICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICAgICAqIHZhbHVlIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICBza2lwID0gb2JqZWN0ID09IG51bGw7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBza2lwID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAgICogdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIERlZXAgY2xvbmVcbiAgICAgKiAgMiAtIEZsYXR0ZW4gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuICAgICAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICAgICAgaXNGdWxsID0gYml0bWFzayAmIENMT05FX1NZTUJPTFNfRkxBRztcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRmxhdFxuICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZDtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZChiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN1YlZhbHVlLCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5udGhgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU50aChhcnJheSwgbikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG4gKz0gbiA8IDAgPyBsZW5ndGggOiAwO1xuICAgICAgcmV0dXJuIGlzSW5kZXgobiwgbGVuZ3RoKSA/IGFycmF5W25dIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm9yZGVyQnlgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBpdGVyYXRlZXMgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG9yZGVycyBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKSB7XG4gICAgICBpZiAoaXRlcmF0ZWVzLmxlbmd0aCkge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoaXRlcmF0ZWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2VHZXQodmFsdWUsIGl0ZXJhdGVlLmxlbmd0aCA9PT0gMSA/IGl0ZXJhdGVlWzBdIDogaXRlcmF0ZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2lkZW50aXR5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycgfHwga2V5ID09PSAnY29uc3RydWN0b3InIHx8IGtleSA9PT0gJ3Byb3RvdHlwZScpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGhpZ2ggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgdmFyIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbiAmJiBuYXRpdmVJc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG4gICAgICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgICAgICByZXR1cm4gKyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdIC0gcHJlY2lzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvYmplY3Qgb2YgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFkZCB0byB0aGUgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZVNldCA9ICEoU2V0ICYmICgxIC8gc2V0VG9BcnJheShuZXcgU2V0KFssLTBdKSlbMV0pID09IElORklOSVRZKSA/IG5vb3AgOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy50b1BhaXJzYCBvciBgXy50b1BhaXJzSW5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhaXJzIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvUGFpcnMoa2V5c0Z1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuICAgICAgICBpZiAodGFnID09IG1hcFRhZykge1xuICAgICAgICAgIHJldHVybiBtYXBUb0FycmF5KG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9QYWlycyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVG9QYWlycyhvYmplY3QsIGtleXNGdW5jKG9iamVjdCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG4gICAgICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogICAgMSAtIGBfLmJpbmRgXG4gICAgICogICAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogICAgNCAtIGBfLmN1cnJ5YCBvciBgXy5jdXJyeVJpZ2h0YCBvZiBhIGJvdW5kIGZ1bmN0aW9uXG4gICAgICogICAgOCAtIGBfLmN1cnJ5YFxuICAgICAqICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuICAgICAqICAgMzIgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogIDEyOCAtIGBfLnJlYXJnYFxuICAgICAqICAyNTYgLSBgXy5hcnlgXG4gICAgICogIDUxMiAtIGBfLmZsaXBgXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJ5ID0gYXJ5ID09PSB1bmRlZmluZWQgPyBhcnkgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKGFyeSksIDApO1xuICAgICAgYXJpdHkgPSBhcml0eSA9PT0gdW5kZWZpbmVkID8gYXJpdHkgOiB0b0ludGVnZXIoYXJpdHkpO1xuICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmIChiaXRtYXNrICYgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcbiAgICAgICAgICAgIGhvbGRlcnNSaWdodCA9IGhvbGRlcnM7XG5cbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBnZXREYXRhKGZ1bmMpO1xuXG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCxcbiAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBtZXJnZURhdGEobmV3RGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBmdW5jID0gbmV3RGF0YVswXTtcbiAgICAgIGJpdG1hc2sgPSBuZXdEYXRhWzFdO1xuICAgICAgdGhpc0FyZyA9IG5ld0RhdGFbMl07XG4gICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG4gICAgICBob2xkZXJzID0gbmV3RGF0YVs0XTtcbiAgICAgIGFyaXR5ID0gbmV3RGF0YVs5XSA9IG5ld0RhdGFbOV0gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgICAgIDogbmF0aXZlTWF4KG5ld0RhdGFbOV0gLSBsZW5ndGgsIDApO1xuXG4gICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKTtcbiAgICAgIH1cbiAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpO1xuICAgICAgfSBlbHNlIGlmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRyB8fCBiaXRtYXNrID09IFdSQVBfQ1VSUllfUklHSFRfRkxBRykge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG4gICAgICB9IGVsc2UgaWYgKChiaXRtYXNrID09IFdSQVBfUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKFdSQVBfQklORF9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcpKSAmJiAhaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVIeWJyaWQuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhzZXR0ZXIocmVzdWx0LCBuZXdEYXRhKSwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c2AgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25JbmAgdXNlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzXG4gICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAgICAgKiB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzRGVlcGAgdG8gY3VzdG9taXplIGl0cyBgXy5tZXJnZWAgdXNlIHRvIG1lcmdlIHNvdXJjZVxuICAgICAqIG9iamVjdHMgaW50byBkZXN0aW5hdGlvbiBvYmplY3RzIHRoYXQgYXJlIHBhc3NlZCB0aHJ1LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgb2JqVmFsdWUpO1xuICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9taXRgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uY2xvbmVEZWVwYCB1c2UgdG8gb25seSBjbG9uZSBwbGFpblxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bmNsb25lZCB2YWx1ZSBvciBgdW5kZWZpbmVkYCB0byBkZWZlciBjbG9uaW5nIHRvIGBfLmNsb25lRGVlcGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gICAgICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgYXJyU3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAoYXJyU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBhcnJTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gYXJyYXk7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gICAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICAgICAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgICAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgb2JqU3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKG9ialN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gb2JqU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gQ29tYmluaW5nIHNldmVyYWwgcHJlZGljYXRlcyB1c2luZyBgXy5vdmVyRXZlcnlgIG9yIGBfLm92ZXJTb21lYC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5vdmVyU29tZShbeyAnYWdlJzogMzYgfSwgWydhZ2UnLCA0MF1dKSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqL1xuICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuICAgICAqIHRocnUgYGl0ZXJhdGVlYCBhbmQgZmxhdHRlbmluZyB0aGUgbWFwcGVkIHJlc3VsdHMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbbiwgbl07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlZXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZWVwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcbiAgICAgKiAvLyA9PiBbWzEsIDFdLCBbMiwgMl1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzZSBgXy5mb3JJbmBcbiAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaFJpZ2h0KFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAyYCB0aGVuIGAxYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaFJpZ2h0IDogYmFzZUVhY2hSaWdodDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBvcmRlciBvZiBncm91cGVkIHZhbHVlc1xuICAgICAqIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gYGNvbGxlY3Rpb25gLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuICAgICAqIGtleS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjNdIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgW3ZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiBgY29sbGVjdGlvbmAuIElmIGBjb2xsZWN0aW9uYCBpcyBhIHN0cmluZywgaXQnc1xuICAgICAqIGNoZWNrZWQgZm9yIGEgc3Vic3RyaW5nIG9mIGB2YWx1ZWAsIG90aGVyd2lzZVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogaXMgdXNlZCBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXNcbiAgICAgKiB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4ICYmICFndWFyZCkgPyB0b0ludGVnZXIoZnJvbUluZGV4KSA6IDA7XG5cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pXG4gICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG4gICAgICAgIDogKCEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogYXJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBwYXRoYCBpcyBhIGZ1bmN0aW9uLCBpdCdzIGludm9rZWRcbiAgICAgKiBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGVhY2ggbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCBmdW5jdGlvbihvKSB7XG4gICAgICogICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShvLmNvZGUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXJ5YCwgYGNodW5rYCwgYGN1cnJ5YCwgYGN1cnJ5UmlnaHRgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZXZlcnlgLFxuICAgICAqIGBmaWxsYCwgYGludmVydGAsIGBwYXJzZUludGAsIGByYW5kb21gLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZXBlYXRgLFxuICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdHJpbWAsIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5tYXAoWzQsIDhdLCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdhJzogNCwgJ2InOiA4IH0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JyB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCAndXNlcicpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRCeWAgZXhjZXB0IHRoYXQgaXQgYWxsb3dzIHNwZWNpZnlpbmcgdGhlIHNvcnRcbiAgICAgKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG4gICAgICogZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlciBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcmRlcnNdIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBTb3J0IGJ5IGB1c2VyYCBpbiBhc2NlbmRpbmcgb3JkZXIgYW5kIGJ5IGBhZ2VgIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gaXRlcmF0ZWVzID09IG51bGwgPyBbXSA6IFtpdGVyYXRlZXNdO1xuICAgICAgfVxuICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG4gICAgICBpZiAoIWlzQXJyYXkob3JkZXJzKSkge1xuICAgICAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byB0d28gZ3JvdXBzLCB0aGUgZmlyc3Qgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleSBmb3IuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsICdwZWJibGVzJ10sIFsnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKi9cbiAgICB2YXIgcGFydGl0aW9uID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXkgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLiBJZiBgYWNjdW11bGF0b3JgXG4gICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuICAgICAqIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOlxuICAgICAqIChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5yZWR1Y2VgLCBgXy5yZWR1Y2VSaWdodGAsIGFuZCBgXy50cmFuc2Zvcm1gLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFzc2lnbmAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgb3JkZXJCeWAsXG4gICAgICogYW5kIGBzb3J0QnlgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZShbMSwgMl0sIGZ1bmN0aW9uKHN1bSwgbikge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG47XG4gICAgICogfSwgMCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZSA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICpcbiAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG4gICAgICogICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChvdGhlcik7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmA7IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqIHRoYXQgYHByZWRpY2F0ZWAgZG9lcyAqKm5vdCoqIHJldHVybiB0cnV0aHkgZm9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5maWx0ZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5yZWplY3QodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGBuYCByYW5kb20gZWxlbWVudHMgYXQgdW5pcXVlIGtleXMgZnJvbSBgY29sbGVjdGlvbmAgdXAgdG8gdGhlXG4gICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTaHVmZmxlIDogYmFzZVNodWZmbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgaXRzIGxlbmd0aCBmb3IgYXJyYXktbGlrZVxuICAgICAqIHZhbHVlcyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gc3RyaW5nU2l6ZShjb2xsZWN0aW9uKSA6IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyhjb2xsZWN0aW9uKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlS2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICAgICAqIGVxdWFsIGVsZW1lbnRzLiBUaGUgaXRlcmF0ZWVzIGFyZSBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDMwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCAzMF1dXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCAzMF0sIFsnZnJlZCcsIDQ4XV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgICAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IERhdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gICAgICogfSwgXy5ub3coKSk7XG4gICAgICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgbm93ID0gY3R4Tm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmJlZm9yZWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnZG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdkb25lIHNhdmluZyEnIGFmdGVyIHRoZSB0d28gYXN5bmMgc2F2ZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHVwIHRvIGBuYCBhcmd1bWVudHMsXG4gICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgY2FwLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcbiAgICAgIG4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IG47XG4gICAgICBuID0gKGZ1bmMgJiYgbiA9PSBudWxsKSA/IGZ1bmMubGVuZ3RoIDogbjtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHNcbiAgICAgKiBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hpbGUgaXQncyBjYWxsZWQgbGVzcyB0aGFuIGBuYCB0aW1lcy4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uYmVmb3JlKDUsIGFkZENvbnRhY3RUb0xpc3QpKTtcbiAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmVmb3JlKG4sIGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uID4gMCkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgICAgZnVuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgbmF0aXZlIGBGdW5jdGlvbiNiaW5kYCwgdGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gIHdpdGggYHBhcnRpYWxzYFxuICAgICAqIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0byByZWZlcmVuY2VcbiAgICAgKiBtZXRob2RzIHRoYXQgbWF5IGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuIFNlZVxuICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52b2tlIHRoZSBtZXRob2Qgb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAndXNlcic6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIG9mIGBmdW5jYCBhbmQgZWl0aGVyIGludm9rZXNcbiAgICAgKiBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGF0IGxlYXN0IGBhcml0eWAgbnVtYmVyIG9mIGFyZ3VtZW50cyBoYXZlXG4gICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuICAgICAqIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIG1heSBiZSBzcGVjaWZpZWQgaWYgYGZ1bmMubGVuZ3RoYFxuICAgICAqIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMSkoXywgMykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jdXJyeWAgZXhjZXB0IHRoYXQgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIGBmdW5jYFxuICAgICAqIGluIHRoZSBtYW5uZXIgb2YgYF8ucGFydGlhbFJpZ2h0YCBpbnN0ZWFkIG9mIGBfLnBhcnRpYWxgLlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5UmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnlSaWdodChhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgzKSgyKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMiwgMykoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDMpKDEsIF8pKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5UmlnaHQoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeVJpZ2h0LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAgICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gICAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgICAqIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgICAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKlxuICAgICAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gICAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICAgIGxhc3RUaGlzLFxuICAgICAgICAgIG1heFdhaXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHRpbWVySWQsXG4gICAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgICByZXR1cm4gbWF4aW5nXG4gICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgICAgIDogdGltZVdhaXRpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBpbnZva2luZyB0aGUgYGZ1bmNgIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuIEFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyA9PiBMb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG1pbGxpc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWZlciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgMSwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBMb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIHRvTnVtYmVyKHdhaXQpIHx8IDAsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgcmV2ZXJzZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBmbGlwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG4gICAgICogICByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmbGlwcGVkKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gWydkJywgJ2MnLCAnYicsICdhJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGlwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfRkxJUF9GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAgICAgKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICAgICAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICAgICAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAgICAgKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICAgICAqXG4gICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YWx1ZXMob3RoZXIpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqXG4gICAgICogb2JqZWN0LmEgPSAyO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKlxuICAgICAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gICAgICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cbiAgICBtZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBuZWdhdGVzIHRoZSByZXN1bHQgb2YgdGhlIHByZWRpY2F0ZSBgZnVuY2AuIFRoZVxuICAgICAqIGBmdW5jYCBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbmVnYXRlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNFdmVuKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgXy5uZWdhdGUoaXNFdmVuKSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGludm9raW5nIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHNcbiAgICAgKiB0byB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgaW52b2NhdGlvbi4gVGhlIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vID0+IGBjcmVhdGVBcHBsaWNhdGlvbmAgaXMgaW52b2tlZCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmVmb3JlKDIsIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50cyB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGFyZ3VtZW50IHRyYW5zZm9ybXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGRvdWJsZWQobikge1xuICAgICAqICAgcmV0dXJuIG4gKiAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJBcmdzKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiBbeCwgeV07XG4gICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuICAgICAqXG4gICAgICogZnVuYyg5LCAzKTtcbiAgICAgKiAvLyA9PiBbODEsIDZdXG4gICAgICpcbiAgICAgKiBmdW5jKDEwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTAwLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgb3ZlckFyZ3MgPSBjYXN0UmVzdChmdW5jdGlvbihmdW5jLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcbiAgICAgICAgPyBhcnJheU1hcCh0cmFuc2Zvcm1zWzBdLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpXG4gICAgICAgIDogYXJyYXlNYXAoYmFzZUZsYXR0ZW4odHJhbnNmb3JtcywgMSksIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciBmdW5jc0xlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oYXJncy5sZW5ndGgsIGZ1bmNzTGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gdHJhbnNmb3Jtc1tpbmRleF0uY2FsbCh0aGlzLCBhcmdzW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG4gICAgICogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWwoZ3JlZXQsICdoZWxsbycpO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsKSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50c1xuICAgICAqIGFyZSBhcHBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWxSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2hlbGxvJywgXyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsUmlnaHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgYXJyYW5nZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBzZWNvbmQgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZWFycmFuZ2UgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhcmdlZCA9IF8ucmVhcmcoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9LCBbMiwgMCwgMV0pO1xuICAgICAqXG4gICAgICogcmVhcmdlZCgnYicsICdjJywgJ2EnKVxuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIHZhciByZWFyZyA9IGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmMsIGluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXNcbiAgICAgKiBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8ucmVzdChmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICAgICAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlIGZ1bmN0aW9uIGFuZCBhbiBhcnJheSBvZiBhcmd1bWVudHMgbXVjaCBsaWtlXG4gICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHNwcmVhZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8uc3ByZWFkKGZ1bmN0aW9uKHdobywgd2hhdCkge1xuICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQgc2F5cyBoZWxsbydcbiAgICAgKlxuICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDQwKSxcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSgzNilcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIG51bWJlcnMudGhlbihfLnNwcmVhZChmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4geCArIHk7XG4gICAgICogfSkpO1xuICAgICAqIC8vID0+IGEgUHJvbWlzZSBvZiA3NlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwcmVhZChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IG5hdGl2ZU1heCh0b0ludGVnZXIoc3RhcnQpLCAwKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3Nbc3RhcnRdLFxuICAgICAgICAgICAgb3RoZXJBcmdzID0gY2FzdFNsaWNlKGFyZ3MsIDAsIHN0YXJ0KTtcblxuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBhcnJheVB1c2gob3RoZXJBcmdzLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gICAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICAgKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gICAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgICAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIG9uZSBhcmd1bWVudCwgaWdub3JpbmcgYW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8udW5hcnkocGFyc2VJbnQpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5hcnkoZnVuYykge1xuICAgICAgcmV0dXJuIGFyeShmdW5jLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYHdyYXBwZXJgLiBUaGUgd3JhcHBlciBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt3cmFwcGVyPWlkZW50aXR5XSBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5mcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBwYXJ0aWFsKGNhc3RGdW5jdGlvbih3cmFwcGVyKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgYXMgYW4gYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoMSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbbnVsbF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlXG4gICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcbiAgICAgKiBhbmQgc3VwcG9ydHMgY2xvbmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLCBkYXRlIG9iamVjdHMsIG1hcHMsXG4gICAgICogbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcywgc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkXG4gICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcbiAgICAgKiBhcyBwbGFpbiBvYmplY3RzLiBBbiBlbXB0eSBvYmplY3QgaXMgcmV0dXJuZWQgZm9yIHVuY2xvbmVhYmxlIHZhbHVlcyBzdWNoXG4gICAgICogYXMgZXJyb3Igb2JqZWN0cywgZnVuY3Rpb25zLCBET00gbm9kZXMsIGFuZCBXZWFrTWFwcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKHNoYWxsb3dbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiBjbG9uaW5nIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lV2l0aGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVEZWVwV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXBXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgb2JqZWN0YCBjb25mb3JtcyB0byBgc291cmNlYCBieSBpbnZva2luZyB0aGUgcHJlZGljYXRlXG4gICAgICogcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2UgPT0gbnVsbCB8fCBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5ndCgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheUJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheUJ1ZmZlciA9IG5vZGVJc0FycmF5QnVmZmVyID8gYmFzZVVuYXJ5KG5vZGVJc0FycmF5QnVmZmVyKSA6IGJhc2VJc0FycmF5QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICAgICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAgICogaXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGJvb2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBEYXRlYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKCdNb24gQXByaWwgMjMgMjAxMicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzRGF0ZSA9IG5vZGVJc0RhdGUgPyBiYXNlVW5hcnkobm9kZUlzRGF0ZSkgOiBiYXNlSXNEYXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAgICAgKlxuICAgICAqIE9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIG5vIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBBcnJheS1saWtlIHZhbHVlcyBzdWNoIGFzIGBhcmd1bWVudHNgIG9iamVjdHMsIGFycmF5cywgYnVmZmVycywgc3RyaW5ncywgb3JcbiAgICAgKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkodHJ1ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgaXNCdWZmZXIodmFsdWUpIHx8IGlzVHlwZWRBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICAgICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAgICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogb2JqZWN0ID09PSBvdGhlcjtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzRXF1YWxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuICAgICAqIHNpeCBhcmd1bWVudHM6IChvYmpWYWx1ZSwgb3RoVmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIG90aGVyLCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsV2l0aChhcnJheSwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsV2l0aCh2YWx1ZSwgb3RoZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyID8gY3VzdG9taXplcih2YWx1ZSwgb3RoZXIpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCB1bmRlZmluZWQsIGN1c3RvbWl6ZXIpIDogISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcbiAgICAgKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IoRXJyb3IpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAgICAgKiBkZXRlcm1pbmUgaWYgYG9iamVjdGAgY29udGFpbnMgZXF1aXZhbGVudCBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc01hdGNoYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggZml2ZVxuICAgICAqIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwgaW5kZXh8a2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcoc3JjVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcbiAgICAgKiB2YXIgc291cmNlID0geyAnZ3JlZXRpbmcnOiAnaGknIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcbiAgICAgKiBnbG9iYWwgW2Bpc05hTmBdKGh0dHBzOi8vbWRuLmlvL2lzTmFOKSB3aGljaCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gQW4gYE5hTmAgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZi5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGB0b1N0cmluZ1RhZ2AgY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZVxuICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcmlzdGluZSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgY2FuJ3QgcmVsaWFibHkgZGV0ZWN0IG5hdGl2ZSBmdW5jdGlvbnMgaW4gdGhlIHByZXNlbmNlXG4gICAgICogb2YgdGhlIGNvcmUtanMgcGFja2FnZSBiZWNhdXNlIGNvcmUtanMgY2lyY3VtdmVudHMgdGhpcyBraW5kIG9mIGRldGVjdGlvbi5cbiAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcbiAgICAgKiBhdHRlbXB0IHRvIGZpeCB0aGUgZGV0ZWN0aW9uIHdpbGwgYmUgb2JzdHJ1Y3RlZC4gQXMgYSByZXN1bHQsIHdlJ3JlIGxlZnRcbiAgICAgKiB3aXRoIGxpdHRsZSBjaG9pY2UgYnV0IHRvIHRocm93IGFuIGVycm9yLiBVbmZvcnR1bmF0ZWx5LCB0aGlzIGFsc28gYWZmZWN0c1xuICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuICAgICAqIHdoaWNoIHJlbHkgb24gY29yZS1qcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShfKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNNYXNrYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKENPUkVfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBleGNsdWRlIGBJbmZpbml0eWAsIGAtSW5maW5pdHlgLCBhbmQgYE5hTmAsIHdoaWNoIGFyZVxuICAgICAqIGNsYXNzaWZpZWQgYXMgbnVtYmVycywgdXNlIHRoZSBgXy5pc0Zpbml0ZWAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gbnVtYmVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gICAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuOC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBSZWdFeHBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG4gICAgICogZG91YmxlIHByZWNpc2lvbiBudW1iZXIgd2hpY2ggaXNuJ3QgdGhlIHJlc3VsdCBvZiBhIHJvdW5kZWQgdW5zYWZlIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc1NhZmVJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzU2FmZUludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1NldCA9IG5vZGVJc1NldCA/IGJhc2VVbmFyeShub2RlSXNTZXQpIDogYmFzZUlzU2V0O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gd2Vha01hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHdlYWtTZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0KDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDw9IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KDEpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW1JdGVyYXRvciAmJiB2YWx1ZVtzeW1JdGVyYXRvcl0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlciBzdWl0YWJsZSBmb3IgdXNlIGFzIHRoZSBsZW5ndGggb2YgYW5cbiAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDQyOTQ5NjcyOTVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIDAsIE1BWF9BUlJBWV9MRU5HVEgpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b051bWJlcigzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IEluZmluaXR5XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgICAqIC8vID0+ICdkZWphIHZ1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249c3RyaW5nLmxlbmd0aF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGVuZ3RoXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICAgICAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gICAgICogdW5sZXNzIHRoZXkncmUgcGFydCBvZiBhIHRhZyBvciB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuIFNlZVxuICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAgICAgKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAgICAgKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICAgICAqIFhTUyB2ZWN0b3JzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNVbmVzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlUmVnRXhwKCdbbG9kYXNoXShodHRwczovL2xvZGFzaC5jb20vKScpO1xuICAgICAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKi9cbiAgICB2YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGcmVkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnZlJFRCdcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9Mb3dlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgpO1xuICAgICAqIC8vID0+ICcgIGFiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1hYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc3RyTGVuZ3RoID49IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG1pZCA9IChsZW5ndGggLSBzdHJMZW5ndGgpIC8gMjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlRmxvb3IobWlkKSwgY2hhcnMpICtcbiAgICAgICAgc3RyaW5nICtcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSByaWdodCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJyAgIGFiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdfLV9hYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LiBJZiBgcmFkaXhgIGlzXG4gICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcbiAgICAgKiBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuICAgICAqIFtFUzUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi4yKSBvZiBgcGFyc2VJbnRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXg9MTBdIFRoZSByYWRpeCB0byBpbnRlcnByZXQgYHZhbHVlYCBieS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICcwOCcsICcxMCddLCBfLnBhcnNlSW50KTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCwgZ3VhcmQpIHtcbiAgICAgIGlmIChndWFyZCB8fCByYWRpeCA9PSBudWxsKSB7XG4gICAgICAgIHJhZGl4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocmFkaXgpIHtcbiAgICAgICAgcmFkaXggPSArcmFkaXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQodG9TdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyksIHJhZGl4IHx8IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGVhdHMgdGhlIGdpdmVuIHN0cmluZyBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnKicsIDMpO1xuICAgICAqIC8vID0+ICcqKionXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMik7XG4gICAgICogLy8gPT4gJ2FiY2FiYydcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAwKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmVwZWF0KHRvU3RyaW5nKHN0cmluZyksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gcmVwbGFjZW1lbnQgVGhlIG1hdGNoIHJlcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG4gICAgICogLy8gPT4gJ0hpIEJhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoYXJnc1swXSk7XG5cbiAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA8IDMgPyBzdHJpbmcgOiBzdHJpbmcucmVwbGFjZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNuYWtlIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCctLUZPTy1CQVItLScpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqL1xuICAgIHZhciBzbmFrZUNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBzZXBhcmF0b3IgVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHNwbGl0IGJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGltaXRdIFRoZSBsZW5ndGggdG8gdHJ1bmNhdGUgcmVzdWx0cyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIGlmIChsaW1pdCAmJiB0eXBlb2YgbGltaXQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9BUlJBWV9MRU5HVEggOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmICghbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKFxuICAgICAgICAgICAgdHlwZW9mIHNlcGFyYXRvciA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKHNlcGFyYXRvciAhPSBudWxsICYmICFpc1JlZ0V4cChzZXBhcmF0b3IpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gYmFzZVRvU3RyaW5nKHNlcGFyYXRvcik7XG4gICAgICAgIGlmICghc2VwYXJhdG9yICYmIGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc3RhcnQgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3R5bGlzdGljX29yX3NwZWNpYWxpc2VkX3VzYWdlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgdXBwZXJGaXJzdCh3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj0wXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09IG51bGxcbiAgICAgICAgPyAwXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIHN0cmluZy5sZW5ndGgpO1xuXG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcbiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgdGFyZ2V0Lmxlbmd0aCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuICAgICAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICAgICAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAgICAgKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gICAgICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gICAgICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG4gICAgICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICAgICAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG4gICAgICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbbl0nXVxuICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gICAgICogIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZXhlY3V0ZSBKYXZhU2NyaXB0IGFuZCBnZW5lcmF0ZSBIVE1MLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIHVzZXIpOyAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyAkeyB1c2VyIH0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICdpZ25vcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgLlxuICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IEZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3IuXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqIC8vICAgcmV0dXJuIF9fcDtcbiAgICAgKiAvLyB9XG4gICAgICpcbiAgICAgKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlID0gL3t7KFtcXHNcXFNdKz8pfX0vZztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgICAgIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIChodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nLylcbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMsIHNldHRpbmdzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSBiYXNlVmFsdWVzKGltcG9ydHMsIGltcG9ydHNLZXlzKTtcblxuICAgICAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gQ29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyLlxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgLy8gVGhlIHNvdXJjZVVSTCBnZXRzIGluamVjdGVkIGludG8gdGhlIHNvdXJjZSB0aGF0J3MgZXZhbC1lZCwgc28gYmUgY2FyZWZ1bFxuICAgICAgLy8gdG8gbm9ybWFsaXplIGFsbCBraW5kcyBvZiB3aGl0ZXNwYWNlLCBzbyBlLmcuIG5ld2xpbmVzIChhbmQgdW5pY29kZSB2ZXJzaW9ucyBvZiBpdCkgY2FuJ3Qgc25lYWsgaW5cbiAgICAgIC8vIGFuZCBlc2NhcGUgdGhlIGNvbW1lbnQsIHRodXMgaW5qZWN0aW5nIGNvZGUgdGhhdCBnZXRzIGV2YWxlZC5cbiAgICAgIHZhciBzb3VyY2VVUkwgPSAnLy8jIHNvdXJjZVVSTD0nICtcbiAgICAgICAgKGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3NvdXJjZVVSTCcpXG4gICAgICAgICAgPyAob3B0aW9ucy5zb3VyY2VVUkwgKyAnJykucmVwbGFjZSgvXFxzL2csICcgJylcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgdmFyIHZhcmlhYmxlID0gaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAndmFyaWFibGUnKSAmJiBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIFRocm93IGFuIGVycm9yIGlmIGEgZm9yYmlkZGVuIGNoYXJhY3RlciB3YXMgZm91bmQgaW4gYHZhcmlhYmxlYCwgdG8gcHJldmVudFxuICAgICAgLy8gcG90ZW50aWFsIGNvbW1hbmQgaW5qZWN0aW9uIGF0dGFja3MuXG4gICAgICBlbHNlIGlmIChyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycy50ZXN0KHZhcmlhYmxlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gYmFzZVRyaW0oc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgY2hyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoY2hhcnMpLFxuICAgICAgICAgIHN0YXJ0ID0gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0LCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbUVuZCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICcgIGFiYydcbiAgICAgKlxuICAgICAqIF8udHJpbUVuZCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJy1fLWFiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltRW5kKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYyAgJ1xuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMtXy0nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbVN0YXJ0KHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIHN0YXJ0ID0gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1bmNhdGVzIGBzdHJpbmdgIGlmIGl0J3MgbG9uZ2VyIHRoYW4gdGhlIGdpdmVuIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBUaGUgbGFzdCBjaGFyYWN0ZXJzIG9mIHRoZSB0cnVuY2F0ZWQgc3RyaW5nIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBvbWlzc2lvblxuICAgICAqIHN0cmluZyB3aGljaCBkZWZhdWx0cyB0byBcIi4uLlwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRydW5jYXRlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5sZW5ndGg9MzBdIFRoZSBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9taXNzaW9uPScuLi4nXSBUaGUgc3RyaW5nIHRvIGluZGljYXRlIHRleHQgaXMgb21pdHRlZC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtvcHRpb25zLnNlcGFyYXRvcl0gVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHRydW5jYXRlIHRvLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRydW5jYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nKTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAnICdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLC4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogLyw/ICsvXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZS4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnb21pc3Npb24nOiAnIFsuLi5dJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWcgWy4uLl0nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJ1bmNhdGUoc3RyaW5nLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gREVGQVVMVF9UUlVOQ19MRU5HVEgsXG4gICAgICAgICAgb21pc3Npb24gPSBERUZBVUxUX1RSVU5DX09NSVNTSU9OO1xuXG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9ICdzZXBhcmF0b3InIGluIG9wdGlvbnMgPyBvcHRpb25zLnNlcGFyYXRvciA6IHNlcGFyYXRvcjtcbiAgICAgICAgbGVuZ3RoID0gJ2xlbmd0aCcgaW4gb3B0aW9ucyA/IHRvSW50ZWdlcihvcHRpb25zLmxlbmd0aCkgOiBsZW5ndGg7XG4gICAgICAgIG9taXNzaW9uID0gJ29taXNzaW9uJyBpbiBvcHRpb25zID8gYmFzZVRvU3RyaW5nKG9wdGlvbnMub21pc3Npb24pIDogb21pc3Npb247XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIGlmIChoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyk7XG4gICAgICAgIHN0ckxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGxlbmd0aCA+PSBzdHJMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBlbmQgPSBsZW5ndGggLSBzdHJpbmdTaXplKG9taXNzaW9uKTtcbiAgICAgIGlmIChlbmQgPCAxKSB7XG4gICAgICAgIHJldHVybiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBzdHJTeW1ib2xzXG4gICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJylcbiAgICAgICAgOiBzdHJpbmcuc2xpY2UoMCwgZW5kKTtcblxuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIGlmIChzdHJTeW1ib2xzKSB7XG4gICAgICAgIGVuZCArPSAocmVzdWx0Lmxlbmd0aCAtIGVuZCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZWdFeHAoc2VwYXJhdG9yKSkge1xuICAgICAgICBpZiAoc3RyaW5nLnNsaWNlKGVuZCkuc2VhcmNoKHNlcGFyYXRvcikpIHtcbiAgICAgICAgICB2YXIgbWF0Y2gsXG4gICAgICAgICAgICAgIHN1YnN0cmluZyA9IHJlc3VsdDtcblxuICAgICAgICAgIGlmICghc2VwYXJhdG9yLmdsb2JhbCkge1xuICAgICAgICAgICAgc2VwYXJhdG9yID0gUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIHRvU3RyaW5nKHJlRmxhZ3MuZXhlYyhzZXBhcmF0b3IpKSArICdnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcGFyYXRvci5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBzZXBhcmF0b3IuZXhlYyhzdWJzdHJpbmcpKSkge1xuICAgICAgICAgICAgdmFyIG5ld0VuZCA9IG1hdGNoLmluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgbmV3RW5kID09PSB1bmRlZmluZWQgPyBlbmQgOiBuZXdFbmQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0cmluZy5pbmRleE9mKGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpLCBlbmQpICE9IGVuZCkge1xuICAgICAgICB2YXIgaW5kZXggPSByZXN1bHQubGFzdEluZGV4T2Yoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8uZXNjYXBlYDsgdGhpcyBtZXRob2QgY29udmVydHMgdGhlIEhUTUwgZW50aXRpZXNcbiAgICAgKiBgJmFtcDtgLCBgJmx0O2AsIGAmZ3Q7YCwgYCZxdW90O2AsIGFuZCBgJiMzOTtgIGluIGBzdHJpbmdgIHRvXG4gICAgICogdGhlaXIgY29ycmVzcG9uZGluZyBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIEhUTUwgZW50aXRpZXMgYXJlIHVuZXNjYXBlZC4gVG8gdW5lc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIEhUTUwgZW50aXRpZXMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNi4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc0VzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZUVzY2FwZWRIdG1sLCB1bmVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byB1cHBlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnLS1mb28tYmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgdXBwZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRlJFRCdcbiAgICAgKi9cbiAgICB2YXIgdXBwZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9VcHBlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW3BhdHRlcm5dIFRoZSBwYXR0ZXJuIHRvIG1hdGNoIHdvcmRzLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAnJicsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcGF0dGVybiA9IGd1YXJkID8gdW5kZWZpbmVkIDogcGF0dGVybjtcblxuICAgICAgaWYgKHBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSA/IHVuaWNvZGVXb3JkcyhzdHJpbmcpIDogYXNjaWlXb3JkcyhzdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBpbnZva2UgYGZ1bmNgLCByZXR1cm5pbmcgZWl0aGVyIHRoZSByZXN1bHQgb3IgdGhlIGNhdWdodCBlcnJvclxuICAgICAqIG9iamVjdC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGF0dGVtcHQuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGBmdW5jYCByZXN1bHQgb3IgZXJyb3Igb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCB0aHJvd2luZyBlcnJvcnMgZm9yIGludmFsaWQgc2VsZWN0b3JzLlxuICAgICAqIHZhciBlbGVtZW50cyA9IF8uYXR0ZW1wdChmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAqICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAqIH0sICc+Xz4nKTtcbiAgICAgKlxuICAgICAqIGlmIChfLmlzRXJyb3IoZWxlbWVudHMpKSB7XG4gICAgICogICBlbGVtZW50cyA9IFtdO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICB2YXIgYXR0ZW1wdCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gaXNFcnJvcihlKSA/IGUgOiBuZXcgRXJyb3IoZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBtZXRob2RzIG9mIGFuIG9iamVjdCB0byB0aGUgb2JqZWN0IGl0c2VsZiwgb3ZlcndyaXRpbmcgdGhlIGV4aXN0aW5nXG4gICAgICogbWV0aG9kLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGJpbmQgYW5kIGFzc2lnbiB0aGUgYm91bmQgbWV0aG9kcyB0by5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBtZXRob2ROYW1lcyBUaGUgb2JqZWN0IG1ldGhvZCBuYW1lcyB0byBiaW5kLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB2aWV3ID0ge1xuICAgICAqICAgJ2xhYmVsJzogJ2RvY3MnLFxuICAgICAqICAgJ2NsaWNrJzogZnVuY3Rpb24oKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyB0aGlzLmxhYmVsKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5iaW5kQWxsKHZpZXcsIFsnY2xpY2snXSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHZpZXcuY2xpY2spO1xuICAgICAqIC8vID0+IExvZ3MgJ2NsaWNrZWQgZG9jcycgd2hlbiBjbGlja2VkLlxuICAgICAqL1xuICAgIHZhciBiaW5kQWxsID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBtZXRob2ROYW1lcykge1xuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAga2V5ID0gdG9LZXkoa2V5KTtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBiaW5kKG9iamVjdFtrZXldLCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGl0ZXJhdGVzIG92ZXIgYHBhaXJzYCBhbmQgaW52b2tlcyB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAqIGZ1bmN0aW9uIG9mIHRoZSBmaXJzdCBwcmVkaWNhdGUgdG8gcmV0dXJuIHRydXRoeS4gVGhlIHByZWRpY2F0ZS1mdW5jdGlvblxuICAgICAqIHBhaXJzIGFyZSBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIHByZWRpY2F0ZS1mdW5jdGlvbiBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5jb25kKFtcbiAgICAgKiAgIFtfLm1hdGNoZXMoeyAnYSc6IDEgfSksICAgICAgICAgICBfLmNvbnN0YW50KCdtYXRjaGVzIEEnKV0sXG4gICAgICogICBbXy5jb25mb3Jtcyh7ICdiJzogXy5pc051bWJlciB9KSwgXy5jb25zdGFudCgnbWF0Y2hlcyBCJyldLFxuICAgICAqICAgW18uc3R1YlRydWUsICAgICAgICAgICAgICAgICAgICAgIF8uY29uc3RhbnQoJ25vIG1hdGNoJyldXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQSdcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDAsICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBCJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogJzEnLCAnYic6ICcyJyB9KTtcbiAgICAgKiAvLyA9PiAnbm8gbWF0Y2gnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZChwYWlycykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHRvSXRlcmF0ZWUgPSBnZXRJdGVyYXRlZSgpO1xuXG4gICAgICBwYWlycyA9ICFsZW5ndGggPyBbXSA6IGFycmF5TWFwKHBhaXJzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFpclsxXSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdG9JdGVyYXRlZShwYWlyWzBdKSwgcGFpclsxXV07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgICAgaWYgKGFwcGx5KHBhaXJbMF0sIHRoaXMsIGFyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkocGFpclsxXSwgdGhpcywgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBwcmVkaWNhdGUgcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoXG4gICAgICogdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGEgZ2l2ZW4gb2JqZWN0LCByZXR1cm5pbmcgYHRydWVgIGlmXG4gICAgICogYWxsIHByZWRpY2F0ZXMgcmV0dXJuIHRydXRoeSwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNUb2Agd2l0aFxuICAgICAqIGBzb3VyY2VgIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDIsICdiJzogMSB9LFxuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8uY29uZm9ybXMoeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VDb25mb3JtcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGB2YWx1ZWAgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBkZWZhdWx0IHZhbHVlIHNob3VsZCBiZSByZXR1cm5lZCBpblxuICAgICAqIGl0cyBwbGFjZS4gVGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGBudWxsYCxcbiAgICAgKiBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8oMSwgMTApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKHVuZGVmaW5lZCwgMTApO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVmYXVsdFRvKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUpID8gZGVmYXVsdFZhbHVlIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGludm9raW5nIHRoZSBnaXZlbiBmdW5jdGlvbnNcbiAgICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93UmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYWRkU3F1YXJlID0gXy5mbG93KFtfLmFkZCwgc3F1YXJlXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvdyA9IGNyZWF0ZUZsb3coKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxvd2AgZXhjZXB0IHRoYXQgaXQgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXRcbiAgICAgKiBpbnZva2VzIHRoZSBnaXZlbiBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYWRkU3F1YXJlID0gXy5mbG93UmlnaHQoW3NxdWFyZSwgXy5hZGRdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93UmlnaHQgPSBjcmVhdGVGbG93KHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLiBJZiBgZnVuY2AgaXMgYSBwcm9wZXJ0eSBuYW1lLCB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIHRoZVxuICAgICAqIHByb3BlcnR5IHZhbHVlIGZvciBhIGdpdmVuIGVsZW1lbnQuIElmIGBmdW5jYCBpcyBhbiBhcnJheSBvciBvYmplY3QsIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgY29udGFpbiB0aGUgZXF1aXZhbGVudFxuICAgICAqIHNvdXJjZSBwcm9wZXJ0aWVzLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IFtmdW5jPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZSh7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoWyd1c2VyJywgJ2ZyZWQnXSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCBfLml0ZXJhdGVlKCd1c2VyJykpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gQ3JlYXRlIGN1c3RvbSBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqIF8uaXRlcmF0ZWUgPSBfLndyYXAoXy5pdGVyYXRlZSwgZnVuY3Rpb24oaXRlcmF0ZWUsIGZ1bmMpIHtcbiAgICAgKiAgIHJldHVybiAhXy5pc1JlZ0V4cChmdW5jKSA/IGl0ZXJhdGVlKGZ1bmMpIDogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICogICAgIHJldHVybiBmdW5jLnRlc3Qoc3RyaW5nKTtcbiAgICAgKiAgIH07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbJ2FiYycsICdkZWYnXSwgL2VmLyk7XG4gICAgICogLy8gPT4gWydkZWYnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGl0ZXJhdGVlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiYXNlSXRlcmF0ZWUodHlwZW9mIGZ1bmMgPT0gJ2Z1bmN0aW9uJyA/IGZ1bmMgOiBiYXNlQ2xvbmUoZnVuYywgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGEgZ2l2ZW5cbiAgICAgKiBvYmplY3QgYW5kIGBzb3VyY2VgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGVxdWl2YWxlbnRcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmlzTWF0Y2hgIHdpdGggYHNvdXJjZWBcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBNdWx0aXBsZSB2YWx1ZXMgY2FuIGJlIGNoZWNrZWQgYnkgY29tYmluaW5nIHNldmVyYWwgbWF0Y2hlcnNcbiAgICAgKiB1c2luZyBgXy5vdmVyU29tZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5tYXRjaGVzKHsgJ2EnOiA0LCAnYyc6IDYgfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgXy5tYXRjaGVzKHsgJ2EnOiA0IH0pXSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBNdWx0aXBsZSB2YWx1ZXMgY2FuIGJlIGNoZWNrZWQgYnkgY29tYmluaW5nIHNldmVyYWwgbWF0Y2hlcnNcbiAgICAgKiB1c2luZyBgXy5vdmVyU29tZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICpcbiAgICAgKiAvLyBDaGVja2luZyBmb3Igc2V2ZXJhbCBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm92ZXJTb21lKFtfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDEpLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpXSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBGb2xsb3dpbmcgc2hvcnRoYW5kcyBhcmUgcG9zc2libGUgZm9yIHByb3ZpZGluZyBwcmVkaWNhdGVzLlxuICAgICAqIFBhc3MgYW4gYE9iamVjdGAgYW5kIGl0IHdpbGwgYmUgdXNlZCBhcyBhbiBwYXJhbWV0ZXIgZm9yIGBfLm1hdGNoZXNgIHRvIGNyZWF0ZSB0aGUgcHJlZGljYXRlLlxuICAgICAqIFBhc3MgYW4gYEFycmF5YCBvZiBwYXJhbWV0ZXJzIGZvciBgXy5tYXRjaGVzUHJvcGVydHlgIGFuZCB0aGUgcHJlZGljYXRlIHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0aGVtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBGb2xsb3dpbmcgc2hvcnRoYW5kcyBhcmUgcG9zc2libGUgZm9yIHByb3ZpZGluZyBwcmVkaWNhdGVzLlxuICAgICAqIFBhc3MgYW4gYE9iamVjdGAgYW5kIGl0IHdpbGwgYmUgdXNlZCBhcyBhbiBwYXJhbWV0ZXIgZm9yIGBfLm1hdGNoZXNgIHRvIGNyZWF0ZSB0aGUgcHJlZGljYXRlLlxuICAgICAqIFBhc3MgYW4gYEFycmF5YCBvZiBwYXJhbWV0ZXJzIGZvciBgXy5tYXRjaGVzUHJvcGVydHlgIGFuZCB0aGUgcHJlZGljYXRlIHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0aGVtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJTb21lKFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgbWF0Y2hlc0Z1bmMgPSBfLm92ZXJTb21lKFt7ICdhJzogMSB9LCB7ICdhJzogMiB9XSlcbiAgICAgKiB2YXIgbWF0Y2hlc1Byb3BlcnR5RnVuYyA9IF8ub3ZlclNvbWUoW1snYScsIDFdLCBbJ2EnLCAyXV0pXG4gICAgICovXG4gICAgdmFyIG92ZXJTb21lID0gY3JlYXRlT3ZlcihhcnJheVNvbWUpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMiB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IDEgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ucHJvcGVydHkoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKF8uc29ydEJ5KG9iamVjdHMsIF8ucHJvcGVydHkoWydhJywgJ2InXSkpLCAnYS5iJyk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHkocGF0aCkge1xuICAgICAgcmV0dXJuIGlzS2V5KHBhdGgpID8gYmFzZVByb3BlcnR5KHRvS2V5KHBhdGgpKSA6IGJhc2VQcm9wZXJ0eURlZXAocGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnByb3BlcnR5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xuICAgICAqIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzAsIDEsIDJdLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgbnVtYmVycyAocG9zaXRpdmUgYW5kL29yIG5lZ2F0aXZlKSBwcm9ncmVzc2luZyBmcm9tXG4gICAgICogYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBBIHN0ZXAgb2YgYC0xYCBpcyB1c2VkIGlmIGEgbmVnYXRpdmVcbiAgICAgKiBgc3RhcnRgIGlzIHNwZWNpZmllZCB3aXRob3V0IGFuIGBlbmRgIG9yIGBzdGVwYC4gSWYgYGVuZGAgaXMgbm90IHNwZWNpZmllZCxcbiAgICAgKiBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoNCk7XG4gICAgICogLy8gPT4gWzAsIDEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKC00KTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDRdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMCwgNSwgMTAsIDE1XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAtNCwgLTEpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2UgPSBjcmVhdGVSYW5nZSgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yYW5nZWAgZXhjZXB0IHRoYXQgaXQgcG9wdWxhdGVzIHZhbHVlcyBpblxuICAgICAqIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDQpO1xuICAgICAqIC8vID0+IFszLCAyLCAxLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KC00KTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA1KTtcbiAgICAgKiAvLyA9PiBbNCwgMywgMiwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzE1LCAxMCwgNSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwLCAtNCwgLTEpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlUmlnaHQgPSBjcmVhdGVSYW5nZSh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAgICAgKiAvLyA9PiBbW10sIFtdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICAgICAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uc3R1Yk9iamVjdCk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbe30sIHt9XVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YlN0cmluZyk7XG4gICAgICogLy8gPT4gWycnLCAnJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YlRydWUpO1xuICAgICAqIC8vID0+IFt0cnVlLCB0cnVlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJUcnVlKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgaXRlcmF0ZWUgYG5gIHRpbWVzLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBlYWNoIGludm9jYXRpb24uIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAoaW5kZXgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygzLCBTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJywgJzInXVxuICAgICAqXG4gICAgICogIF8udGltZXMoNCwgXy5jb25zdGFudCgwKSk7XG4gICAgICogLy8gPT4gWzAsIDAsIDAsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICBpZiAobiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gTUFYX0FSUkFZX0xFTkdUSCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUpO1xuICAgICAgbiAtPSBNQVhfQVJSQVlfTEVOR1RIO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVRpbWVzKGxlbmd0aCwgaXRlcmF0ZWUpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICAgIGl0ZXJhdGVlKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2EuYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnMCcsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGF0aCh2YWx1ZSkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgdG9LZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3ltYm9sKHZhbHVlKSA/IFt2YWx1ZV0gOiBjb3B5QXJyYXkoc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgZ2l2ZW4sIHRoZSBJRCBpcyBhcHBlbmRlZCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVmaXg9JyddIFRoZSB2YWx1ZSB0byBwcmVmaXggdGhlIElEIHdpdGguXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5pcXVlIElELlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCdjb250YWN0XycpO1xuICAgICAqIC8vID0+ICdjb250YWN0XzEwNCdcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoKTtcbiAgICAgKiAvLyA9PiAnMTA1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCkge1xuICAgICAgdmFyIGlkID0gKytpZENvdW50ZXI7XG4gICAgICByZXR1cm4gdG9TdHJpbmcocHJlZml4KSArIGlkO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdWdlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWRkZW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRvdGFsLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmFkZCg2LCA0KTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIHZhciBhZGQgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKGF1Z2VuZCwgYWRkZW5kKSB7XG4gICAgICByZXR1cm4gYXVnZW5kICsgYWRkZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCB1cCB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCB1cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgdXAgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNC4wMDYpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2LjAwNCwgMik7XG4gICAgICogLy8gPT4gNi4wMVxuICAgICAqXG4gICAgICogXy5jZWlsKDYwNDAsIC0yKTtcbiAgICAgKiAvLyA9PiA2MTAwXG4gICAgICovXG4gICAgdmFyIGNlaWwgPSBjcmVhdGVSb3VuZCgnY2VpbCcpO1xuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aWRlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpc29yIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcXVvdGllbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGl2aWRlKDYsIDQpO1xuICAgICAqIC8vID0+IDEuNVxuICAgICAqL1xuICAgIHZhciBkaXZpZGUgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKGRpdmlkZW5kLCBkaXZpc29yKSB7XG4gICAgICByZXR1cm4gZGl2aWRlbmQgLyBkaXZpc29yO1xuICAgIH0sIDEpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCBkb3duIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIGRvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCBkb3duIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgZG93biBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoMC4wNDYsIDIpO1xuICAgICAqIC8vID0+IDAuMDRcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQwMDBcbiAgICAgKi9cbiAgICB2YXIgZmxvb3IgPSBjcmVhdGVSb3VuZCgnZmxvb3InKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGBhcnJheWAuIElmIGBhcnJheWAgaXMgZW1wdHkgb3IgZmFsc2V5LFxuICAgICAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1heChbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWF4KFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXgoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgaWRlbnRpdHksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tYXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB0aGUgdmFsdWUgaXMgcmFua2VkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiAxIH0sIHsgJ24nOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5tYXhCeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4QnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWVhbiBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tZWFuKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW4oYXJyYXkpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgaWRlbnRpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVhbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIGF2ZXJhZ2VkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtaW5pbXVtIHZhbHVlIG9mIGBhcnJheWAuIElmIGBhcnJheWAgaXMgZW1wdHkgb3IgZmFsc2V5LFxuICAgICAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1pbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8ubWluKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW4oYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgaWRlbnRpdHksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5taW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB0aGUgdmFsdWUgaXMgcmFua2VkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiAxIH0sIHsgJ24nOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5taW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpZXIgVGhlIGZpcnN0IG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWNhbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwcm9kdWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm11bHRpcGx5KDYsIDQpO1xuICAgICAqIC8vID0+IDI0XG4gICAgICovXG4gICAgdmFyIG11bHRpcGx5ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtdWx0aXBsaWVyLCBtdWx0aXBsaWNhbmQpIHtcbiAgICAgIHJldHVybiBtdWx0aXBsaWVyICogbXVsdGlwbGljYW5kO1xuICAgIH0sIDEpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQuMDA2LCAyKTtcbiAgICAgKiAvLyA9PiA0LjAxXG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MTAwXG4gICAgICovXG4gICAgdmFyIHJvdW5kID0gY3JlYXRlUm91bmQoJ3JvdW5kJyk7XG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdCB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnVlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdWJ0cmFoZW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgZGlmZmVyZW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdWJ0cmFjdCg2LCA0KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgdmFyIHN1YnRyYWN0ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtaW51ZW5kLCBzdWJ0cmFoZW5kKSB7XG4gICAgICByZXR1cm4gbWludWVuZCAtIHN1YnRyYWhlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgc3VtIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VtKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW0oYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGlkZW50aXR5KVxuICAgICAgICA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zdW1gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBzdW1tZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IDA7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gd3JhcHBlZCB2YWx1ZXMgaW4gY2hhaW4gc2VxdWVuY2VzLlxuICAgIGxvZGFzaC5hZnRlciA9IGFmdGVyO1xuICAgIGxvZGFzaC5hcnkgPSBhcnk7XG4gICAgbG9kYXNoLmFzc2lnbiA9IGFzc2lnbjtcbiAgICBsb2Rhc2guYXNzaWduSW4gPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guYXNzaWduSW5XaXRoID0gYXNzaWduSW5XaXRoO1xuICAgIGxvZGFzaC5hc3NpZ25XaXRoID0gYXNzaWduV2l0aDtcbiAgICBsb2Rhc2guYXQgPSBhdDtcbiAgICBsb2Rhc2guYmVmb3JlID0gYmVmb3JlO1xuICAgIGxvZGFzaC5iaW5kID0gYmluZDtcbiAgICBsb2Rhc2guYmluZEFsbCA9IGJpbmRBbGw7XG4gICAgbG9kYXNoLmJpbmRLZXkgPSBiaW5kS2V5O1xuICAgIGxvZGFzaC5jYXN0QXJyYXkgPSBjYXN0QXJyYXk7XG4gICAgbG9kYXNoLmNoYWluID0gY2hhaW47XG4gICAgbG9kYXNoLmNodW5rID0gY2h1bms7XG4gICAgbG9kYXNoLmNvbXBhY3QgPSBjb21wYWN0O1xuICAgIGxvZGFzaC5jb25jYXQgPSBjb25jYXQ7XG4gICAgbG9kYXNoLmNvbmQgPSBjb25kO1xuICAgIGxvZGFzaC5jb25mb3JtcyA9IGNvbmZvcm1zO1xuICAgIGxvZGFzaC5jb25zdGFudCA9IGNvbnN0YW50O1xuICAgIGxvZGFzaC5jb3VudEJ5ID0gY291bnRCeTtcbiAgICBsb2Rhc2guY3JlYXRlID0gY3JlYXRlO1xuICAgIGxvZGFzaC5jdXJyeSA9IGN1cnJ5O1xuICAgIGxvZGFzaC5jdXJyeVJpZ2h0ID0gY3VycnlSaWdodDtcbiAgICBsb2Rhc2guZGVib3VuY2UgPSBkZWJvdW5jZTtcbiAgICBsb2Rhc2guZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICBsb2Rhc2guZGVmYXVsdHNEZWVwID0gZGVmYXVsdHNEZWVwO1xuICAgIGxvZGFzaC5kZWZlciA9IGRlZmVyO1xuICAgIGxvZGFzaC5kZWxheSA9IGRlbGF5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZUJ5ID0gZGlmZmVyZW5jZUJ5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlV2l0aCA9IGRpZmZlcmVuY2VXaXRoO1xuICAgIGxvZGFzaC5kcm9wID0gZHJvcDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0ID0gZHJvcFJpZ2h0O1xuICAgIGxvZGFzaC5kcm9wUmlnaHRXaGlsZSA9IGRyb3BSaWdodFdoaWxlO1xuICAgIGxvZGFzaC5kcm9wV2hpbGUgPSBkcm9wV2hpbGU7XG4gICAgbG9kYXNoLmZpbGwgPSBmaWxsO1xuICAgIGxvZGFzaC5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgbG9kYXNoLmZsYXRNYXAgPSBmbGF0TWFwO1xuICAgIGxvZGFzaC5mbGF0TWFwRGVlcCA9IGZsYXRNYXBEZWVwO1xuICAgIGxvZGFzaC5mbGF0TWFwRGVwdGggPSBmbGF0TWFwRGVwdGg7XG4gICAgbG9kYXNoLmZsYXR0ZW4gPSBmbGF0dGVuO1xuICAgIGxvZGFzaC5mbGF0dGVuRGVlcCA9IGZsYXR0ZW5EZWVwO1xuICAgIGxvZGFzaC5mbGF0dGVuRGVwdGggPSBmbGF0dGVuRGVwdGg7XG4gICAgbG9kYXNoLmZsaXAgPSBmbGlwO1xuICAgIGxvZGFzaC5mbG93ID0gZmxvdztcbiAgICBsb2Rhc2guZmxvd1JpZ2h0ID0gZmxvd1JpZ2h0O1xuICAgIGxvZGFzaC5mcm9tUGFpcnMgPSBmcm9tUGFpcnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucztcbiAgICBsb2Rhc2guZnVuY3Rpb25zSW4gPSBmdW5jdGlvbnNJbjtcbiAgICBsb2Rhc2guZ3JvdXBCeSA9IGdyb3VwQnk7XG4gICAgbG9kYXNoLmluaXRpYWwgPSBpbml0aWFsO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbkJ5ID0gaW50ZXJzZWN0aW9uQnk7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbldpdGggPSBpbnRlcnNlY3Rpb25XaXRoO1xuICAgIGxvZGFzaC5pbnZlcnQgPSBpbnZlcnQ7XG4gICAgbG9kYXNoLmludmVydEJ5ID0gaW52ZXJ0Qnk7XG4gICAgbG9kYXNoLmludm9rZU1hcCA9IGludm9rZU1hcDtcbiAgICBsb2Rhc2guaXRlcmF0ZWUgPSBpdGVyYXRlZTtcbiAgICBsb2Rhc2gua2V5QnkgPSBrZXlCeTtcbiAgICBsb2Rhc2gua2V5cyA9IGtleXM7XG4gICAgbG9kYXNoLmtleXNJbiA9IGtleXNJbjtcbiAgICBsb2Rhc2gubWFwID0gbWFwO1xuICAgIGxvZGFzaC5tYXBLZXlzID0gbWFwS2V5cztcbiAgICBsb2Rhc2gubWFwVmFsdWVzID0gbWFwVmFsdWVzO1xuICAgIGxvZGFzaC5tYXRjaGVzID0gbWF0Y2hlcztcbiAgICBsb2Rhc2gubWF0Y2hlc1Byb3BlcnR5ID0gbWF0Y2hlc1Byb3BlcnR5O1xuICAgIGxvZGFzaC5tZW1vaXplID0gbWVtb2l6ZTtcbiAgICBsb2Rhc2gubWVyZ2UgPSBtZXJnZTtcbiAgICBsb2Rhc2gubWVyZ2VXaXRoID0gbWVyZ2VXaXRoO1xuICAgIGxvZGFzaC5tZXRob2QgPSBtZXRob2Q7XG4gICAgbG9kYXNoLm1ldGhvZE9mID0gbWV0aG9kT2Y7XG4gICAgbG9kYXNoLm1peGluID0gbWl4aW47XG4gICAgbG9kYXNoLm5lZ2F0ZSA9IG5lZ2F0ZTtcbiAgICBsb2Rhc2gubnRoQXJnID0gbnRoQXJnO1xuICAgIGxvZGFzaC5vbWl0ID0gb21pdDtcbiAgICBsb2Rhc2gub21pdEJ5ID0gb21pdEJ5O1xuICAgIGxvZGFzaC5vbmNlID0gb25jZTtcbiAgICBsb2Rhc2gub3JkZXJCeSA9IG9yZGVyQnk7XG4gICAgbG9kYXNoLm92ZXIgPSBvdmVyO1xuICAgIGxvZGFzaC5vdmVyQXJncyA9IG92ZXJBcmdzO1xuICAgIGxvZGFzaC5vdmVyRXZlcnkgPSBvdmVyRXZlcnk7XG4gICAgbG9kYXNoLm92ZXJTb21lID0gb3ZlclNvbWU7XG4gICAgbG9kYXNoLnBhcnRpYWwgPSBwYXJ0aWFsO1xuICAgIGxvZGFzaC5wYXJ0aWFsUmlnaHQgPSBwYXJ0aWFsUmlnaHQ7XG4gICAgbG9kYXNoLnBhcnRpdGlvbiA9IHBhcnRpdGlvbjtcbiAgICBsb2Rhc2gucGljayA9IHBpY2s7XG4gICAgbG9kYXNoLnBpY2tCeSA9IHBpY2tCeTtcbiAgICBsb2Rhc2gucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICBsb2Rhc2gucHJvcGVydHlPZiA9IHByb3BlcnR5T2Y7XG4gICAgbG9kYXNoLnB1bGwgPSBwdWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsID0gcHVsbEFsbDtcbiAgICBsb2Rhc2gucHVsbEFsbEJ5ID0gcHVsbEFsbEJ5O1xuICAgIGxvZGFzaC5wdWxsQWxsV2l0aCA9IHB1bGxBbGxXaXRoO1xuICAgIGxvZGFzaC5wdWxsQXQgPSBwdWxsQXQ7XG4gICAgbG9kYXNoLnJhbmdlID0gcmFuZ2U7XG4gICAgbG9kYXNoLnJhbmdlUmlnaHQgPSByYW5nZVJpZ2h0O1xuICAgIGxvZGFzaC5yZWFyZyA9IHJlYXJnO1xuICAgIGxvZGFzaC5yZWplY3QgPSByZWplY3Q7XG4gICAgbG9kYXNoLnJlbW92ZSA9IHJlbW92ZTtcbiAgICBsb2Rhc2gucmVzdCA9IHJlc3Q7XG4gICAgbG9kYXNoLnJldmVyc2UgPSByZXZlcnNlO1xuICAgIGxvZGFzaC5zYW1wbGVTaXplID0gc2FtcGxlU2l6ZTtcbiAgICBsb2Rhc2guc2V0ID0gc2V0O1xuICAgIGxvZGFzaC5zZXRXaXRoID0gc2V0V2l0aDtcbiAgICBsb2Rhc2guc2h1ZmZsZSA9IHNodWZmbGU7XG4gICAgbG9kYXNoLnNsaWNlID0gc2xpY2U7XG4gICAgbG9kYXNoLnNvcnRCeSA9IHNvcnRCeTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcSA9IHNvcnRlZFVuaXE7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXFCeSA9IHNvcnRlZFVuaXFCeTtcbiAgICBsb2Rhc2guc3BsaXQgPSBzcGxpdDtcbiAgICBsb2Rhc2guc3ByZWFkID0gc3ByZWFkO1xuICAgIGxvZGFzaC50YWlsID0gdGFpbDtcbiAgICBsb2Rhc2gudGFrZSA9IHRha2U7XG4gICAgbG9kYXNoLnRha2VSaWdodCA9IHRha2VSaWdodDtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0V2hpbGUgPSB0YWtlUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2gudGFrZVdoaWxlID0gdGFrZVdoaWxlO1xuICAgIGxvZGFzaC50YXAgPSB0YXA7XG4gICAgbG9kYXNoLnRocm90dGxlID0gdGhyb3R0bGU7XG4gICAgbG9kYXNoLnRocnUgPSB0aHJ1O1xuICAgIGxvZGFzaC50b0FycmF5ID0gdG9BcnJheTtcbiAgICBsb2Rhc2gudG9QYWlycyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLnRvUGFpcnNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2gudG9QYXRoID0gdG9QYXRoO1xuICAgIGxvZGFzaC50b1BsYWluT2JqZWN0ID0gdG9QbGFpbk9iamVjdDtcbiAgICBsb2Rhc2gudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIGxvZGFzaC51bmFyeSA9IHVuYXJ5O1xuICAgIGxvZGFzaC51bmlvbiA9IHVuaW9uO1xuICAgIGxvZGFzaC51bmlvbkJ5ID0gdW5pb25CeTtcbiAgICBsb2Rhc2gudW5pb25XaXRoID0gdW5pb25XaXRoO1xuICAgIGxvZGFzaC51bmlxID0gdW5pcTtcbiAgICBsb2Rhc2gudW5pcUJ5ID0gdW5pcUJ5O1xuICAgIGxvZGFzaC51bmlxV2l0aCA9IHVuaXFXaXRoO1xuICAgIGxvZGFzaC51bnNldCA9IHVuc2V0O1xuICAgIGxvZGFzaC51bnppcCA9IHVuemlwO1xuICAgIGxvZGFzaC51bnppcFdpdGggPSB1bnppcFdpdGg7XG4gICAgbG9kYXNoLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICBsb2Rhc2gudXBkYXRlV2l0aCA9IHVwZGF0ZVdpdGg7XG4gICAgbG9kYXNoLnZhbHVlcyA9IHZhbHVlcztcbiAgICBsb2Rhc2gudmFsdWVzSW4gPSB2YWx1ZXNJbjtcbiAgICBsb2Rhc2gud2l0aG91dCA9IHdpdGhvdXQ7XG4gICAgbG9kYXNoLndvcmRzID0gd29yZHM7XG4gICAgbG9kYXNoLndyYXAgPSB3cmFwO1xuICAgIGxvZGFzaC54b3IgPSB4b3I7XG4gICAgbG9kYXNoLnhvckJ5ID0geG9yQnk7XG4gICAgbG9kYXNoLnhvcldpdGggPSB4b3JXaXRoO1xuICAgIGxvZGFzaC56aXAgPSB6aXA7XG4gICAgbG9kYXNoLnppcE9iamVjdCA9IHppcE9iamVjdDtcbiAgICBsb2Rhc2guemlwT2JqZWN0RGVlcCA9IHppcE9iamVjdERlZXA7XG4gICAgbG9kYXNoLnppcFdpdGggPSB6aXBXaXRoO1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVudHJpZXMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC5lbnRyaWVzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLmV4dGVuZCA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5leHRlbmRXaXRoID0gYXNzaWduSW5XaXRoO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIG1peGluKGxvZGFzaCwgbG9kYXNoKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXMgaW4gY2hhaW4gc2VxdWVuY2VzLlxuICAgIGxvZGFzaC5hZGQgPSBhZGQ7XG4gICAgbG9kYXNoLmF0dGVtcHQgPSBhdHRlbXB0O1xuICAgIGxvZGFzaC5jYW1lbENhc2UgPSBjYW1lbENhc2U7XG4gICAgbG9kYXNoLmNhcGl0YWxpemUgPSBjYXBpdGFsaXplO1xuICAgIGxvZGFzaC5jZWlsID0gY2VpbDtcbiAgICBsb2Rhc2guY2xhbXAgPSBjbGFtcDtcbiAgICBsb2Rhc2guY2xvbmUgPSBjbG9uZTtcbiAgICBsb2Rhc2guY2xvbmVEZWVwID0gY2xvbmVEZWVwO1xuICAgIGxvZGFzaC5jbG9uZURlZXBXaXRoID0gY2xvbmVEZWVwV2l0aDtcbiAgICBsb2Rhc2guY2xvbmVXaXRoID0gY2xvbmVXaXRoO1xuICAgIGxvZGFzaC5jb25mb3Jtc1RvID0gY29uZm9ybXNUbztcbiAgICBsb2Rhc2guZGVidXJyID0gZGVidXJyO1xuICAgIGxvZGFzaC5kZWZhdWx0VG8gPSBkZWZhdWx0VG87XG4gICAgbG9kYXNoLmRpdmlkZSA9IGRpdmlkZTtcbiAgICBsb2Rhc2guZW5kc1dpdGggPSBlbmRzV2l0aDtcbiAgICBsb2Rhc2guZXEgPSBlcTtcbiAgICBsb2Rhc2guZXNjYXBlID0gZXNjYXBlO1xuICAgIGxvZGFzaC5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG4gICAgbG9kYXNoLmV2ZXJ5ID0gZXZlcnk7XG4gICAgbG9kYXNoLmZpbmQgPSBmaW5kO1xuICAgIGxvZGFzaC5maW5kSW5kZXggPSBmaW5kSW5kZXg7XG4gICAgbG9kYXNoLmZpbmRLZXkgPSBmaW5kS2V5O1xuICAgIGxvZGFzaC5maW5kTGFzdCA9IGZpbmRMYXN0O1xuICAgIGxvZGFzaC5maW5kTGFzdEluZGV4ID0gZmluZExhc3RJbmRleDtcbiAgICBsb2Rhc2guZmluZExhc3RLZXkgPSBmaW5kTGFzdEtleTtcbiAgICBsb2Rhc2guZmxvb3IgPSBmbG9vcjtcbiAgICBsb2Rhc2guZm9yRWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmZvckVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZm9ySW4gPSBmb3JJbjtcbiAgICBsb2Rhc2guZm9ySW5SaWdodCA9IGZvckluUmlnaHQ7XG4gICAgbG9kYXNoLmZvck93biA9IGZvck93bjtcbiAgICBsb2Rhc2guZm9yT3duUmlnaHQgPSBmb3JPd25SaWdodDtcbiAgICBsb2Rhc2guZ2V0ID0gZ2V0O1xuICAgIGxvZGFzaC5ndCA9IGd0O1xuICAgIGxvZGFzaC5ndGUgPSBndGU7XG4gICAgbG9kYXNoLmhhcyA9IGhhcztcbiAgICBsb2Rhc2guaGFzSW4gPSBoYXNJbjtcbiAgICBsb2Rhc2guaGVhZCA9IGhlYWQ7XG4gICAgbG9kYXNoLmlkZW50aXR5ID0gaWRlbnRpdHk7XG4gICAgbG9kYXNoLmluY2x1ZGVzID0gaW5jbHVkZXM7XG4gICAgbG9kYXNoLmluZGV4T2YgPSBpbmRleE9mO1xuICAgIGxvZGFzaC5pblJhbmdlID0gaW5SYW5nZTtcbiAgICBsb2Rhc2guaW52b2tlID0gaW52b2tlO1xuICAgIGxvZGFzaC5pc0FyZ3VtZW50cyA9IGlzQXJndW1lbnRzO1xuICAgIGxvZGFzaC5pc0FycmF5ID0gaXNBcnJheTtcbiAgICBsb2Rhc2guaXNBcnJheUJ1ZmZlciA9IGlzQXJyYXlCdWZmZXI7XG4gICAgbG9kYXNoLmlzQXJyYXlMaWtlID0gaXNBcnJheUxpa2U7XG4gICAgbG9kYXNoLmlzQXJyYXlMaWtlT2JqZWN0ID0gaXNBcnJheUxpa2VPYmplY3Q7XG4gICAgbG9kYXNoLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbiAgICBsb2Rhc2guaXNCdWZmZXIgPSBpc0J1ZmZlcjtcbiAgICBsb2Rhc2guaXNEYXRlID0gaXNEYXRlO1xuICAgIGxvZGFzaC5pc0VsZW1lbnQgPSBpc0VsZW1lbnQ7XG4gICAgbG9kYXNoLmlzRW1wdHkgPSBpc0VtcHR5O1xuICAgIGxvZGFzaC5pc0VxdWFsID0gaXNFcXVhbDtcbiAgICBsb2Rhc2guaXNFcXVhbFdpdGggPSBpc0VxdWFsV2l0aDtcbiAgICBsb2Rhc2guaXNFcnJvciA9IGlzRXJyb3I7XG4gICAgbG9kYXNoLmlzRmluaXRlID0gaXNGaW5pdGU7XG4gICAgbG9kYXNoLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIGxvZGFzaC5pc0ludGVnZXIgPSBpc0ludGVnZXI7XG4gICAgbG9kYXNoLmlzTGVuZ3RoID0gaXNMZW5ndGg7XG4gICAgbG9kYXNoLmlzTWFwID0gaXNNYXA7XG4gICAgbG9kYXNoLmlzTWF0Y2ggPSBpc01hdGNoO1xuICAgIGxvZGFzaC5pc01hdGNoV2l0aCA9IGlzTWF0Y2hXaXRoO1xuICAgIGxvZGFzaC5pc05hTiA9IGlzTmFOO1xuICAgIGxvZGFzaC5pc05hdGl2ZSA9IGlzTmF0aXZlO1xuICAgIGxvZGFzaC5pc05pbCA9IGlzTmlsO1xuICAgIGxvZGFzaC5pc051bGwgPSBpc051bGw7XG4gICAgbG9kYXNoLmlzTnVtYmVyID0gaXNOdW1iZXI7XG4gICAgbG9kYXNoLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4gICAgbG9kYXNoLmlzT2JqZWN0TGlrZSA9IGlzT2JqZWN0TGlrZTtcbiAgICBsb2Rhc2guaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLmlzUmVnRXhwID0gaXNSZWdFeHA7XG4gICAgbG9kYXNoLmlzU2FmZUludGVnZXIgPSBpc1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc1NldCA9IGlzU2V0O1xuICAgIGxvZGFzaC5pc1N0cmluZyA9IGlzU3RyaW5nO1xuICAgIGxvZGFzaC5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuICAgIGxvZGFzaC5pc1R5cGVkQXJyYXkgPSBpc1R5cGVkQXJyYXk7XG4gICAgbG9kYXNoLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG4gICAgbG9kYXNoLmlzV2Vha01hcCA9IGlzV2Vha01hcDtcbiAgICBsb2Rhc2guaXNXZWFrU2V0ID0gaXNXZWFrU2V0O1xuICAgIGxvZGFzaC5qb2luID0gam9pbjtcbiAgICBsb2Rhc2gua2ViYWJDYXNlID0ga2ViYWJDYXNlO1xuICAgIGxvZGFzaC5sYXN0ID0gbGFzdDtcbiAgICBsb2Rhc2gubGFzdEluZGV4T2YgPSBsYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2gubG93ZXJDYXNlID0gbG93ZXJDYXNlO1xuICAgIGxvZGFzaC5sb3dlckZpcnN0ID0gbG93ZXJGaXJzdDtcbiAgICBsb2Rhc2gubHQgPSBsdDtcbiAgICBsb2Rhc2gubHRlID0gbHRlO1xuICAgIGxvZGFzaC5tYXggPSBtYXg7XG4gICAgbG9kYXNoLm1heEJ5ID0gbWF4Qnk7XG4gICAgbG9kYXNoLm1lYW4gPSBtZWFuO1xuICAgIGxvZGFzaC5tZWFuQnkgPSBtZWFuQnk7XG4gICAgbG9kYXNoLm1pbiA9IG1pbjtcbiAgICBsb2Rhc2gubWluQnkgPSBtaW5CeTtcbiAgICBsb2Rhc2guc3R1YkFycmF5ID0gc3R1YkFycmF5O1xuICAgIGxvZGFzaC5zdHViRmFsc2UgPSBzdHViRmFsc2U7XG4gICAgbG9kYXNoLnN0dWJPYmplY3QgPSBzdHViT2JqZWN0O1xuICAgIGxvZGFzaC5zdHViU3RyaW5nID0gc3R1YlN0cmluZztcbiAgICBsb2Rhc2guc3R1YlRydWUgPSBzdHViVHJ1ZTtcbiAgICBsb2Rhc2gubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICBsb2Rhc2gubnRoID0gbnRoO1xuICAgIGxvZGFzaC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbiAgICBsb2Rhc2gubm9vcCA9IG5vb3A7XG4gICAgbG9kYXNoLm5vdyA9IG5vdztcbiAgICBsb2Rhc2gucGFkID0gcGFkO1xuICAgIGxvZGFzaC5wYWRFbmQgPSBwYWRFbmQ7XG4gICAgbG9kYXNoLnBhZFN0YXJ0ID0gcGFkU3RhcnQ7XG4gICAgbG9kYXNoLnBhcnNlSW50ID0gcGFyc2VJbnQ7XG4gICAgbG9kYXNoLnJhbmRvbSA9IHJhbmRvbTtcbiAgICBsb2Rhc2gucmVkdWNlID0gcmVkdWNlO1xuICAgIGxvZGFzaC5yZWR1Y2VSaWdodCA9IHJlZHVjZVJpZ2h0O1xuICAgIGxvZGFzaC5yZXBlYXQgPSByZXBlYXQ7XG4gICAgbG9kYXNoLnJlcGxhY2UgPSByZXBsYWNlO1xuICAgIGxvZGFzaC5yZXN1bHQgPSByZXN1bHQ7XG4gICAgbG9kYXNoLnJvdW5kID0gcm91bmQ7XG4gICAgbG9kYXNoLnJ1bkluQ29udGV4dCA9IHJ1bkluQ29udGV4dDtcbiAgICBsb2Rhc2guc2FtcGxlID0gc2FtcGxlO1xuICAgIGxvZGFzaC5zaXplID0gc2l6ZTtcbiAgICBsb2Rhc2guc25ha2VDYXNlID0gc25ha2VDYXNlO1xuICAgIGxvZGFzaC5zb21lID0gc29tZTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXggPSBzb3J0ZWRJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhCeSA9IHNvcnRlZEluZGV4Qnk7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4T2YgPSBzb3J0ZWRJbmRleE9mO1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXggPSBzb3J0ZWRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleEJ5ID0gc29ydGVkTGFzdEluZGV4Qnk7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleE9mID0gc29ydGVkTGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLnN0YXJ0Q2FzZSA9IHN0YXJ0Q2FzZTtcbiAgICBsb2Rhc2guc3RhcnRzV2l0aCA9IHN0YXJ0c1dpdGg7XG4gICAgbG9kYXNoLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgbG9kYXNoLnN1bSA9IHN1bTtcbiAgICBsb2Rhc2guc3VtQnkgPSBzdW1CeTtcbiAgICBsb2Rhc2gudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICBsb2Rhc2gudGltZXMgPSB0aW1lcztcbiAgICBsb2Rhc2gudG9GaW5pdGUgPSB0b0Zpbml0ZTtcbiAgICBsb2Rhc2gudG9JbnRlZ2VyID0gdG9JbnRlZ2VyO1xuICAgIGxvZGFzaC50b0xlbmd0aCA9IHRvTGVuZ3RoO1xuICAgIGxvZGFzaC50b0xvd2VyID0gdG9Mb3dlcjtcbiAgICBsb2Rhc2gudG9OdW1iZXIgPSB0b051bWJlcjtcbiAgICBsb2Rhc2gudG9TYWZlSW50ZWdlciA9IHRvU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgbG9kYXNoLnRvVXBwZXIgPSB0b1VwcGVyO1xuICAgIGxvZGFzaC50cmltID0gdHJpbTtcbiAgICBsb2Rhc2gudHJpbUVuZCA9IHRyaW1FbmQ7XG4gICAgbG9kYXNoLnRyaW1TdGFydCA9IHRyaW1TdGFydDtcbiAgICBsb2Rhc2gudHJ1bmNhdGUgPSB0cnVuY2F0ZTtcbiAgICBsb2Rhc2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcbiAgICBsb2Rhc2gudW5pcXVlSWQgPSB1bmlxdWVJZDtcbiAgICBsb2Rhc2gudXBwZXJDYXNlID0gdXBwZXJDYXNlO1xuICAgIGxvZGFzaC51cHBlckZpcnN0ID0gdXBwZXJGaXJzdDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5maXJzdCA9IGhlYWQ7XG5cbiAgICBtaXhpbihsb2Rhc2gsIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB7fTtcbiAgICAgIGJhc2VGb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gucHJvdG90eXBlLCBtZXRob2ROYW1lKSkge1xuICAgICAgICAgIHNvdXJjZVttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9KCkpLCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBsb2Rhc2guVkVSU0lPTiA9IFZFUlNJT047XG5cbiAgICAvLyBBc3NpZ24gZGVmYXVsdCBwbGFjZWhvbGRlcnMuXG4gICAgYXJyYXlFYWNoKFsnYmluZCcsICdiaW5kS2V5JywgJ2N1cnJ5JywgJ2N1cnJ5UmlnaHQnLCAncGFydGlhbCcsICdwYXJ0aWFsUmlnaHQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgbG9kYXNoW21ldGhvZE5hbWVdLnBsYWNlaG9sZGVyID0gbG9kYXNoO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uZHJvcGAgYW5kIGBfLnRha2VgIHZhcmlhbnRzLlxuICAgIGFycmF5RWFjaChbJ2Ryb3AnLCAndGFrZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24obikge1xuICAgICAgICBuID0gbiA9PT0gdW5kZWZpbmVkID8gMSA6IG5hdGl2ZU1heCh0b0ludGVnZXIobiksIDApO1xuXG4gICAgICAgIHZhciByZXN1bHQgPSAodGhpcy5fX2ZpbHRlcmVkX18gJiYgIWluZGV4KVxuICAgICAgICAgID8gbmV3IExhenlXcmFwcGVyKHRoaXMpXG4gICAgICAgICAgOiB0aGlzLmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IG5hdGl2ZU1pbihuLCByZXN1bHQuX190YWtlQ291bnRfXyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdmlld3NfXy5wdXNoKHtcbiAgICAgICAgICAgICdzaXplJzogbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpLFxuICAgICAgICAgICAgJ3R5cGUnOiBtZXRob2ROYW1lICsgKHJlc3VsdC5fX2Rpcl9fIDwgMCA/ICdSaWdodCcgOiAnJylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWUgKyAnUmlnaHQnXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpW21ldGhvZE5hbWVdKG4pLnJldmVyc2UoKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRoYXQgYWNjZXB0IGFuIGBpdGVyYXRlZWAgdmFsdWUuXG4gICAgYXJyYXlFYWNoKFsnZmlsdGVyJywgJ21hcCcsICd0YWtlV2hpbGUnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0eXBlID0gaW5kZXggKyAxLFxuICAgICAgICAgIGlzRmlsdGVyID0gdHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHIHx8IHR5cGUgPT0gTEFaWV9XSElMRV9GTEFHO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19pdGVyYXRlZXNfXy5wdXNoKHtcbiAgICAgICAgICAnaXRlcmF0ZWUnOiBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksXG4gICAgICAgICAgJ3R5cGUnOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gcmVzdWx0Ll9fZmlsdGVyZWRfXyB8fCBpc0ZpbHRlcjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5oZWFkYCBhbmQgYF8ubGFzdGAuXG4gICAgYXJyYXlFYWNoKFsnaGVhZCcsICdsYXN0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdGFrZU5hbWUgPSAndGFrZScgKyAoaW5kZXggPyAnUmlnaHQnIDogJycpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdGFrZU5hbWVdKDEpLnZhbHVlKClbMF07XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaW5pdGlhbGAgYW5kIGBfLnRhaWxgLlxuICAgIGFycmF5RWFjaChbJ2luaXRpYWwnLCAndGFpbCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIGRyb3BOYW1lID0gJ2Ryb3AnICsgKGluZGV4ID8gJycgOiAnUmlnaHQnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fZmlsdGVyZWRfXyA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKSA6IHRoaXNbZHJvcE5hbWVdKDEpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb21wYWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIoaWRlbnRpdHkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKHByZWRpY2F0ZSkuaGVhZCgpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuZmluZExhc3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5pbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXM7XG4gICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXyAmJiAoc3RhcnQgPiAwIHx8IGVuZCA8IDApKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnRha2VSaWdodCgtc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZHJvcChzdGFydCk7XG4gICAgICB9XG4gICAgICBpZiAoZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gdG9JbnRlZ2VyKGVuZCk7XG4gICAgICAgIHJlc3VsdCA9IGVuZCA8IDAgPyByZXN1bHQuZHJvcFJpZ2h0KC1lbmQpIDogcmVzdWx0LnRha2UoZW5kIC0gc3RhcnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRha2VSaWdodFdoaWxlID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkudGFrZVdoaWxlKHByZWRpY2F0ZSkucmV2ZXJzZSgpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFrZShNQVhfQVJSQVlfTEVOR1RIKTtcbiAgICB9O1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYmFzZUZvck93bihMYXp5V3JhcHBlci5wcm90b3R5cGUsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBjaGVja0l0ZXJhdGVlID0gL14oPzpmaWx0ZXJ8ZmluZHxtYXB8cmVqZWN0KXxXaGlsZSQvLnRlc3QobWV0aG9kTmFtZSksXG4gICAgICAgICAgaXNUYWtlciA9IC9eKD86aGVhZHxsYXN0KSQvLnRlc3QobWV0aG9kTmFtZSksXG4gICAgICAgICAgbG9kYXNoRnVuYyA9IGxvZGFzaFtpc1Rha2VyID8gKCd0YWtlJyArIChtZXRob2ROYW1lID09ICdsYXN0JyA/ICdSaWdodCcgOiAnJykpIDogbWV0aG9kTmFtZV0sXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gaXNUYWtlciB8fCAvXmZpbmQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGlmICghbG9kYXNoRnVuYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgICBhcmdzID0gaXNUYWtlciA/IFsxXSA6IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGlzTGF6eSA9IHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIsXG4gICAgICAgICAgICBpdGVyYXRlZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICB1c2VMYXp5ID0gaXNMYXp5IHx8IGlzQXJyYXkodmFsdWUpO1xuXG4gICAgICAgIHZhciBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaEZ1bmMuYXBwbHkobG9kYXNoLCBhcnJheVB1c2goW3ZhbHVlXSwgYXJncykpO1xuICAgICAgICAgIHJldHVybiAoaXNUYWtlciAmJiBjaGFpbkFsbCkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHVzZUxhenkgJiYgY2hlY2tJdGVyYXRlZSAmJiB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyAmJiBpdGVyYXRlZS5sZW5ndGggIT0gMSkge1xuICAgICAgICAgIC8vIEF2b2lkIGxhenkgdXNlIGlmIHRoZSBpdGVyYXRlZSBoYXMgYSBcImxlbmd0aFwiIHZhbHVlIG90aGVyIHRoYW4gYDFgLlxuICAgICAgICAgIGlzTGF6eSA9IHVzZUxhenkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgIGlzSHlicmlkID0gISF0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCxcbiAgICAgICAgICAgIGlzVW53cmFwcGVkID0gcmV0VW53cmFwcGVkICYmICFjaGFpbkFsbCxcbiAgICAgICAgICAgIG9ubHlMYXp5ID0gaXNMYXp5ICYmICFpc0h5YnJpZDtcblxuICAgICAgICBpZiAoIXJldFVud3JhcHBlZCAmJiB1c2VMYXp5KSB7XG4gICAgICAgICAgdmFsdWUgPSBvbmx5TGF6eSA/IHZhbHVlIDogbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICAgICAgICByZXN1bHQuX19hY3Rpb25zX18ucHVzaCh7ICdmdW5jJzogdGhydSwgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLCAndGhpc0FyZyc6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIocmVzdWx0LCBjaGFpbkFsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVW53cmFwcGVkICYmIG9ubHlMYXp5KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgICAgcmV0dXJuIGlzVW53cmFwcGVkID8gKGlzVGFrZXIgPyByZXN1bHQudmFsdWUoKVswXSA6IHJlc3VsdC52YWx1ZSgpKSA6IHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYEFycmF5YCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBhcnJheUVhY2goWydwb3AnLCAncHVzaCcsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlQcm90b1ttZXRob2ROYW1lXSxcbiAgICAgICAgICBjaGFpbk5hbWUgPSAvXig/OnB1c2h8c29ydHx1bnNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSkgPyAndGFwJyA6ICd0aHJ1JyxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSAvXig/OnBvcHxzaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBpZiAocmV0VW53cmFwcGVkICYmICF0aGlzLl9fY2hhaW5fXykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKTtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10sIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzW2NoYWluTmFtZV0oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10sIGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBNYXAgbWluaWZpZWQgbWV0aG9kIG5hbWVzIHRvIHRoZWlyIHJlYWwgbmFtZXMuXG4gICAgYmFzZUZvck93bihMYXp5V3JhcHBlci5wcm90b3R5cGUsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBsb2Rhc2hGdW5jID0gbG9kYXNoW21ldGhvZE5hbWVdO1xuICAgICAgaWYgKGxvZGFzaEZ1bmMpIHtcbiAgICAgICAgdmFyIGtleSA9IGxvZGFzaEZ1bmMubmFtZSArICcnO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCBrZXkpKSB7XG4gICAgICAgICAgcmVhbE5hbWVzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZWFsTmFtZXNba2V5XS5wdXNoKHsgJ25hbWUnOiBtZXRob2ROYW1lLCAnZnVuYyc6IGxvZGFzaEZ1bmMgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZWFsTmFtZXNbY3JlYXRlSHlicmlkKHVuZGVmaW5lZCwgV1JBUF9CSU5EX0tFWV9GTEFHKS5uYW1lXSA9IFt7XG4gICAgICAnbmFtZSc6ICd3cmFwcGVyJyxcbiAgICAgICdmdW5jJzogdW5kZWZpbmVkXG4gICAgfV07XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGF6eVdyYXBwZXJgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jbG9uZSA9IGxhenlDbG9uZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmV2ZXJzZSA9IGxhenlSZXZlcnNlO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS52YWx1ZSA9IGxhenlWYWx1ZTtcblxuICAgIC8vIEFkZCBjaGFpbiBzZXF1ZW5jZSBtZXRob2RzIHRvIHRoZSBgbG9kYXNoYCB3cmFwcGVyLlxuICAgIGxvZGFzaC5wcm90b3R5cGUuYXQgPSB3cmFwcGVyQXQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jaGFpbiA9IHdyYXBwZXJDaGFpbjtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbW1pdCA9IHdyYXBwZXJDb21taXQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5uZXh0ID0gd3JhcHBlck5leHQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5wbGFudCA9IHdyYXBwZXJQbGFudDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnJldmVyc2UgPSB3cmFwcGVyUmV2ZXJzZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnRvSlNPTiA9IGxvZGFzaC5wcm90b3R5cGUudmFsdWVPZiA9IGxvZGFzaC5wcm90b3R5cGUudmFsdWUgPSB3cmFwcGVyVmFsdWU7XG5cbiAgICAvLyBBZGQgbGF6eSBhbGlhc2VzLlxuICAgIGxvZGFzaC5wcm90b3R5cGUuZmlyc3QgPSBsb2Rhc2gucHJvdG90eXBlLmhlYWQ7XG5cbiAgICBpZiAoc3ltSXRlcmF0b3IpIHtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbc3ltSXRlcmF0b3JdID0gd3JhcHBlclRvSXRlcmF0b3I7XG4gICAgfVxuICAgIHJldHVybiBsb2Rhc2g7XG4gIH0pO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIEV4cG9ydCBsb2Rhc2guXG4gIHZhciBfID0gcnVuSW5Db250ZXh0KCk7XG5cbiAgLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3IgY29uZGl0aW9uIHBhdHRlcm5zIGxpa2U6XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEV4cG9zZSBMb2Rhc2ggb24gdGhlIGdsb2JhbCBvYmplY3QgdG8gcHJldmVudCBlcnJvcnMgd2hlbiBMb2Rhc2ggaXNcbiAgICAvLyBsb2FkZWQgYnkgYSBzY3JpcHQgdGFnIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTUQgbG9hZGVyLlxuICAgIC8vIFNlZSBodHRwOi8vcmVxdWlyZWpzLm9yZy9kb2NzL2Vycm9ycy5odG1sI21pc21hdGNoIGZvciBtb3JlIGRldGFpbHMuXG4gICAgLy8gVXNlIGBfLm5vQ29uZmxpY3RgIHRvIHJlbW92ZSBMb2Rhc2ggZnJvbSB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuXG4gICAgLy8gRGVmaW5lIGFzIGFuIGFub255bW91cyBtb2R1bGUgc28sIHRocm91Z2ggcGF0aCBtYXBwaW5nLCBpdCBjYW4gYmVcbiAgICAvLyByZWZlcmVuY2VkIGFzIHRoZSBcInVuZGVyc2NvcmVcIiBtb2R1bGUuXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbiAgLy8gQ2hlY2sgZm9yIGBleHBvcnRzYCBhZnRlciBgZGVmaW5lYCBpbiBjYXNlIGEgYnVpbGQgb3B0aW1pemVyIGFkZHMgaXQuXG4gIGVsc2UgaWYgKGZyZWVNb2R1bGUpIHtcbiAgICAvLyBFeHBvcnQgZm9yIE5vZGUuanMuXG4gICAgKGZyZWVNb2R1bGUuZXhwb3J0cyA9IF8pLl8gPSBfO1xuICAgIC8vIEV4cG9ydCBmb3IgQ29tbW9uSlMgc3VwcG9ydC5cbiAgICBmcmVlRXhwb3J0cy5fID0gXztcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBFeHBvcnQgdG8gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcbiAgfVxufS5jYWxsKHRoaXMpKTtcbiIsImltcG9ydCB0eXBlIHsgUHJvamVjdCwgVGFzayB9IGZyb20gXCIuLi9wcm9qZWN0XCJcbmltcG9ydCB7IGRlZmF1bHRzIH0gZnJvbSBcImxvZGFzaFwiXG5cbmV4cG9ydCBjbGFzcyBUaW1lX0VudHJ5IHtcbiAgICBwdWJsaWMgaWQ6ICAgICAgICAgICBudW1iZXIgICAgICAgICAgICA9IC0xICogKE1hdGgucmFuZG9tKCkgKiAxMDAwMCB8IDApXG4gICAgcHVibGljIHN0YXJ0OiAgICAgICAgRGF0ZSAgICAgICAgICAgICAgPSBuZXcgRGF0ZSgpXG4gICAgcHVibGljIGVuZDogICAgICAgICAgRGF0ZSAgICAgICAgICAgICAgPSBuZXcgRGF0ZSgpXG4gICAgcHVibGljIHN0YXRlOiAgICAgICAgVGltZV9FbnRyeV9TdGF0ZSAgPSBUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzXG4gICAgcHVibGljIHByb2plY3Q/OiAgICAgUHJvamVjdCAgICAgICAgICAgPSB1bmRlZmluZWRcbiAgICBwdWJsaWMgdGFzaz86ICAgICAgICBUYXNrICAgICAgICAgICAgICA9IHVuZGVmaW5lZFxuICAgIHB1YmxpYyBkZXNjcmlwdGlvbj86IHN0cmluZyAgICAgICAgICAgID0gdW5kZWZpbmVkXG4gICAgcHVibGljIGlzX3NlbGVjdGVkOiAgYm9vbGVhbiAgICAgICAgICAgPSBmYWxzZVxuXG4gICAgY29uc3RydWN0b3IgKHRpbWVfZW50cnk/OiBQYXJ0aWFsPFRpbWVfRW50cnk+KSB7XG4gICAgICAgIGNvbnN0IG5ld190aGlzOiBUaW1lX0VudHJ5ID0ge1xuICAgICAgICAgICAgLi4uc3RydWN0dXJlZENsb25lKHRoaXMpLFxuICAgICAgICAgICAgLi4udGltZV9lbnRyeSxcbiAgICAgICAgfVxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3X3RoaXMsIFRpbWVfRW50cnkucHJvdG90eXBlKVxuICAgICAgICByZXR1cm4gbmV3X3RoaXNcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIElzX1NhbWVfUmFuZ2UgKGE6IFRpbWVfRW50cnksIGI6IFRpbWVfRW50cnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGEuc3RhcnQuZ2V0VGltZSgpID09PSBiLnN0YXJ0LmdldFRpbWUoKSAmJlxuICAgICAgICAgICAgICAgYS5lbmQuZ2V0VGltZSgpID09PSBiLmVuZC5nZXRUaW1lKClcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRpbWVfZW50cnlfZGVmYXVsdCAoKTogVGltZV9FbnRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6ICAgICAgICAgIC0xICogKE1hdGgucmFuZG9tKCkgKiAxMDAwMCB8IDApLFxuICAgICAgICBzdGFydDogICAgICAgbmV3IERhdGUoKSxcbiAgICAgICAgZW5kOiAgICAgICAgIG5ldyBEYXRlKCksXG4gICAgICAgIHN0YXRlOiAgICAgICBUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzLFxuICAgICAgICBpc19zZWxlY3RlZDogZmFsc2UsXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3X3RpbWVfZW50cnkgKFxuICAgIGlkID0gLTEgKiAoTWF0aC5yYW5kb20oKSAqIDEwMDAwIHwgMCksXG4gICAgc3RhcnQgPSBuZXcgRGF0ZSgpLFxuICAgIGVuZCA9IG5ldyBEYXRlKCksXG4gICAgc3RhdGUgPSBUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzLFxuICAgIHByb2plY3Q/OiBQcm9qZWN0LFxuICAgIHRhc2s/OiBUYXNrLFxuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nLFxuICAgIGlzX3NlbGVjdGVkID0gZmFsc2UsXG4pOiBUaW1lX0VudHJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZCxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHByb2plY3QsXG4gICAgICAgIHRhc2ssXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBpc19zZWxlY3RlZCxcbiAgICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIHRoZSBjb250cnVjdG9yIGluc3RlYWRcbiAqIEBwYXJhbSB0aW1lX2VudHJ5XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbmV3X3RpbWVfZW50cnkyIChcbiAgICB0aW1lX2VudHJ5OiBQYXJ0aWFsPFRpbWVfRW50cnk+LFxuKTogVGltZV9FbnRyeSB7XG4gICAgY29uc3QgZmluYWxfdGltZV9lbnRyeSA9IGRlZmF1bHRzKHRpbWVfZW50cnksIHRpbWVfZW50cnlfZGVmYXVsdCgpKVxuXG4gICAgcmV0dXJuIGZpbmFsX3RpbWVfZW50cnlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVfZW50cnlfb3ZlcmxhcCAoYTogVGltZV9FbnRyeSwgYjogVGltZV9FbnRyeSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBNYXRoLm1heChhLnN0YXJ0LmdldFRpbWUoKSwgYi5zdGFydC5nZXRUaW1lKCkpIDwgTWF0aC5taW4oYS5lbmQuZ2V0VGltZSgpLCBiLmVuZC5nZXRUaW1lKCkpXG59XG5cbmNvbnN0IGhvdXJfaW5fbWludXRlcyA9IDYwXG5cbi8vXG4vLyBTbG90IFRyYW5zZm9ybWF0aW9uXG4vL1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGVfdG9fc2xvdCAoXG4gICAgZDogICAgICAgICAgICAgICBEYXRlLFxuICAgIHN0YXJ0X2hvdXI6ICAgICAgbnVtYmVyLFxuICAgIHN0ZXBfaW5fbWludXRlczogbnVtYmVyLFxuKTogbnVtYmVyIHtcbiAgICBjb25zdCBob3VycyA9IGQuZ2V0SG91cnMoKVxuICAgIGNvbnN0IG1pbnV0ZXMgPSBkLmdldE1pbnV0ZXMoKVxuICAgIGNvbnN0IGRpZmZfbWludXRlcyA9IChob3VycyAqIGhvdXJfaW5fbWludXRlcykgKyBtaW51dGVzIC0gc3RhcnRfaG91ciAqIGhvdXJfaW5fbWludXRlc1xuICAgIGNvbnN0IGRpZmZfc3RlcHMgPSBNYXRoLmZsb29yKGRpZmZfbWludXRlcyAvIHN0ZXBfaW5fbWludXRlcylcbiAgICBjb25zdCBzbG90X251bWJlciA9IGRpZmZfc3RlcHNcblxuICAgIHJldHVybiBzbG90X251bWJlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2xvdF90b19taW51dGVzIChcbiAgICBzbG90OiAgICAgICAgICAgIG51bWJlcixcbiAgICBzdGFydF9ob3VyOiAgICAgIG51bWJlcixcbiAgICBzdGVwX2luX21pbnV0ZXM6IG51bWJlcixcbik6IG51bWJlciB7XG4gICAgY29uc3QgZGlmZl9taW51dGVzID0gc2xvdCAqIHN0ZXBfaW5fbWludXRlc1xuICAgIGNvbnN0IHN0YXJ0X21pbnV0ZXMgPSBzdGFydF9ob3VyICogaG91cl9pbl9taW51dGVzXG4gICAgY29uc3QgbWludXRlcyA9IHN0YXJ0X21pbnV0ZXMgKyBkaWZmX21pbnV0ZXNcblxuICAgIHJldHVybiBtaW51dGVzXG59XG5cbi8vXG4vLyBTdGF0ZSBNYWNoaW5lXG4vL1xuXG5leHBvcnQgZW51bSBUaW1lX0VudHJ5X1N0YXRlIHtcbiAgICBJbl9Qcm9ncmVzcyA9IFwiSW5fUHJvZ3Jlc3NcIixcbiAgICBFcnJvciAgICAgICA9IFwiRXJyb3JcIixcbiAgICBUb1NhdmUgICAgICA9IFwiVG9TYXZlXCIsXG4gICAgU2F2aW5nICAgICAgPSBcIlNhdmluZ1wiLFxuICAgIFN0YWJsZSAgICAgID0gXCJTdGFibGVcIixcbiAgICBUb0RlbGV0ZSAgICA9IFwiVG9TRGVsZXRlXCIsXG4gICAgRGVsZXRpbmcgICAgPSBcIkRlbGV0aW5nXCIsXG59XG5cbmV4cG9ydCBlbnVtIFRpbWVfRW50cnlfQWN0aW9uIHtcbiAgICBDcmVhdGlvbl9Qcm9ncmVzc2lvbiA9IFwiQ3JlYXRpb25fUHJvZ3Jlc3Npb25cIixcbiAgICBGb3JtX0NoYW5nZXMgICAgICAgICA9IFwiRm9ybV9DaGFuZ2VzXCIsXG4gICAgRm9ybV9GaW5pc2hlZCAgICAgICAgPSBcIkZvcm1fRmluaXNoZWRcIixcbiAgICBGb3JtX09yX1RpbWVfQ2hhbmdlcyA9IFwiRm9ybV9Pcl9UaW1lX0NoYW5nZXNcIixcbiAgICBTYXZlX1N1Y2Nlc3MgICAgICAgICA9IFwiU2F2ZV9TdWNjZXNzXCIsXG4gICAgU2F2ZV9FcnJvciAgICAgICAgICAgPSBcIlNhdmVfRXJyb3JcIixcbiAgICBEZWxldGUgICAgICAgICAgICAgICA9IFwiRGVsZXRlXCIsXG4gICAgU3RhcnRfU2F2aW5nICAgICAgICAgPSBcIlN0YXJ0X1NhdmluZ1wiLFxuICAgIFN0YXJ0X0RlbGV0aW5nICAgICAgID0gXCJTdGFydF9EZWxldGluZ1wiLFxufVxuXG50eXBlIFN0YXRlX01hY2hpbmUgPSB7XG4gICAgW2tleSBpbiBUaW1lX0VudHJ5X1N0YXRlXToge1xuICAgICAgICBba2V5IGluIFRpbWVfRW50cnlfQWN0aW9uXT86IFRpbWVfRW50cnlfU3RhdGVcbiAgICB9XG59XG5jb25zdCBzdGF0ZV9tYWNoaW5lOiBTdGF0ZV9NYWNoaW5lID0ge1xuICAgIFtUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzXToge1xuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uQ3JlYXRpb25fUHJvZ3Jlc3Npb25dOiBUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzLFxuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uRm9ybV9DaGFuZ2VzXTogICAgICAgICBUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzLFxuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uRm9ybV9GaW5pc2hlZF06ICAgICAgICBUaW1lX0VudHJ5X1N0YXRlLlRvU2F2ZSxcbiAgICAgICAgW1RpbWVfRW50cnlfQWN0aW9uLkRlbGV0ZV06ICAgICAgICAgICAgICAgVGltZV9FbnRyeV9TdGF0ZS5Ub0RlbGV0ZSxcbiAgICB9LFxuICAgIFtUaW1lX0VudHJ5X1N0YXRlLlRvU2F2ZV06IHtcbiAgICAgICAgW1RpbWVfRW50cnlfQWN0aW9uLlN0YXJ0X1NhdmluZ106IFRpbWVfRW50cnlfU3RhdGUuU2F2aW5nLFxuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uU2F2ZV9FcnJvcl06ICAgVGltZV9FbnRyeV9TdGF0ZS5FcnJvcixcbiAgICB9LFxuICAgIFtUaW1lX0VudHJ5X1N0YXRlLlRvRGVsZXRlXToge1xuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uU3RhcnRfRGVsZXRpbmddOiBUaW1lX0VudHJ5X1N0YXRlLkRlbGV0aW5nLFxuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uU2F2ZV9FcnJvcl06ICAgICBUaW1lX0VudHJ5X1N0YXRlLkVycm9yLFxuICAgIH0sXG4gICAgW1RpbWVfRW50cnlfU3RhdGUuU3RhYmxlXToge1xuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uRm9ybV9GaW5pc2hlZF06ICAgICAgICBUaW1lX0VudHJ5X1N0YXRlLlRvU2F2ZSxcbiAgICAgICAgW1RpbWVfRW50cnlfQWN0aW9uLkRlbGV0ZV06ICAgICAgICAgICAgICAgVGltZV9FbnRyeV9TdGF0ZS5Ub0RlbGV0ZSxcbiAgICAgICAgW1RpbWVfRW50cnlfQWN0aW9uLkZvcm1fT3JfVGltZV9DaGFuZ2VzXTogVGltZV9FbnRyeV9TdGF0ZS5Jbl9Qcm9ncmVzcyxcbiAgICB9LFxuICAgIFtUaW1lX0VudHJ5X1N0YXRlLkVycm9yXToge1xuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uRm9ybV9Pcl9UaW1lX0NoYW5nZXNdOiBUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzLFxuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uRm9ybV9GaW5pc2hlZF06ICAgICAgICBUaW1lX0VudHJ5X1N0YXRlLlRvU2F2ZSxcbiAgICB9LFxuICAgIFtUaW1lX0VudHJ5X1N0YXRlLkRlbGV0aW5nXToge1xuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uU2F2ZV9TdWNjZXNzXTogVGltZV9FbnRyeV9TdGF0ZS5TdGFibGUsXG4gICAgICAgIFtUaW1lX0VudHJ5X0FjdGlvbi5TYXZlX0Vycm9yXTogICBUaW1lX0VudHJ5X1N0YXRlLkVycm9yLFxuICAgIH0sXG4gICAgW1RpbWVfRW50cnlfU3RhdGUuU2F2aW5nXToge1xuICAgICAgICBbVGltZV9FbnRyeV9BY3Rpb24uU2F2ZV9TdWNjZXNzXTogVGltZV9FbnRyeV9TdGF0ZS5TdGFibGUsXG4gICAgICAgIFtUaW1lX0VudHJ5X0FjdGlvbi5TYXZlX0Vycm9yXTogICBUaW1lX0VudHJ5X1N0YXRlLkVycm9yLFxuICAgIH0sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lX2VudHJ5X2V4ZWN1dGVfYWN0aW9uIChcbiAgICB0aW1lX2VudHJ5OiBUaW1lX0VudHJ5LFxuICAgIGFjdGlvbjogICAgIFRpbWVfRW50cnlfQWN0aW9uLFxuKTogVGltZV9FbnRyeSB7XG4gICAgY29uc3QgbXV0YXRlZF90aW1lX2VudHJ5ID0geyAuLi50aW1lX2VudHJ5IH1cbiAgICBjb25zdCBwb3NzaWJsZV9hY3Rpb25zID0gc3RhdGVfbWFjaGluZVt0aW1lX2VudHJ5LnN0YXRlXVxuICAgIGNvbnN0IG5ld19zdGF0ZSA9IHBvc3NpYmxlX2FjdGlvbnNbYWN0aW9uXVxuXG4gICAgaWYgKCFuZXdfc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVfZW50cnlcbiAgICB9XG5cbiAgICBtdXRhdGVkX3RpbWVfZW50cnkuc3RhdGUgPSBuZXdfc3RhdGVcbiAgICByZXR1cm4gbXV0YXRlZF90aW1lX2VudHJ5XG59XG4iLCJpbXBvcnQgeyBuZXdfcHJvamVjdCwgbmV3X3Rhc2sgfSBmcm9tIFwiLi4vcHJvamVjdFwiXG5pbXBvcnQgeyBkYXRlX2Zvcm1hdF9pc28sIGRhdGVfZm9ybWF0X3RpbWUgfSBmcm9tIFwiLi4veC9kYXRlXCJcbmltcG9ydCB7IHR5cGUgSFRUUCB9IGZyb20gXCIuLi94L2h0dHBcIlxuaW1wb3J0IHR5cGUgeyBEYXRlX0lTTywgVGltZV9TdHJpbmcgfSBmcm9tIFwiLi4veC90eXBlc1wiXG5pbXBvcnQgeyBUaW1lX0VudHJ5LCBUaW1lX0VudHJ5X1N0YXRlIH0gZnJvbSBcIi4vdGltZV9lbnRyeVwiXG5cbmV4cG9ydCBjbGFzcyBUaW1lX0VudHJ5X0FQSSB7XG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBwdWJsaWMgaHR0cDogICAgICAgIEhUVFAsXG4gICAgICAgIHB1YmxpYyBiYXNlX3VybDogICAgc3RyaW5nLFxuICAgICAgICBwdWJsaWMgZW1wbG95ZWVfaWQ6IG51bWJlcixcbiAgICApIHtcbiAgICAgICAgdGhpcy5hcGlfdXJsID0gYGVtcGxveWVlcy8ke2VtcGxveWVlX2lkfS90cmFja2VkdGltZXNgXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcGlfdXJsOiBzdHJpbmdcblxuICAgIC8vXG4gICAgLy8gRmV0Y2hpbmdcbiAgICAvL1xuICAgIHB1YmxpYyBhc3luYyBmZXRjaF90aW1lX2VudHJpZXMgKGZyb206IERhdGUsIHRvOiBEYXRlKTogUHJvbWlzZTxUaW1lX0VudHJ5W10+IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy51cmxfdHJhY2tlZF90aW1lcyhmcm9tLCB0bylcbiAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHRoaXMuaHR0cC5nZXQ8UmVzcG9uc2VfVHJhY2tlZF9UaW1lcz4odXJsKVxuICAgICAgICBjb25zdCB0aW1lX2VudHJpZXMgPSB0aW1lX2VudHJpZXNfZnJvbV9yZXNwb25zZShyZXNwLmJvZHkpXG5cbiAgICAgICAgcmV0dXJuIHRpbWVfZW50cmllc1xuICAgIH1cblxuICAgIHByaXZhdGUgdXJsX3RyYWNrZWRfdGltZXMgKGZyb206IERhdGUsIHRvOiBEYXRlKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLmFwaV91cmwsIHRoaXMuYmFzZV91cmwpXG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwic3RhcnRcIiwgZGF0ZV9mb3JtYXRfaXNvKGZyb20pKVxuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcImVuZFwiLCBkYXRlX2Zvcm1hdF9pc28odG8pKVxuICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKClcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFNhdmluZyAvIENyZWF0aW5nXG4gICAgLy9cbiAgICBwdWJsaWMgYXN5bmMgc2F2ZV90aW1lX2VudHJ5ICh0aW1lX2VudHJ5OiBUaW1lX0VudHJ5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMudXJsX3Bvc3RfdHJhY2tlZF90aW1lcygpXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aW1lX2VudHJ5X3RvX3Bvc3RfdHJhY2tlZF90aW1lcyh0aW1lX2VudHJ5LCB0aGlzLmVtcGxveWVlX2lkKVxuXG4gICAgICAgIGF3YWl0IHRoaXMuaHR0cC5wb3N0KHVybCwgcGF5bG9hZClcbiAgICB9XG5cbiAgICBwcml2YXRlIHVybF9wb3N0X3RyYWNrZWRfdGltZXMgKCkge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFwidHJhY2tlZHRpbWVzXCIsIHRoaXMuYmFzZV91cmwpXG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gVXBkYXRpbmdcbiAgICAvL1xuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVfdGltZV9lbnRyeSAodGltZV9lbnRyeTogVGltZV9FbnRyeSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLnVybF91cGRhdGVfdHJhY2tlZF90aW1lcyh0aW1lX2VudHJ5LmlkKVxuICAgICAgICAvLyBTaG91bGQgd2UgY3JlYXQgaXRzIG93biBtYXBwZXI/XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aW1lX2VudHJ5X3RvX3B1dF90cmFja2VkX3RpbWVzKHRpbWVfZW50cnkpXG4gICAgICAgIGF3YWl0IHRoaXMuaHR0cC5wdXQodXJsLCBwYXlsb2FkKVxuICAgIH1cblxuICAgIHByaXZhdGUgdXJsX3VwZGF0ZV90cmFja2VkX3RpbWVzIChpZDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtcInRyYWNrZWR0aW1lc1wiLCBpZF0uam9pbihcIi9cIilcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChwYXRoLCB0aGlzLmJhc2VfdXJsKVxuICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKClcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIERlbGV0aW5nXG4gICAgLy9cbiAgICBwdWJsaWMgYXN5bmMgZGVsZXRlX3RpbWVfZW50cnkgKHRpbWVfZW50cnk6IFRpbWVfRW50cnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy51cmxfZGVsZXRlX3RyYWNrZWRfdGltZXModGltZV9lbnRyeS5pZClcbiAgICAgICAgYXdhaXQgdGhpcy5odHRwLmRlbGV0ZSh1cmwpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cmxfZGVsZXRlX3RyYWNrZWRfdGltZXMgKGlkOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBwYXRoID0gW1widHJhY2tlZHRpbWVzXCIsIGlkXS5qb2luKFwiL1wiKVxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHBhdGgsIHRoaXMuYmFzZV91cmwpXG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKVxuICAgIH1cbn1cblxuaW50ZXJmYWNlIFJlc3BvbnNlX1RyYWNrZWRfVGltZXMge1xuICAgIGlkOiAgICAgICAgICAgICAgIG51bWJlciAvLyBlbXBsb3llZSBpZFxuICAgIHR5cGVzOiAgICAgICAgICAgIChcIldPUktJTkdfSE9VUlNcIiB8IFwiUFVCTElDX0hPTElEQVlcIilbXVxuICAgIGZpcnN0TmFtZTogICAgICAgIHN0cmluZ1xuICAgIGxhc3ROYW1lOiAgICAgICAgIHN0cmluZ1xuICAgIGxvY2tTdGF0dXM6ICAgICAgIHsgaWQ6IG51bWJlciB9IC8vIDE9bG9ja2VkLCAyPWVkaXRhYmxlXG4gICAgcHJvamVjdElkczogICAgICAgbnVsbFxuICAgIHRyYWNrZWRUaW1lc0RhdGU6IHtcbiAgICAgICAgZGF0ZTogICAgICAgICAgICAgICAgRGF0ZV9JU09cbiAgICAgICAgcGxhbm5lZFdvcmtpbmdIb3VyczogbnVtYmVyXG4gICAgICAgIHB1YmxpY0hvbGlkYXk6ICAgICAgIG51bGwgfCBzdHJpbmdcbiAgICAgICAgdHJhY2tlZFRpbWVzOiB7XG4gICAgICAgICAgICBpZDogICAgICAgbnVtYmVyXG4gICAgICAgICAgICBkYXRlOiAgICAgRGF0ZV9JU09cbiAgICAgICAgICAgIGVtcGxveWVlOiB7IGlkOiBudW1iZXIgfVxuICAgICAgICAgICAgc3RhcnQ6ICAgIFRpbWVfU3RyaW5nXG4gICAgICAgICAgICBlbmQ6ICAgICAgVGltZV9TdHJpbmdcbiAgICAgICAgICAgIG5vdGU6ICAgICBzdHJpbmcgLy8gLT4gZGVzY3JpcHRpb25cbiAgICAgICAgICAgIHN0YXR1czogICB7IGlkOiAxIH1cbiAgICAgICAgICAgIHByb2plY3Q6ICB7IGlkOiBudW1iZXIsIG5hbWU6IHN0cmluZyB9XG4gICAgICAgICAgICB0YXNrOiAgICAgeyBpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIGlzQmlsbGFibGU6IG51bGwgfVxuICAgICAgICAgICAgdHlwZTogICAgIFwiV09SS0lOR19IT1VSU1wiIHwgXCJQVUJMSUNfSE9MSURBWVwiIHwgXCJGTEVYSURBWVwiXG4gICAgICAgIH1bXVxuICAgIH1bXVxufVxuXG5jb25zdCB0aW1lX2VudHJ5X3R5cGUgPSB7XG4gICAgV09SS0lOR19IT1VSUzogIFwiV09SS0lOR19IT1VSU1wiLFxuICAgIFBVQkxJQ19IT0xJREFZOiBcIlBVQkxJQ19IT0xJREFZXCIsXG4gICAgRkxFWElEQVk6ICAgICAgIFwiRkxFWElEQVlcIixcbn0gYXMgY29uc3RcblxuZnVuY3Rpb24gdGltZV9lbnRyaWVzX2Zyb21fcmVzcG9uc2UgKHJlc3A6IFJlc3BvbnNlX1RyYWNrZWRfVGltZXMpOiBUaW1lX0VudHJ5W10ge1xuICAgIGNvbnN0IHRpbWVfZW50aXJlczogVGltZV9FbnRyeVtdID0gW11cblxuICAgIGZvciAoY29uc3QgdHRkIG9mIHJlc3AudHJhY2tlZFRpbWVzRGF0ZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHR0IG9mIHR0ZC50cmFja2VkVGltZXMpIHtcbiAgICAgICAgICAgIC8vIGRlYnVnZ2VyO1xuICAgICAgICAgICAgaWYgKHR0LnR5cGUgIT09IHRpbWVfZW50cnlfdHlwZS5XT1JLSU5HX0hPVVJTKSB7IGNvbnRpbnVlIH1cblxuICAgICAgICAgICAgY29uc3QgdGltZV9lbnRyeSA9IG5ldyBUaW1lX0VudHJ5KHtcbiAgICAgICAgICAgICAgICBpZDogICAgICAgICAgdHQuaWQsXG4gICAgICAgICAgICAgICAgc3RhcnQ6ICAgICAgIG5ldyBEYXRlKGAke3R0LmRhdGV9ICR7dHQuc3RhcnR9YCksXG4gICAgICAgICAgICAgICAgZW5kOiAgICAgICAgIG5ldyBEYXRlKGAke3R0LmRhdGV9ICR7dHQuZW5kfWApLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAgICAgICBUaW1lX0VudHJ5X1N0YXRlLlN0YWJsZSxcbiAgICAgICAgICAgICAgICBwcm9qZWN0OiAgICAgbmV3X3Byb2plY3QodHQucHJvamVjdC5pZCwgdHQucHJvamVjdC5uYW1lKSxcbiAgICAgICAgICAgICAgICB0YXNrOiAgICAgICAgbmV3X3Rhc2sodHQudGFzay5pZCwgdHQudGFzay5uYW1lKSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdHQubm90ZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aW1lX2VudGlyZXMucHVzaCh0aW1lX2VudHJ5KVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aW1lX2VudGlyZXNcbn1cblxuaW50ZXJmYWNlIFBvc3RfVHJhY2tlZF9UaW1lcyB7XG4gICAgZGF0ZTogICAgICAgICBEYXRlX0lTT1xuICAgIGVtcGxveWVlOiAgICAgeyBpZDogbnVtYmVyIH1cbiAgICB0cmFja2VkVGltZXM6IHtcbiAgICAgICAgc3RhcnQ6IFRpbWVfU3RyaW5nXG4gICAgICAgIGVuZDogICBUaW1lX1N0cmluZ1xuICAgICAgICBub3RlOiAgc3RyaW5nXG4gICAgICAgIHRhc2s6ICB7IGlkOiBudW1iZXIgfVxuICAgIH1bXVxufVxuXG5mdW5jdGlvbiB0aW1lX2VudHJ5X3RvX3Bvc3RfdHJhY2tlZF90aW1lcyAodGltZV9lbnRyeTogVGltZV9FbnRyeSwgZW1wbG95ZWVfaWQ6IG51bWJlcik6IFBvc3RfVHJhY2tlZF9UaW1lcyB7XG4gICAgaWYgKHRpbWVfZW50cnkudGFzayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRpbWVfZW50cnlfdG9fcG9zdF90cmFja2VkX3RpbWVzOiB0aW1lIGVudHJ5IG11c3QgaGF2ZSBhIHRhc2tcIilcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRlOiAgICAgICAgIGRhdGVfZm9ybWF0X2lzbyh0aW1lX2VudHJ5LnN0YXJ0KSxcbiAgICAgICAgZW1wbG95ZWU6ICAgICB7IGlkOiBlbXBsb3llZV9pZCB9LFxuICAgICAgICB0cmFja2VkVGltZXM6IFt7XG4gICAgICAgICAgICBzdGFydDogZGF0ZV9mb3JtYXRfdGltZSh0aW1lX2VudHJ5LnN0YXJ0KSxcbiAgICAgICAgICAgIGVuZDogICBkYXRlX2Zvcm1hdF90aW1lKHRpbWVfZW50cnkuZW5kKSxcbiAgICAgICAgICAgIG5vdGU6ICB0aW1lX2VudHJ5LmRlc2NyaXB0aW9uID8/IFwiXCIsXG4gICAgICAgICAgICB0YXNrOiAgeyBpZDogdGltZV9lbnRyeS50YXNrLmlkIH0sXG4gICAgICAgIH1dLFxuICAgIH1cbn1cblxuaW50ZXJmYWNlIFB1dF9UcmFja2VkX1RpbWVzIHtcbiAgICBkYXRlOiAgICAgICAgIERhdGVfSVNPXG4gICAgdHJhY2tlZFRpbWVzOiB7XG4gICAgICAgIHN0YXJ0OiBUaW1lX1N0cmluZ1xuICAgICAgICBlbmQ6ICAgVGltZV9TdHJpbmdcbiAgICAgICAgbm90ZTogIHN0cmluZ1xuICAgICAgICB0YXNrOiAgeyBpZDogbnVtYmVyIH1cbiAgICB9W11cbn1cblxuZnVuY3Rpb24gdGltZV9lbnRyeV90b19wdXRfdHJhY2tlZF90aW1lcyAodGltZV9lbnRyeTogVGltZV9FbnRyeSk6IFB1dF9UcmFja2VkX1RpbWVzIHtcbiAgICBpZiAodGltZV9lbnRyeS50YXNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidGltZV9lbnRyeV90b19wdXRfdHJhY2tlZF90aW1lczogdGltZSBlbnRyeSBtdXN0IGhhdmUgYSB0YXNrXCIpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0ZTogICAgICAgICBkYXRlX2Zvcm1hdF9pc28odGltZV9lbnRyeS5zdGFydCksXG4gICAgICAgIHRyYWNrZWRUaW1lczogW3tcbiAgICAgICAgICAgIHN0YXJ0OiBkYXRlX2Zvcm1hdF90aW1lKHRpbWVfZW50cnkuc3RhcnQpLFxuICAgICAgICAgICAgZW5kOiAgIGRhdGVfZm9ybWF0X3RpbWUodGltZV9lbnRyeS5lbmQpLFxuICAgICAgICAgICAgbm90ZTogIHRpbWVfZW50cnkuZGVzY3JpcHRpb24gPz8gXCJcIixcbiAgICAgICAgICAgIHRhc2s6ICB7IGlkOiB0aW1lX2VudHJ5LnRhc2s/LmlkIH0sXG4gICAgICAgIH1dLFxuICAgIH1cbn1cbiIsInR5cGUgTWV0aG9kID0gXCJHRVRcIiB8IFwiUE9TVFwiIHwgXCJQVVRcIiB8IFwiREVMRVRFXCJcbmV4cG9ydCB0eXBlIEpTT05fUmVzcG9uc2U8VD4gPSBPbWl0PFJlc3BvbnNlLCBcImJvZHlcIj4gJiB7IGJvZHk6IFQgfVxuXG5leHBvcnQgY2xhc3MgSFRUUCB7XG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBwdWJsaWMgand0OiBzdHJpbmdcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0PFQ+KHVybDogc3RyaW5nKTogUHJvbWlzZTxKU09OX1Jlc3BvbnNlPFQ+PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZldGNoPFQ+KFwiR0VUXCIsIHVybClcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZGVsZXRlPFQ+KHVybDogc3RyaW5nKTogUHJvbWlzZTxKU09OX1Jlc3BvbnNlPFQ+PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZldGNoPFQ+KFwiREVMRVRFXCIsIHVybClcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgcG9zdDxUPih1cmw6IHN0cmluZywgcGF5bG9hZD86IHVua25vd24pOiBQcm9taXNlPEpTT05fUmVzcG9uc2U8VD4+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2g8VD4oXCJQT1NUXCIsIHVybCwgcGF5bG9hZClcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgcHV0PFQ+KHVybDogc3RyaW5nLCBwYXlsb2FkPzogdW5rbm93bik6IFByb21pc2U8SlNPTl9SZXNwb25zZTxUPj4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaDxUPihcIlBVVFwiLCB1cmwsIHBheWxvYWQpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBBdXRoX0hlYWRlciAoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBCZWFyZXIgJHt0aGlzLmp3dH1gXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBmZXRjaDxUPihtZXRob2Q6IE1ldGhvZCwgdXJsOiBzdHJpbmcsIHBheWxvYWQ/OiB1bmtub3duKTogUHJvbWlzZTxKU09OX1Jlc3BvbnNlPFQ+PiB7XG4gICAgICAgIGxldCBib2R5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICAgICAgaWYgKHBheWxvYWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICB0aGlzLkF1dGhfSGVhZGVyKCksXG4gICAgICAgICAgICAgICAgQWNjZXB0OiAgICAgICAgIFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID49IDQwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaCBmYWlsZWQgYXQgdXJsPScke3VybH0nYClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJvZHlfdGV4dCA9IGF3YWl0IHJlc3AudGV4dCgpXG4gICAgICAgIC8vIGVzbGludCBkaWQgbm90IGxpa2UgaXQgYW5kIGRpZCBub3Qgd2FudCB0byBpbnZlc3QgbW9yZSB0aW1lIGludG8gaXRcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICBsZXQganNvbl9ib2R5ID0ge30gYXMgVFxuICAgICAgICBpZiAoYm9keV90ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGpzb25fYm9keSA9IEpTT04ucGFyc2UoYm9keV90ZXh0KSBhcyBUXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oeyBsZXZlbDogXCJlcnJvclwiLCBtc2c6IFwiZmV0Y2g6IGNvdWxkIG5vdCBwYXJzZSByZXNwb25zZSB0byBqc29uXCIsIG1ldGhvZCwgdXJsLCBlcnIsIGJvZHlfdGV4dCB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHlwZWRfcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAuLi5yZXNwLFxuICAgICAgICAgICAgYm9keToganNvbl9ib2R5XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHlwZWRfcmVzcG9uc2VcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBFbXBsb3llZV9BUEkgfSBmcm9tIFwiLi9lbXBsb3llZVwiXG5pbXBvcnQgeyBQcm9qZWN0X0FQSSB9IGZyb20gXCIuL3Byb2plY3RcIlxuaW1wb3J0IHsgVGltZV9FbnRyeV9BUEksIHR5cGUgVGltZV9FbnRyeSB9IGZyb20gXCIuL3RpbWVfZW50cnlcIlxuaW1wb3J0IHsgSFRUUCB9IGZyb20gXCIuL3gvaHR0cFwiXG5cbmV4cG9ydCBjbGFzcyBBUEkge1xuICAgIGNvbnN0cnVjdG9yIChcbiAgICAgICAgcHJpdmF0ZSBqd3Q6ICAgICAgc3RyaW5nID0gXCJcIixcbiAgICAgICAgcHJpdmF0ZSBiYXNlX3VybDogc3RyaW5nID0gXCJcIlxuICAgICkge1xuICAgICAgICBpZiAoand0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBjb25zdCBjbGFpbXMgPSBwYXJzZV9qd3Q8Q2xhaW1zPihqd3QpXG4gICAgICAgICAgICB0aGlzLmVtcGxveWVlX2lkID0gY2xhaW1zLmVtcGxveWVlSWRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaHR0cCA9IG5ldyBIVFRQKGp3dClcbiAgICAgICAgdGhpcy5lbXBsb3llZV9hcGkgPSBuZXcgRW1wbG95ZWVfQVBJKHRoaXMuaHR0cCwgYmFzZV91cmwpXG4gICAgICAgIHRoaXMucHJvamVjdF9hcGkgPSBuZXcgUHJvamVjdF9BUEkodGhpcy5odHRwLCBiYXNlX3VybCwgdGhpcy5lbXBsb3llZV9pZClcbiAgICAgICAgdGhpcy50aW1lX2VudHJ5X2FwaSA9IG5ldyBUaW1lX0VudHJ5X0FQSSh0aGlzLmh0dHAsIGJhc2VfdXJsLCB0aGlzLmVtcGxveWVlX2lkKVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgaHR0cDogICAgICAgICBIVFRQXG4gICAgcHJpdmF0ZSBwcm9qZWN0X2FwaTogICAgICAgICAgIFByb2plY3RfQVBJXG4gICAgcHJpdmF0ZSB0aW1lX2VudHJ5X2FwaTogICAgICAgIFRpbWVfRW50cnlfQVBJXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbXBsb3llZV9hcGk6IEVtcGxveWVlX0FQSVxuXG4gICAgcHVibGljIGVtcGxveWVlX2lkID0gLTFcbiAgICBwdWJsaWMgZmV0Y2hfcHJvamVjdHMgPSBhc3luYyAoZDogRGF0ZSA9IG5ldyBEYXRlKCkpID0+IGF3YWl0IHRoaXMucHJvamVjdF9hcGkuZmV0Y2hfcHJvamVjdHMoZClcbiAgICBwdWJsaWMgZmV0Y2hfdGltZV9lbnRpcmVzID0gYXN5bmMgKGY6IERhdGUsIHQ6IERhdGUpID0+IGF3YWl0IHRoaXMudGltZV9lbnRyeV9hcGkuZmV0Y2hfdGltZV9lbnRyaWVzKGYsIHQpXG4gICAgcHVibGljIHNhdmVfdGltZV9lbnRyeSA9IGFzeW5jICh0ZTogVGltZV9FbnRyeSkgPT4geyBhd2FpdCB0aGlzLnRpbWVfZW50cnlfYXBpLnNhdmVfdGltZV9lbnRyeSh0ZSkgfVxuICAgIHB1YmxpYyB1cGRhdGVfdGltZV9lbnRyeSA9IGFzeW5jICh0ZTogVGltZV9FbnRyeSkgPT4geyBhd2FpdCB0aGlzLnRpbWVfZW50cnlfYXBpLnVwZGF0ZV90aW1lX2VudHJ5KHRlKSB9XG4gICAgcHVibGljIGRlbGV0ZV90aW1lX2VudHJ5ID0gYXN5bmMgKHRlOiBUaW1lX0VudHJ5KSA9PiB7IGF3YWl0IHRoaXMudGltZV9lbnRyeV9hcGkuZGVsZXRlX3RpbWVfZW50cnkodGUpIH1cbiAgICBwdWJsaWMgZmV0Y2hfZW1wbG95ZWUgPSBhc3luYyAoaWQ6IG51bWJlcikgPT4gYXdhaXQgdGhpcy5lbXBsb3llZV9hcGkuZmV0Y2hfZW1wbG95ZWUoaWQpXG5cbiAgICBwdWJsaWMgc2V0X2Jhc2VfdXJsICh1cmw6IHN0cmluZykge1xuICAgICAgICB0aGlzLmJhc2VfdXJsID0gdXJsXG4gICAgICAgIHRoaXMucHJvamVjdF9hcGkuYmFzZV91cmwgPSB1cmxcbiAgICAgICAgdGhpcy5lbXBsb3llZV9hcGkuYmFzZV91cmwgPSB1cmxcbiAgICAgICAgdGhpcy50aW1lX2VudHJ5X2FwaS5iYXNlX3VybCA9IHVybFxuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcl9qd3QgKCkge1xuICAgICAgICB0aGlzLmp3dCA9IFwiXCJcbiAgICAgICAgdGhpcy5odHRwLmp3dCA9IFwiXCJcbiAgICB9XG5cbiAgICBwdWJsaWMgand0X3NldCAoand0OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5qd3QgPSBqd3RcbiAgICAgICAgdGhpcy5odHRwLmp3dCA9IHRoaXMuand0XG4gICAgICAgIGNvbnN0IGNsYWltcyA9IHBhcnNlX2p3dDxDbGFpbXM+KGp3dClcblxuICAgICAgICB0aGlzLmVtcGxveWVlX2lkID0gY2xhaW1zLmVtcGxveWVlSWRcbiAgICAgICAgdGhpcy5wcm9qZWN0X2FwaSA9IG5ldyBQcm9qZWN0X0FQSSh0aGlzLmh0dHAsIHRoaXMuYmFzZV91cmwsIHRoaXMuZW1wbG95ZWVfaWQpXG4gICAgICAgIHRoaXMudGltZV9lbnRyeV9hcGkgPSBuZXcgVGltZV9FbnRyeV9BUEkodGhpcy5odHRwLCB0aGlzLmJhc2VfdXJsLCB0aGlzLmVtcGxveWVlX2lkKVxuICAgIH1cblxuICAgIHB1YmxpYyBlbXBsb3llZV9pZF9zZXQgKGlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5lbXBsb3llZV9pZCA9IGlkXG4gICAgICAgIHRoaXMucHJvamVjdF9hcGkgPSBuZXcgUHJvamVjdF9BUEkodGhpcy5odHRwLCB0aGlzLmJhc2VfdXJsLCB0aGlzLmVtcGxveWVlX2lkKVxuICAgICAgICB0aGlzLnRpbWVfZW50cnlfYXBpID0gbmV3IFRpbWVfRW50cnlfQVBJKHRoaXMuaHR0cCwgdGhpcy5iYXNlX3VybCwgdGhpcy5lbXBsb3llZV9pZClcbiAgICB9XG5cbiAgICBwdWJsaWMgand0X2dldCAoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuand0XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2Vfand0PFQ+ICh0b2tlbj86IHN0cmluZyk6IFQge1xuICAgIGlmICghdG9rZW4gfHwgdG9rZW4gPT09IFwiXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm93IHRva2VuIHRvIHBhcnNlXCIpXG4gICAgfVxuXG4gICAgY29uc3QgYmFzZTY0X3VybCA9IHRva2VuLnNwbGl0KFwiLlwiKVsxXVxuICAgIGNvbnN0IGJhc2U2NCA9IGJhc2U2NF91cmwucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIilcbiAgICBjb25zdCBqc29uX3BheWxvYWQgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmF0b2IoYmFzZTY0KS5zcGxpdChcIlwiKS5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuIFwiJVwiICsgKFwiMDBcIiArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKVxuICAgIH0pLmpvaW4oXCJcIikpXG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uX3BheWxvYWQpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xhaW1zIHtcbiAgICBlbXBsb3llZUlkOiBudW1iZXJcbn1cbiIsImltcG9ydCB7IGdldENvbnRleHQsIHNldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCJcbmltcG9ydCB7IEFQSSB9IGZyb20gXCIuL2FwaVwiXG5cbmNvbnN0IGNvbnRleHRfa2V5ID0ge31cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRleHRfYXBpX2NyZWF0ZSAoKSB7XG4gICAgc2V0Q29udGV4dChjb250ZXh0X2tleSwgbmV3IEFQSSgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGV4dF9hcGlfZ2V0ICgpOiBBUEkge1xuICAgIHJldHVybiBnZXRDb250ZXh0PEFQST4oY29udGV4dF9rZXkpXG59XG4iLCIvKipcbiAqIEF1dGhNb2R1bGUgZm9yIGFwcGxpY2F0aW9uIC0gaGFuZGxlcyBhdXRoZW50aWNhdGlvbiBpbiBhcHAuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRoX01vZHVsZSB7XG4gICAgcHVibGljIGp3dF9nZXQgKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGp3dCA9IHRoaXMuZ2V0X0pXVF9mcm9tX2xvY2FsX3N0b3JhZ2UoKVxuICAgICAgICBpZiAoIWp3dCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gand0XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgand0X3N0b3JhZ2Vfa2V5ID0gXCJhdXRoVG9rZW5cIlxuXG4gICAgcHJpdmF0ZSBnZXRfSldUX2Zyb21fbG9jYWxfc3RvcmFnZSAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShBdXRoX01vZHVsZS5qd3Rfc3RvcmFnZV9rZXkpXG4gICAgfVxufVxuIiwiXG5leHBvcnQgZnVuY3Rpb24ga2V5RW50ZXIoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcgPyBmbi5jYWxsKHRoaXMsIGUpIDogdW5kZWZpbmVkO1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidG5UZXh0RGF5KHRleHQpIHtcbiAgICByZXR1cm4gYnRuVGV4dCh0ZXh0LCAnZGF5Jyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidG5UZXh0V2Vlayh0ZXh0KSB7XG4gICAgcmV0dXJuIGJ0blRleHQodGV4dCwgJ3dlZWsnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ0blRleHRNb250aCh0ZXh0KSB7XG4gICAgcmV0dXJuIGJ0blRleHQodGV4dCwgJ21vbnRoJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidG5UZXh0WWVhcih0ZXh0KSB7XG4gICAgcmV0dXJuIGJ0blRleHQodGV4dCwgJ3llYXInKTtcbn1cblxuZnVuY3Rpb24gYnRuVGV4dCh0ZXh0LCBwZXJpb2QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50ZXh0LFxuICAgICAgICBuZXh0OiAnTmV4dCAnICsgcGVyaW9kLFxuICAgICAgICBwcmV2OiAnUHJldmlvdXMgJyArIHBlcmlvZFxuICAgIH07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gYXNzaWduKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbiguLi5hcmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKHZhbHVlKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWluKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gTWF0aC5taW4oLi4uYXJncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgoLi4uYXJncykge1xuICAgIHJldHVybiBNYXRoLm1heCguLi5hcmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHRlc3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRlc3QgPT09ICdvYmplY3QnICYmIHRlc3QgIT09IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzeW1ib2woKSB7XG4gICAgcmV0dXJuIFN5bWJvbCgnZWMnKTtcbn1cbiIsImltcG9ydCB7aXNPYmplY3R9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGVudChub2RlLCBjb250ZW50KSB7XG4gICAgbGV0IGFjdGlvbnMgPSB7XG4gICAgICAgIHVwZGF0ZShjb250ZW50KSB7XG4gICAgICAgICAgICB3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmxhc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5pbm5lclRleHQgPSBjb250ZW50O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50LmRvbU5vZGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgY29udGVudC5kb21Ob2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnQuaHRtbCkge1xuICAgICAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MID0gY29udGVudC5odG1sO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBhY3Rpb25zLnVwZGF0ZShjb250ZW50KTtcblxuICAgIHJldHVybiBhY3Rpb25zO1xufVxuXG4vKiogRGlzcGF0Y2ggZXZlbnQgb2NjdXJyZWQgb3V0c2lkZSBvZiBub2RlICovXG5leHBvcnQgZnVuY3Rpb24gb3V0c2lkZUV2ZW50KG5vZGUsIHR5cGUpIHtcblxuICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0ganNFdmVudCA9PiB7XG4gICAgICAgIGlmIChub2RlICYmICFub2RlLmNvbnRhaW5zKGpzRXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudCh0eXBlICsgJ291dHNpZGUnLCB7ZGV0YWlsOiB7anNFdmVudH19KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZVBvaW50ZXJEb3duLCB0cnVlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZVBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCJleHBvcnQgY29uc3QgREFZX0lOX1NFQ09ORFMgPSA4NjQwMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURhdGUoaW5wdXQgPSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaW5wdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlID8gX2Zyb21Mb2NhbERhdGUoaW5wdXQpIDogX2Zyb21JU09TdHJpbmcoaW5wdXQpO1xuICAgIH1cblxuICAgIHJldHVybiBfZnJvbUxvY2FsRGF0ZShuZXcgRGF0ZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uKGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5wdXQgPSB7c2Vjb25kczogaW5wdXR9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBFeHBlY3RlZCBmb3JtYXQgaGhbOm1tWzpzc11dXG4gICAgICAgIGxldCBzZWNvbmRzID0gMCwgZXhwID0gMjtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiBpbnB1dC5zcGxpdCgnOicsIDMpKSB7XG4gICAgICAgICAgICBzZWNvbmRzICs9IHBhcnNlSW50KHBhcnQsIDEwKSAqIE1hdGgucG93KDYwLCBleHAtLSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSB7c2Vjb25kc307XG4gICAgfSBlbHNlIGlmIChpbnB1dCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgaW5wdXQgPSB7aG91cnM6IGlucHV0LmdldFVUQ0hvdXJzKCksIG1pbnV0ZXM6IGlucHV0LmdldFVUQ01pbnV0ZXMoKSwgc2Vjb25kczogaW5wdXQuZ2V0VVRDU2Vjb25kcygpfTtcbiAgICB9XG5cbiAgICBsZXQgd2Vla3MgPSBpbnB1dC53ZWVrcyB8fCBpbnB1dC53ZWVrIHx8IDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyczogaW5wdXQueWVhcnMgfHwgaW5wdXQueWVhciB8fCAwLFxuICAgICAgICBtb250aHM6IGlucHV0Lm1vbnRocyB8fCBpbnB1dC5tb250aCB8fCAwLFxuICAgICAgICBkYXlzOiB3ZWVrcyAqIDcgKyAoaW5wdXQuZGF5cyB8fCBpbnB1dC5kYXkgfHwgMCksXG4gICAgICAgIHNlY29uZHM6IChpbnB1dC5ob3VycyB8fCBpbnB1dC5ob3VyIHx8IDApICogNjAgKiA2MCArXG4gICAgICAgICAgICAoaW5wdXQubWludXRlcyB8fCBpbnB1dC5taW51dGUgfHwgMCkgKiA2MCArXG4gICAgICAgICAgICAoaW5wdXQuc2Vjb25kcyB8fCBpbnB1dC5zZWNvbmQgfHwgMCksXG4gICAgICAgIGluV2Vla3M6ICEhd2Vla3NcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEYXRlKGRhdGUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRHVyYXRpb24oZGF0ZSwgZHVyYXRpb24sIHggPSAxKSB7XG4gICAgZGF0ZS5zZXRVVENGdWxsWWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkgKyB4ICogZHVyYXRpb24ueWVhcnMpO1xuICAgIGxldCBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIHggKiBkdXJhdGlvbi5tb250aHM7XG4gICAgZGF0ZS5zZXRVVENNb250aChtb250aCk7XG4gICAgbW9udGggJT0gMTI7XG4gICAgaWYgKG1vbnRoIDwgMCkge1xuICAgICAgICBtb250aCArPSAxMjtcbiAgICB9XG4gICAgd2hpbGUgKGRhdGUuZ2V0VVRDTW9udGgoKSAhPT0gbW9udGgpIHtcbiAgICAgICAgc3VidHJhY3REYXkoZGF0ZSk7XG4gICAgfVxuICAgIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSArIHggKiBkdXJhdGlvbi5kYXlzKTtcbiAgICBkYXRlLnNldFVUQ1NlY29uZHMoZGF0ZS5nZXRVVENTZWNvbmRzKCkgKyB4ICogZHVyYXRpb24uc2Vjb25kcyk7XG5cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0RHVyYXRpb24oZGF0ZSwgZHVyYXRpb24sIHggPSAxKSB7XG4gICAgcmV0dXJuIGFkZER1cmF0aW9uKGRhdGUsIGR1cmF0aW9uLCAteCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGREYXkoZGF0ZSwgeCA9IDEpIHtcbiAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgKyB4KTtcblxuICAgIHJldHVybiBkYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3REYXkoZGF0ZSwgeCA9IDEpIHtcbiAgICByZXR1cm4gYWRkRGF5KGRhdGUsIC14KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1pZG5pZ2h0KGRhdGUpIHtcbiAgICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0xvY2FsRGF0ZShkYXRlKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgICBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICAgIGRhdGUuZ2V0VVRDTW9udGgoKSxcbiAgICAgICAgZGF0ZS5nZXRVVENEYXRlKCksXG4gICAgICAgIGRhdGUuZ2V0VVRDSG91cnMoKSxcbiAgICAgICAgZGF0ZS5nZXRVVENNaW51dGVzKCksXG4gICAgICAgIGRhdGUuZ2V0VVRDU2Vjb25kcygpXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvSVNPU3RyaW5nKGRhdGUpIHtcbiAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxOSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRSYW5nZShzdGFydCwgZW5kLCBpbnRsKSB7XG4gICAgaWYgKHN0YXJ0LmdldEZ1bGxZZWFyKCkgIT09IGVuZC5nZXRGdWxsWWVhcigpKSB7XG4gICAgICAgIHJldHVybiBpbnRsLmZvcm1hdChzdGFydCkgKyAnIC0gJyArIGludGwuZm9ybWF0KGVuZCk7XG4gICAgfVxuXG4gICAgbGV0IGRpZmYgPSBbXTtcbiAgICBpZiAoc3RhcnQuZ2V0TW9udGgoKSAhPT0gZW5kLmdldE1vbnRoKCkpIHtcbiAgICAgICAgZGlmZi5wdXNoKCdtb250aCcpO1xuICAgIH1cbiAgICBpZiAoc3RhcnQuZ2V0RGF0ZSgpICE9PSBlbmQuZ2V0RGF0ZSgpKSB7XG4gICAgICAgIGRpZmYucHVzaCgnZGF5Jyk7XG4gICAgfVxuXG4gICAgaWYgKCFkaWZmLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gaW50bC5mb3JtYXQoc3RhcnQpO1xuICAgIH1cblxuICAgIGxldCBvcHRzMSA9IGludGwucmVzb2x2ZWRPcHRpb25zKCk7XG4gICAgbGV0IG9wdHMyID0ge307XG4gICAgZm9yIChsZXQga2V5IG9mIGRpZmYpIHtcbiAgICAgICAgb3B0czJba2V5XSA9IG9wdHMxW2tleV07XG4gICAgfVxuICAgIGxldCBpbnRsMiA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KG9wdHMxLmxvY2FsZSwgb3B0czIpO1xuXG4gICAgbGV0IGZ1bGwxID0gaW50bC5mb3JtYXQoc3RhcnQpO1xuICAgIGxldCBmdWxsMiA9IGludGwuZm9ybWF0KGVuZCk7XG4gICAgbGV0IHBhcnQxID0gaW50bDIuZm9ybWF0KHN0YXJ0KTtcbiAgICBsZXQgcGFydDIgPSBpbnRsMi5mb3JtYXQoZW5kKTtcblxuICAgIGxldCBjb21tb24gPSBfY29tbW9uQ2h1bmtzKGZ1bGwxLCBwYXJ0MSwgZnVsbDIsIHBhcnQyKTtcbiAgICBpZiAoY29tbW9uKSB7XG4gICAgICAgIHJldHVybiBjb21tb24uaGVhZCArIHBhcnQxICsgJyAtICcgKyBwYXJ0MiArIGNvbW1vbi50YWlsO1xuICAgIH1cblxuICAgIHJldHVybiBmdWxsMSArICcgLSAnICsgZnVsbDI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRlc0VxdWFsKGRhdGUxLCAuLi5kYXRlczIpIHtcbiAgICByZXR1cm4gZGF0ZXMyLmV2ZXJ5KGRhdGUyID0+IGRhdGUxLmdldFRpbWUoKSA9PT0gZGF0ZTIuZ2V0VGltZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDbG9zZXN0RGF5KGRhdGUsIGRheSkge1xuICAgIGxldCBkaWZmID0gZGF5IC0gZGF0ZS5nZXRVVENEYXkoKTtcbiAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgKyAoZGlmZiA+PSAwID8gZGlmZiA6IGRpZmYgKyA3KSk7XG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmV2Q2xvc2VzdERheShkYXRlLCBkYXkpIHtcbiAgICBsZXQgZGlmZiA9IGRheSAtIGRhdGUuZ2V0VVRDRGF5KCk7XG4gICAgZGF0ZS5zZXRVVENEYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpICsgKGRpZmYgPD0gMCA/IGRpZmYgOiBkaWZmIC0gNykpO1xuICAgIHJldHVybiBkYXRlO1xufVxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgZ2l2ZW4gZGF0ZSBpcyBzdHJpbmcgd2hpY2ggY29udGFpbnMgbm8gdGltZSBwYXJ0XG4gICovXG5leHBvcnQgZnVuY3Rpb24gbm9UaW1lUGFydChkYXRlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJyAmJiBkYXRlLmxlbmd0aCA8PSAxMDtcbn1cblxuLyoqXG4gKiBQcml2YXRlIGZ1bmN0aW9uc1xuICovXG5cbmZ1bmN0aW9uIF9mcm9tTG9jYWxEYXRlKGRhdGUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoXG4gICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgZGF0ZS5nZXRNb250aCgpLFxuICAgICAgICBkYXRlLmdldERhdGUoKSxcbiAgICAgICAgZGF0ZS5nZXRIb3VycygpLFxuICAgICAgICBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgZGF0ZS5nZXRTZWNvbmRzKClcbiAgICApKTtcbn1cblxuZnVuY3Rpb24gX2Zyb21JU09TdHJpbmcoc3RyKSB7XG4gICAgY29uc3QgcGFydHMgPSBzdHIubWF0Y2goL1xcZCsvZyk7XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKFxuICAgICAgICBOdW1iZXIocGFydHNbMF0pLFxuICAgICAgICBOdW1iZXIocGFydHNbMV0pIC0gMSxcbiAgICAgICAgTnVtYmVyKHBhcnRzWzJdKSxcbiAgICAgICAgTnVtYmVyKHBhcnRzWzNdIHx8IDApLFxuICAgICAgICBOdW1iZXIocGFydHNbNF0gfHwgMCksXG4gICAgICAgIE51bWJlcihwYXJ0c1s1XSB8fCAwKVxuICAgICkpO1xufVxuXG5mdW5jdGlvbiBfY29tbW9uQ2h1bmtzKHN0cjEsIHN1YnN0cjEsIHN0cjIsIHN1YnN0cjIpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBzdHIxLmxlbmd0aCkge1xuICAgICAgICBsZXQgcmVzMTtcbiAgICAgICAgW2ksIHJlczFdID0gX2N1dChzdHIxLCBzdWJzdHIxLCBpKTtcbiAgICAgICAgaWYgKCFyZXMxKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBqID0gMDtcbiAgICAgICAgd2hpbGUgKGogPCBzdHIyLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHJlczI7XG4gICAgICAgICAgICBbaiwgcmVzMl0gPSBfY3V0KHN0cjIsIHN1YnN0cjIsIGopO1xuICAgICAgICAgICAgaWYgKCFyZXMyKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXMxLmhlYWQgPT09IHJlczIuaGVhZCAmJiByZXMxLnRhaWwgPT09IHJlczIudGFpbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbn1cblxuZnVuY3Rpb24gX2N1dChzdHIsIHN1YnN0ciwgZnJvbSkge1xuICAgIGxldCBzdGFydCA9IHN0ci5pbmRleE9mKHN1YnN0ciwgZnJvbSk7XG4gICAgaWYgKHN0YXJ0ID49IDApIHtcbiAgICAgICAgbGV0IGVuZCA9IHN0YXJ0ICsgc3Vic3RyLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gW2VuZCwge1xuICAgICAgICAgICAgaGVhZDogc3RyLnN1YnN0cigwLCBzdGFydCksXG4gICAgICAgICAgICB0YWlsOiBzdHIuc3Vic3RyKGVuZClcbiAgICAgICAgfV07XG4gICAgfVxuXG4gICAgcmV0dXJuIFstMSwgbnVsbF07XG59XG4iLCJpbXBvcnQge3J1bl9hbGx9IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmbiwgaGFuZGxlLCBxdWV1ZVN0b3JlKSB7XG4gICAgcXVldWVTdG9yZS51cGRhdGUocXVldWUgPT4gcXVldWUuc2V0KGhhbmRsZSwgZm4pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoRGVib3VuY2UocXVldWUpIHtcbiAgICBydW5fYWxsKHF1ZXVlKTtcbiAgICBxdWV1ZS5jbGVhcigpO1xufVxuIiwiaW1wb3J0IHtzeW1ib2x9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWcsIGNsYXNzTmFtZSwgaHRtbCwgdGV4dCkge1xuICAgIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgaWYgKGh0bWwpIHtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9IGVsc2UgaWYgKHRleHQpIHtcbiAgICAgICAgZWwuaW5uZXJUZXh0ID0gdGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzWVNjcm9sbChlbCkge1xuICAgIHJldHVybiBlbC5zY3JvbGxIZWlnaHQgPiBlbC5jbGllbnRIZWlnaHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWN0KGVsKSB7XG4gICAgcmV0dXJuIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYW5jZXN0b3IoZWwsIHVwKSB7XG4gICAgd2hpbGUgKHVwLS0pIHtcbiAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoZWlnaHQoZWwpIHtcbiAgICByZXR1cm4gcmVjdChlbCkuaGVpZ2h0O1xufVxuXG5sZXQgcGF5bG9hZFByb3AgPSBzeW1ib2woKTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRQYXlsb2FkKGVsLCBwYXlsb2FkKSB7XG4gICAgZWxbcGF5bG9hZFByb3BdID0gcGF5bG9hZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1BheWxvYWQoZWwpIHtcbiAgICByZXR1cm4gISFlbD8uW3BheWxvYWRQcm9wXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBheWxvYWQoZWwpIHtcbiAgICByZXR1cm4gZWxbcGF5bG9hZFByb3BdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFdpdGhQYXlsb2FkKHgsIHksIHJvb3QgPSBkb2N1bWVudCkge1xuICAgIGZvciAobGV0IGVsIG9mIHJvb3QuZWxlbWVudHNGcm9tUG9pbnQoeCwgeSkpIHtcbiAgICAgICAgaWYgKGhhc1BheWxvYWQoZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZrdXJrby9jYWxlbmRhci9pc3N1ZXMvMTQyICovXG4gICAgICAgIGlmIChlbC5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBsZXQgc2hhZG93RWwgPSBnZXRFbGVtZW50V2l0aFBheWxvYWQoeCwgeSwgZWwuc2hhZG93Um9vdCk7XG4gICAgICAgICAgICBpZiAoc2hhZG93RWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhZG93RWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCJpbXBvcnQge2Fzc2lnbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge3RvTG9jYWxEYXRlfSBmcm9tICcuL2RhdGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmlldyh2aWV3LCBfdmlld1RpdGxlLCBfY3VycmVudFJhbmdlLCBfYWN0aXZlUmFuZ2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB2aWV3LFxuICAgICAgICB0aXRsZTogX3ZpZXdUaXRsZSxcbiAgICAgICAgY3VycmVudFN0YXJ0OiBfY3VycmVudFJhbmdlLnN0YXJ0LFxuICAgICAgICBjdXJyZW50RW5kOiBfY3VycmVudFJhbmdlLmVuZCxcbiAgICAgICAgYWN0aXZlU3RhcnQ6IF9hY3RpdmVSYW5nZS5zdGFydCxcbiAgICAgICAgYWN0aXZlRW5kOiBfYWN0aXZlUmFuZ2UuZW5kLFxuICAgICAgICBjYWxlbmRhcjogdW5kZWZpbmVkXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvVmlld1dpdGhMb2NhbERhdGVzKHZpZXcpIHtcbiAgICB2aWV3ID0gYXNzaWduKHt9LCB2aWV3KTtcbiAgICB2aWV3LmN1cnJlbnRTdGFydCA9IHRvTG9jYWxEYXRlKHZpZXcuY3VycmVudFN0YXJ0KTtcbiAgICB2aWV3LmN1cnJlbnRFbmQgPSB0b0xvY2FsRGF0ZSh2aWV3LmN1cnJlbnRFbmQpO1xuICAgIHZpZXcuYWN0aXZlU3RhcnQgPSB0b0xvY2FsRGF0ZSh2aWV3LmFjdGl2ZVN0YXJ0KTtcbiAgICB2aWV3LmFjdGl2ZUVuZCA9IHRvTG9jYWxEYXRlKHZpZXcuYWN0aXZlRW5kKTtcblxuICAgIHJldHVybiB2aWV3O1xufSIsImltcG9ydCB7YWRkRGF5LCBkYXRlc0VxdWFsLCBjcmVhdGVEYXRlLCBjbG9uZURhdGUsIHNldE1pZG5pZ2h0LCB0b0xvY2FsRGF0ZSwgbm9UaW1lUGFydH0gZnJvbSAnLi9kYXRlJztcbmltcG9ydCB7Y3JlYXRlRWxlbWVudH0gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHthc3NpZ259IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHt0b1ZpZXdXaXRoTG9jYWxEYXRlc30gZnJvbSAnLi92aWV3JztcbmltcG9ydCB7aXNfZnVuY3Rpb259IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG5cbmxldCBldmVudElkID0gMTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudHMoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQubWFwKGV2ZW50ID0+ICh7XG4gICAgICAgIGlkOiAnaWQnIGluIGV2ZW50ID8gU3RyaW5nKGV2ZW50LmlkKSA6IGB7Z2VuZXJhdGVkLSR7ZXZlbnRJZCsrfX1gLFxuICAgICAgICByZXNvdXJjZUlkczogQXJyYXkuaXNBcnJheShldmVudC5yZXNvdXJjZUlkcylcbiAgICAgICAgICAgID8gZXZlbnQucmVzb3VyY2VJZHMubWFwKFN0cmluZylcbiAgICAgICAgICAgIDogKCdyZXNvdXJjZUlkJyBpbiBldmVudCA/IFtTdHJpbmcoZXZlbnQucmVzb3VyY2VJZCldIDogW10pLFxuICAgICAgICBhbGxEYXk6IGV2ZW50LmFsbERheSA/PyAobm9UaW1lUGFydChldmVudC5zdGFydCkgJiYgbm9UaW1lUGFydChldmVudC5lbmQpKSxcbiAgICAgICAgc3RhcnQ6IGNyZWF0ZURhdGUoZXZlbnQuc3RhcnQpLFxuICAgICAgICBlbmQ6IGNyZWF0ZURhdGUoZXZlbnQuZW5kKSxcbiAgICAgICAgdGl0bGU6IGV2ZW50LnRpdGxlIHx8ICcnLFxuICAgICAgICB0aXRsZUhUTUw6IGV2ZW50LnRpdGxlSFRNTCB8fCAnJyxcbiAgICAgICAgZWRpdGFibGU6IGV2ZW50LmVkaXRhYmxlLFxuICAgICAgICBzdGFydEVkaXRhYmxlOiBldmVudC5zdGFydEVkaXRhYmxlLFxuICAgICAgICBkdXJhdGlvbkVkaXRhYmxlOiBldmVudC5kdXJhdGlvbkVkaXRhYmxlLFxuICAgICAgICBkaXNwbGF5OiBldmVudC5kaXNwbGF5IHx8ICdhdXRvJyxcbiAgICAgICAgZXh0ZW5kZWRQcm9wczogZXZlbnQuZXh0ZW5kZWRQcm9wcyB8fCB7fSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBldmVudC5iYWNrZ3JvdW5kQ29sb3IgfHwgZXZlbnQuY29sb3IsXG4gICAgICAgIHRleHRDb2xvcjogZXZlbnQudGV4dENvbG9yXG4gICAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnRTb3VyY2VzKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0Lm1hcChzb3VyY2UgPT4gKHtcbiAgICAgICAgZXZlbnRzOiBzb3VyY2UuZXZlbnRzLFxuICAgICAgICB1cmw6IChzb3VyY2UudXJsICYmIHNvdXJjZS51cmwudHJpbUVuZCgnJicpKSB8fCAnJyxcbiAgICAgICAgbWV0aG9kOiAoc291cmNlLm1ldGhvZCAmJiBzb3VyY2UubWV0aG9kLnRvVXBwZXJDYXNlKCkpIHx8ICdHRVQnLFxuICAgICAgICBleHRyYVBhcmFtczogc291cmNlLmV4dHJhUGFyYW1zIHx8IHt9XG4gICAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnRDaHVuayhldmVudCwgc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBldmVudC5zdGFydCA+IHN0YXJ0ID8gZXZlbnQuc3RhcnQgOiBzdGFydCxcbiAgICAgICAgZW5kOiBldmVudC5lbmQgPCBlbmQgPyBldmVudC5lbmQgOiBlbmQsXG4gICAgICAgIGV2ZW50XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRFdmVudENodW5rcyhjaHVua3MpIHtcbiAgICAvLyBTb3J0IGJ5IHN0YXJ0IGRhdGUgKGFsbC1kYXkgZXZlbnRzIGFsd2F5cyBvbiB0b3ApXG4gICAgY2h1bmtzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnQgLSBiLnN0YXJ0IHx8IGIuZXZlbnQuYWxsRGF5IC0gYS5ldmVudC5hbGxEYXkpO1xufVxuXG4vKipcbiAqIFByZXBhcmUgZXZlbnQgY2h1bmtzIGZvciBtb250aCB2aWV3IGFuZCBhbGwtZGF5IHNsb3QgaW4gd2VlayB2aWV3XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlRXZlbnRDaHVua3MoY2h1bmtzLCBoaWRkZW5EYXlzKSB7XG4gICAgbGV0IGxvbmdDaHVua3MgPSB7fTtcblxuICAgIGlmIChjaHVua3MubGVuZ3RoKSB7XG4gICAgICAgIHNvcnRFdmVudENodW5rcyhjaHVua3MpO1xuXG4gICAgICAgIGxldCBwcmV2Q2h1bms7XG4gICAgICAgIGZvciAobGV0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICAgICAgbGV0IGRhdGVzID0gW107XG4gICAgICAgICAgICBsZXQgZGF0ZSA9IHNldE1pZG5pZ2h0KGNsb25lRGF0ZShjaHVuay5zdGFydCkpO1xuICAgICAgICAgICAgd2hpbGUgKGNodW5rLmVuZCA+IGRhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbkRheXMuaW5jbHVkZXMoZGF0ZS5nZXRVVENEYXkoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZXMucHVzaChjbG9uZURhdGUoZGF0ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvbmdDaHVua3Nba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDaHVua3Nba2V5XS5jaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDaHVua3Nba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtzOiBbY2h1bmtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGREYXkoZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsuZGF0ZSA9IGRhdGVzWzBdO1xuICAgICAgICAgICAgICAgIGNodW5rLmRheXMgPSBkYXRlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY2h1bmsuZGF0ZXMgPSBkYXRlcztcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmsuc3RhcnQgPCBkYXRlc1swXSkge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5zdGFydCA9IGRhdGVzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2V0TWlkbmlnaHQoY2xvbmVEYXRlKGNodW5rLmVuZCkpID4gZGF0ZXNbZGF0ZXMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsuZW5kID0gZGF0ZXNbZGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaHVuay5kYXRlID0gc2V0TWlkbmlnaHQoY2xvbmVEYXRlKGNodW5rLnN0YXJ0KSk7XG4gICAgICAgICAgICAgICAgY2h1bmsuZGF5cyA9IDE7XG4gICAgICAgICAgICAgICAgY2h1bmsuZGF0ZXMgPSBbY2h1bmsuZGF0ZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2Q2h1bmsgJiYgZGF0ZXNFcXVhbChwcmV2Q2h1bmsuZGF0ZSwgY2h1bmsuZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjaHVuay5wcmV2ID0gcHJldkNodW5rO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldkNodW5rID0gY2h1bms7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbG9uZ0NodW5rcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcG9zaXRpb25FdmVudChjaHVuaywgbG9uZ0NodW5rcywgaGVpZ2h0KSB7XG4gICAgY2h1bmsudG9wID0gMDtcbiAgICBpZiAoY2h1bmsucHJldikge1xuICAgICAgICBjaHVuay50b3AgPSBjaHVuay5wcmV2LmJvdHRvbSArIDE7XG4gICAgfVxuICAgIGNodW5rLmJvdHRvbSA9IGNodW5rLnRvcCArIGhlaWdodDtcbiAgICBsZXQgbWFyZ2luID0gMTtcbiAgICBsZXQga2V5ID0gY2h1bmsuZGF0ZS5nZXRUaW1lKCk7XG4gICAgaWYgKGxvbmdDaHVua3Nba2V5XT8uc29ydGVkIHx8IGxvbmdDaHVua3Nba2V5XT8uY2h1bmtzLmV2ZXJ5KGNodW5rID0+ICd0b3AnIGluIGNodW5rKSkge1xuICAgICAgICBpZiAoIWxvbmdDaHVua3Nba2V5XS5zb3J0ZWQpIHtcbiAgICAgICAgICAgIGxvbmdDaHVua3Nba2V5XS5jaHVua3Muc29ydCgoYSwgYikgPT4gYS50b3AgLSBiLnRvcCk7XG4gICAgICAgICAgICBsb25nQ2h1bmtzW2tleV0uc29ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBsb25nQ2h1bmsgb2YgbG9uZ0NodW5rc1trZXldLmNodW5rcykge1xuICAgICAgICAgICAgaWYgKGNodW5rLnRvcCA8IGxvbmdDaHVuay5ib3R0b20gJiYgY2h1bmsuYm90dG9tID4gbG9uZ0NodW5rLnRvcCkge1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSBsb25nQ2h1bmsuYm90dG9tIC0gY2h1bmsudG9wICsgMTtcbiAgICAgICAgICAgICAgICBtYXJnaW4gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGNodW5rLnRvcCArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgY2h1bmsuYm90dG9tICs9IG9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXJnaW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudENvbnRlbnQoY2h1bmssIGRpc3BsYXlFdmVudEVuZCwgZXZlbnRDb250ZW50LCB0aGVtZSwgX2ludGxFdmVudFRpbWUsIF92aWV3KSB7XG4gICAgbGV0IHRpbWVUZXh0ID0gX2ludGxFdmVudFRpbWUuZm9ybWF0KGNodW5rLnN0YXJ0KSwgY29udGVudDtcbiAgICBpZiAoZGlzcGxheUV2ZW50RW5kICYmIGNodW5rLmV2ZW50LmRpc3BsYXkgIT09ICdwb2ludGVyJykge1xuICAgICAgICB0aW1lVGV4dCArPSBgIC0gJHtfaW50bEV2ZW50VGltZS5mb3JtYXQoY2h1bmsuZW5kKX1gO1xuICAgIH1cbiAgICBpZiAoZXZlbnRDb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQgPSBpc19mdW5jdGlvbihldmVudENvbnRlbnQpXG4gICAgICAgICAgICA/IGV2ZW50Q29udGVudCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IHRvRXZlbnRXaXRoTG9jYWxEYXRlcyhjaHVuay5ldmVudCksXG4gICAgICAgICAgICAgICAgdGltZVRleHQsXG4gICAgICAgICAgICAgICAgdmlldzogdG9WaWV3V2l0aExvY2FsRGF0ZXMoX3ZpZXcpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBldmVudENvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChjaHVuay5ldmVudC5kaXNwbGF5KSB7XG4gICAgICAgICAgICBjYXNlICdiYWNrZ3JvdW5kJzpcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwb2ludGVyJzpcbiAgICAgICAgICAgICAgICBjb250ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBkb21Ob2RlczogW2NyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoZW1lLmV2ZW50VGltZSwgbnVsbCwgdGltZVRleHQpXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbU5vZGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jaHVuay5ldmVudC5hbGxEYXkgPyBbXSA6IFtjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGVtZS5ldmVudFRpbWUsIG51bGwsIHRpbWVUZXh0KV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGVtZS5ldmVudFRpdGxlLCBjaHVuay5ldmVudC50aXRsZUhUTUwsIGNodW5rLmV2ZW50LnRpdGxlKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbdGltZVRleHQsIGNvbnRlbnRdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnRDbGFzc2VzKGV2ZW50Q2xhc3NOYW1lcywgZXZlbnQsIF92aWV3KSB7XG4gICAgaWYgKGV2ZW50Q2xhc3NOYW1lcykge1xuICAgICAgICBpZiAoaXNfZnVuY3Rpb24oZXZlbnRDbGFzc05hbWVzKSkge1xuICAgICAgICAgICAgZXZlbnRDbGFzc05hbWVzID0gZXZlbnRDbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICBldmVudDogdG9FdmVudFdpdGhMb2NhbERhdGVzKGV2ZW50KSxcbiAgICAgICAgICAgICAgICB2aWV3OiB0b1ZpZXdXaXRoTG9jYWxEYXRlcyhfdmlldylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGV2ZW50Q2xhc3NOYW1lcykgPyBldmVudENsYXNzTmFtZXMgOiBbZXZlbnRDbGFzc05hbWVzXTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FdmVudFdpdGhMb2NhbERhdGVzKGV2ZW50KSB7XG4gICAgcmV0dXJuIF9jbG9uZUV2ZW50KGV2ZW50LCB0b0xvY2FsRGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUV2ZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIF9jbG9uZUV2ZW50KGV2ZW50LCBjbG9uZURhdGUpO1xufVxuXG5mdW5jdGlvbiBfY2xvbmVFdmVudChldmVudCwgZGF0ZUZuKSB7XG4gICAgZXZlbnQgPSBhc3NpZ24oe30sIGV2ZW50KTtcbiAgICBldmVudC5zdGFydCA9IGRhdGVGbihldmVudC5zdGFydCk7XG4gICAgZXZlbnQuZW5kID0gZGF0ZUZuKGV2ZW50LmVuZCk7XG5cbiAgICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgZXZlbnQgaW50ZXJzZWN0cyB3aXRoIHRoZSBnaXZlbiBkYXRlIHJhbmdlIGFuZCByZXNvdXJjZVxuICogQHBhcmFtIGV2ZW50XG4gKiBAcGFyYW0gc3RhcnRcbiAqIEBwYXJhbSBlbmRcbiAqIEBwYXJhbSBbcmVzb3VyY2VdXG4gKiBAcGFyYW0gW3RpbWVNb2RlXSAgWmVyby1sZW5ndGggZXZlbnRzIHNob3VsZCBiZSBhbGxvd2VkIChAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92a3Vya28vY2FsZW5kYXIvaXNzdWVzLzUwKSwgZXhjZXB0IGluIHRpbWUgbW9kZVxuICogQHJldHVybiBib29sZWFuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudEludGVyc2VjdHMoZXZlbnQsIHN0YXJ0LCBlbmQsIHJlc291cmNlLCB0aW1lTW9kZSkge1xuICAgIHJldHVybiAoXG4gICAgICAgIGV2ZW50LnN0YXJ0IDwgZW5kICYmIGV2ZW50LmVuZCA+IHN0YXJ0IHx8ICF0aW1lTW9kZSAmJiBkYXRlc0VxdWFsKGV2ZW50LnN0YXJ0LCBldmVudC5lbmQsIHN0YXJ0KVxuICAgICkgJiYgKFxuICAgICAgICByZXNvdXJjZSA9PT0gdW5kZWZpbmVkIHx8IGV2ZW50LnJlc291cmNlSWRzLmluY2x1ZGVzKHJlc291cmNlLmlkKVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoZWxwZXJFdmVudChkaXNwbGF5KSB7XG4gICAgcmV0dXJuIHByZXZpZXdFdmVudChkaXNwbGF5KSB8fCBnaG9zdEV2ZW50KGRpc3BsYXkpIHx8IHBvaW50ZXJFdmVudChkaXNwbGF5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJnRXZlbnQoZGlzcGxheSkge1xuICAgIHJldHVybiBkaXNwbGF5ID09PSAnYmFja2dyb3VuZCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmV2aWV3RXZlbnQoZGlzcGxheSkge1xuICAgIHJldHVybiBkaXNwbGF5ID09PSAncHJldmlldyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnaG9zdEV2ZW50KGRpc3BsYXkpIHtcbiAgICByZXR1cm4gZGlzcGxheSA9PT0gJ2dob3N0Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50ZXJFdmVudChkaXNwbGF5KSB7XG4gICAgcmV0dXJuIGRpc3BsYXkgPT09ICdwb2ludGVyJztcbn1cbiIsImltcG9ydCB7ZGVyaXZlZCwgd3JpdGFibGUsIGdldH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcbmltcG9ydCB7aXNfZnVuY3Rpb259IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG5pbXBvcnQge3RvTG9jYWxEYXRlLCBmb3JtYXRSYW5nZX0gZnJvbSAnLi9kYXRlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRhYmxlMih2YWx1ZSwgcGFyc2VyLCBzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLndyaXRhYmxlKHBhcnNlciA/IHBhcnNlcih2YWx1ZSkgOiB2YWx1ZSwgc3RhcnQpLFxuICAgICAgICBwYXJzZTogcGFyc2VyXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQyKHN0b3JlcywgZm4sIGluaXRWYWx1ZSkge1xuICAgIGxldCBzdG9yZVZhbHVlID0gaW5pdFZhbHVlO1xuICAgIGxldCBoYXNTdWJzY3JpYmVycyA9IGZhbHNlO1xuICAgIGxldCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcbiAgICBsZXQgZm4yID0gKF8sIHNldCkgPT4ge1xuICAgICAgICBoYXNTdWJzY3JpYmVycyA9IHRydWU7XG4gICAgICAgIGlmIChhdXRvKSB7XG4gICAgICAgICAgICBzdG9yZVZhbHVlID0gZm4oXywgc2V0KTtcbiAgICAgICAgICAgIHNldChzdG9yZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZuKF8sIHZhbHVlID0+IHtzdG9yZVZhbHVlID0gdmFsdWU7IHNldCh2YWx1ZSk7fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtoYXNTdWJzY3JpYmVycyA9IGZhbHNlO307XG4gICAgfTtcbiAgICBsZXQgc3RvcmUgPSBkZXJpdmVkKHN0b3JlcywgZm4yLCBzdG9yZVZhbHVlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdG9yZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBoYXNTdWJzY3JpYmVycyA/IHN0b3JlVmFsdWUgOiBnZXQoc3RvcmUpXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGwobG9jYWxlLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gZGVyaXZlZChbbG9jYWxlLCBmb3JtYXRdLCAoWyRsb2NhbGUsICRmb3JtYXRdKSA9PiB7XG4gICAgICAgIGxldCBpbnRsID0gaXNfZnVuY3Rpb24oJGZvcm1hdClcbiAgICAgICAgICAgID8ge2Zvcm1hdDogJGZvcm1hdH1cbiAgICAgICAgICAgIDogbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoJGxvY2FsZSwgJGZvcm1hdCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IGRhdGUgPT4gaW50bC5mb3JtYXQodG9Mb2NhbERhdGUoZGF0ZSkpXG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRsUmFuZ2UobG9jYWxlLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gZGVyaXZlZChbbG9jYWxlLCBmb3JtYXRdLCAoWyRsb2NhbGUsICRmb3JtYXRdKSA9PiB7XG4gICAgICAgIGlmIChpc19mdW5jdGlvbigkZm9ybWF0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHtmb3JtYXQ6IChzdGFydCwgZW5kKSA9PiAkZm9ybWF0KHRvTG9jYWxEYXRlKHN0YXJ0KSwgdG9Mb2NhbERhdGUoZW5kKSl9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnRsID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoJGxvY2FsZSwgJGZvcm1hdCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IChzdGFydCwgZW5kKSA9PiBmb3JtYXRSYW5nZSh0b0xvY2FsRGF0ZShzdGFydCksIHRvTG9jYWxEYXRlKGVuZCksIGludGwpXG4gICAgICAgIH07XG4gICAgfSk7XG59XG4iLCJpbXBvcnQge2Fzc2lnbiwgY3JlYXRlRGF0ZSwgY3JlYXRlRHVyYXRpb24sIHNldE1pZG5pZ2h0LCBjcmVhdGVFdmVudHMsIGNyZWF0ZUV2ZW50U291cmNlc30gZnJvbSAnLi4vbGliLmpzJztcbmltcG9ydCB7aXNfZnVuY3Rpb259IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKHBsdWdpbnMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgYWxsRGF5Q29udGVudDogdW5kZWZpbmVkLFxuICAgICAgICBhbGxEYXlTbG90OiB0cnVlLFxuICAgICAgICBidXR0b25UZXh0OiB7XG4gICAgICAgICAgICB0b2RheTogJ3RvZGF5JyxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZGF0ZXNTZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgZGF5SGVhZGVyRm9ybWF0OiB7XG4gICAgICAgICAgICB3ZWVrZGF5OiAnc2hvcnQnLFxuICAgICAgICAgICAgbW9udGg6ICdudW1lcmljJyxcbiAgICAgICAgICAgIGRheTogJ251bWVyaWMnXG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BsYXlFdmVudEVuZDogdHJ1ZSxcbiAgICAgICAgZHVyYXRpb246IHt3ZWVrczogMX0sXG4gICAgICAgIGV2ZW50czogW10sXG4gICAgICAgIGV2ZW50QmFja2dyb3VuZENvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGV2ZW50VGV4dENvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGV2ZW50Q2xhc3NOYW1lczogdW5kZWZpbmVkLFxuICAgICAgICBldmVudENsaWNrOiB1bmRlZmluZWQsXG4gICAgICAgIGV2ZW50Q29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgZXZlbnRDb250ZW50OiB1bmRlZmluZWQsXG4gICAgICAgIGV2ZW50RGlkTW91bnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgZXZlbnRNb3VzZUVudGVyOiB1bmRlZmluZWQsXG4gICAgICAgIGV2ZW50TW91c2VMZWF2ZTogdW5kZWZpbmVkLFxuICAgICAgICBldmVudFNvdXJjZXM6IFtdLFxuICAgICAgICBldmVudFRpbWVGb3JtYXQ6IHtcbiAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXG4gICAgICAgIH0sXG4gICAgICAgIGZpcnN0RGF5OiAwLFxuICAgICAgICBmbGV4aWJsZVNsb3RUaW1lTGltaXRzOiBmYWxzZSwgIC8vIGVjIG9wdGlvblxuICAgICAgICBoZWFkZXJUb29sYmFyOiB7XG4gICAgICAgICAgICBzdGFydDogJ3RpdGxlJyxcbiAgICAgICAgICAgIGNlbnRlcjogJycsXG4gICAgICAgICAgICBlbmQ6ICd0b2RheSBwcmV2LG5leHQnXG4gICAgICAgIH0sXG4gICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICBoaWRkZW5EYXlzOiBbXSxcbiAgICAgICAgaGlnaGxpZ2h0ZWREYXRlczogW10sICAvLyBlYyBvcHRpb25cbiAgICAgICAgbGF6eUZldGNoaW5nOiB0cnVlLFxuICAgICAgICBsb2FkaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGxvY2FsZTogdW5kZWZpbmVkLFxuICAgICAgICBub3dJbmRpY2F0b3I6IGZhbHNlLFxuICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgc2Nyb2xsVGltZTogJzA2OjAwOjAwJyxcbiAgICAgICAgc2xvdER1cmF0aW9uOiAnMDA6MzA6MDAnLFxuICAgICAgICBzbG90RXZlbnRPdmVybGFwOiB0cnVlLFxuICAgICAgICBzbG90SGVpZ2h0OiAyNCwgIC8vIGVjIG9wdGlvblxuICAgICAgICBzbG90TGFiZWxGb3JtYXQ6IHtcbiAgICAgICAgICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXG4gICAgICAgIH0sXG4gICAgICAgIHNsb3RNYXhUaW1lOiAnMjQ6MDA6MDAnLFxuICAgICAgICBzbG90TWluVGltZTogJzAwOjAwOjAwJyxcbiAgICAgICAgdGhlbWU6IHtcbiAgICAgICAgICAgIGFsbERheTogJ2VjLWFsbC1kYXknLFxuICAgICAgICAgICAgYWN0aXZlOiAnZWMtYWN0aXZlJyxcbiAgICAgICAgICAgIGJnRXZlbnQ6ICdlYy1iZy1ldmVudCcsXG4gICAgICAgICAgICBiZ0V2ZW50czogJ2VjLWJnLWV2ZW50cycsXG4gICAgICAgICAgICBib2R5OiAnZWMtYm9keScsXG4gICAgICAgICAgICBidXR0b246ICdlYy1idXR0b24nLFxuICAgICAgICAgICAgYnV0dG9uR3JvdXA6ICdlYy1idXR0b24tZ3JvdXAnLFxuICAgICAgICAgICAgY2FsZW5kYXI6ICdlYycsXG4gICAgICAgICAgICBjb21wYWN0OiAnZWMtY29tcGFjdCcsXG4gICAgICAgICAgICBjb250ZW50OiAnZWMtY29udGVudCcsXG4gICAgICAgICAgICBkYXk6ICdlYy1kYXknLFxuICAgICAgICAgICAgZGF5SGVhZDogJ2VjLWRheS1oZWFkJyxcbiAgICAgICAgICAgIGRheXM6ICdlYy1kYXlzJyxcbiAgICAgICAgICAgIGV2ZW50OiAnZWMtZXZlbnQnLFxuICAgICAgICAgICAgZXZlbnRCb2R5OiAnZWMtZXZlbnQtYm9keScsXG4gICAgICAgICAgICBldmVudFRpbWU6ICdlYy1ldmVudC10aW1lJyxcbiAgICAgICAgICAgIGV2ZW50VGl0bGU6ICdlYy1ldmVudC10aXRsZScsXG4gICAgICAgICAgICBldmVudHM6ICdlYy1ldmVudHMnLFxuICAgICAgICAgICAgZXh0cmE6ICdlYy1leHRyYScsXG4gICAgICAgICAgICBoYW5kbGU6ICdlYy1oYW5kbGUnLFxuICAgICAgICAgICAgaGVhZGVyOiAnZWMtaGVhZGVyJyxcbiAgICAgICAgICAgIGhpZGRlblNjcm9sbDogJ2VjLWhpZGRlbi1zY3JvbGwnLFxuICAgICAgICAgICAgaGlnaGxpZ2h0OiAnZWMtaGlnaGxpZ2h0JyxcbiAgICAgICAgICAgIGljb246ICdlYy1pY29uJyxcbiAgICAgICAgICAgIGxpbmU6ICdlYy1saW5lJyxcbiAgICAgICAgICAgIGxpbmVzOiAnZWMtbGluZXMnLFxuICAgICAgICAgICAgbm93SW5kaWNhdG9yOiAnZWMtbm93LWluZGljYXRvcicsXG4gICAgICAgICAgICBvdGhlck1vbnRoOiAnZWMtb3RoZXItbW9udGgnLFxuICAgICAgICAgICAgc2lkZWJhcjogJ2VjLXNpZGViYXInLFxuICAgICAgICAgICAgc2lkZWJhclRpdGxlOiAnZWMtc2lkZWJhci10aXRsZScsXG4gICAgICAgICAgICB0b2RheTogJ2VjLXRvZGF5JyxcbiAgICAgICAgICAgIHRpbWU6ICdlYy10aW1lJyxcbiAgICAgICAgICAgIHRpdGxlOiAnZWMtdGl0bGUnLFxuICAgICAgICAgICAgdG9vbGJhcjogJ2VjLXRvb2xiYXInLFxuICAgICAgICAgICAgd2VlazogJ2VjLXdlZWsnLFxuICAgICAgICAgICAgd2l0aFNjcm9sbDogJ2VjLXdpdGgtc2Nyb2xsJ1xuICAgICAgICB9LFxuICAgICAgICB0aXRsZUZvcm1hdDoge1xuICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgbW9udGg6ICdzaG9ydCcsXG4gICAgICAgICAgICBkYXk6ICdudW1lcmljJ1xuICAgICAgICB9LFxuICAgICAgICB2aWV3OiB1bmRlZmluZWQsXG4gICAgICAgIHZpZXdEaWRNb3VudDogdW5kZWZpbmVkLFxuICAgICAgICB2aWV3czoge31cbiAgICB9O1xuXG4gICAgZm9yIChsZXQgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICAgICAgcGx1Z2luLmNyZWF0ZU9wdGlvbnM/LihvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnNlcnMob3B0aW9ucywgcGx1Z2lucykge1xuICAgIGxldCBwYXJzZXJzID0ge1xuICAgICAgICBidXR0b25UZXh0OiBpbnB1dCA9PiBpc19mdW5jdGlvbihpbnB1dCkgPyBpbnB1dChvcHRpb25zLmJ1dHRvblRleHQpIDogaW5wdXQsXG4gICAgICAgIGRhdGU6IGRhdGUgPT4gc2V0TWlkbmlnaHQoY3JlYXRlRGF0ZShkYXRlKSksXG4gICAgICAgIGR1cmF0aW9uOiBjcmVhdGVEdXJhdGlvbixcbiAgICAgICAgZXZlbnRzOiBjcmVhdGVFdmVudHMsXG4gICAgICAgIGV2ZW50U291cmNlczogY3JlYXRlRXZlbnRTb3VyY2VzLFxuICAgICAgICBoaWRkZW5EYXlzOiBkYXlzID0+IFsuLi5uZXcgU2V0KGRheXMpXSxcbiAgICAgICAgaGlnaGxpZ2h0ZWREYXRlczogZGF0ZXMgPT4gZGF0ZXMubWFwKGNyZWF0ZURhdGUpLFxuICAgICAgICBzY3JvbGxUaW1lOiBjcmVhdGVEdXJhdGlvbixcbiAgICAgICAgc2xvdER1cmF0aW9uOiBjcmVhdGVEdXJhdGlvbixcbiAgICAgICAgc2xvdE1heFRpbWU6IGNyZWF0ZUR1cmF0aW9uLFxuICAgICAgICBzbG90TWluVGltZTogY3JlYXRlRHVyYXRpb24sXG4gICAgICAgIHRoZW1lOiBpbnB1dCA9PiBpc19mdW5jdGlvbihpbnB1dCkgPyBpbnB1dChvcHRpb25zLnRoZW1lKSA6IGlucHV0XG4gICAgfTtcblxuICAgIGZvciAobGV0IHBsdWdpbiBvZiBwbHVnaW5zKSB7XG4gICAgICAgIHBsdWdpbi5jcmVhdGVQYXJzZXJzPy4ocGFyc2Vycywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlcnM7XG59XG5cbmxldCBwcmV2O1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYob3B0aW9ucykge1xuICAgIGxldCBkaWZmID0gW107XG4gICAgaWYgKHByZXYpIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNbbmFtZV0gIT09IHByZXZbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBkaWZmLnB1c2goW25hbWUsIG9wdGlvbnNbbmFtZV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcmV2ID0gYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgIHJldHVybiBkaWZmO1xufVxuIiwiaW1wb3J0IHtkZXJpdmVkLCB3cml0YWJsZSwgcmVhZGFibGV9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQge2lzX2Z1bmN0aW9ufSBmcm9tICdzdmVsdGUvaW50ZXJuYWwnO1xuaW1wb3J0IHtcbiAgICBEQVlfSU5fU0VDT05EUyxcbiAgICBhc3NpZ24sXG4gICAgY2xvbmVEYXRlLFxuICAgIGNyZWF0ZURhdGUsXG4gICAgY3JlYXRlRXZlbnRzLFxuICAgIGNyZWF0ZVZpZXcsXG4gICAgYWRkRHVyYXRpb24sXG4gICAgYWRkRGF5LFxuICAgIGRlcml2ZWQyLFxuICAgIHN1YnRyYWN0RGF5LFxuICAgIHRvSVNPU3RyaW5nLFxuICAgIG5leHRDbG9zZXN0RGF5LFxuICAgIHByZXZDbG9zZXN0RGF5LFxuICAgIHNldE1pZG5pZ2h0LFxuICAgIHRvTG9jYWxEYXRlLFxuICAgIGRlYm91bmNlXG59IGZyb20gJy4uL2xpYi5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtb250aE1vZGUoc3RhdGUpIHtcbiAgICByZXR1cm4gZGVyaXZlZChzdGF0ZS52aWV3LCAkdmlldyA9PiAkdmlldz8uc3RhcnRzV2l0aCgnZGF5R3JpZCcpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFjdGl2ZVJhbmdlKHN0YXRlKSB7XG4gICAgcmV0dXJuIGRlcml2ZWQoXG4gICAgICAgIFtzdGF0ZS5fY3VycmVudFJhbmdlLCBzdGF0ZS5maXJzdERheSwgc3RhdGUuc2xvdE1heFRpbWUsIHN0YXRlLl9tb250aE1vZGVdLFxuICAgICAgICAoWyRfY3VycmVudFJhbmdlLCAkZmlyc3REYXksICRzbG90TWF4VGltZSwgJF9tb250aE1vZGVdKSA9PiB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBjbG9uZURhdGUoJF9jdXJyZW50UmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IGNsb25lRGF0ZSgkX2N1cnJlbnRSYW5nZS5lbmQpO1xuXG4gICAgICAgICAgICBpZiAoJF9tb250aE1vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJzdCBkYXkgb2Ygd2Vla1xuICAgICAgICAgICAgICAgIHByZXZDbG9zZXN0RGF5KHN0YXJ0LCAkZmlyc3REYXkpO1xuICAgICAgICAgICAgICAgIG5leHRDbG9zZXN0RGF5KGVuZCwgJGZpcnN0RGF5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNsb3RNYXhUaW1lLmRheXMgfHwgJHNsb3RNYXhUaW1lLnNlY29uZHMgPiBEQVlfSU5fU0VDT05EUykge1xuICAgICAgICAgICAgICAgIGFkZER1cmF0aW9uKHN1YnRyYWN0RGF5KGVuZCksICRzbG90TWF4VGltZSk7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0MiA9IHN1YnRyYWN0RGF5KGNsb25lRGF0ZShlbmQpKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQyIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge3N0YXJ0LCBlbmR9O1xuICAgICAgICB9XG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbnRSYW5nZShzdGF0ZSkge1xuICAgIHJldHVybiBkZXJpdmVkKFxuICAgICAgICBbc3RhdGUuZGF0ZSwgc3RhdGUuZHVyYXRpb24sIHN0YXRlLmZpcnN0RGF5LCBzdGF0ZS5fbW9udGhNb2RlXSxcbiAgICAgICAgKFskZGF0ZSwgJGR1cmF0aW9uLCAkZmlyc3REYXksICRfbW9udGhNb2RlXSkgPT4ge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gY2xvbmVEYXRlKCRkYXRlKSwgZW5kO1xuICAgICAgICAgICAgaWYgKCRfbW9udGhNb2RlKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQuc2V0VVRDRGF0ZSgxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJGR1cmF0aW9uLmluV2Vla3MpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJzdCBkYXkgb2Ygd2Vla1xuICAgICAgICAgICAgICAgIHByZXZDbG9zZXN0RGF5KHN0YXJ0LCAkZmlyc3REYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kID0gYWRkRHVyYXRpb24oY2xvbmVEYXRlKHN0YXJ0KSwgJGR1cmF0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtzdGFydCwgZW5kfTtcbiAgICAgICAgfVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWV3RGF0ZXMoc3RhdGUpIHtcbiAgICByZXR1cm4gZGVyaXZlZDIoW3N0YXRlLl9hY3RpdmVSYW5nZSwgc3RhdGUuaGlkZGVuRGF5c10sIChbJF9hY3RpdmVSYW5nZSwgJGhpZGRlbkRheXNdKSA9PiB7XG4gICAgICAgIGxldCBkYXRlcyA9IFtdO1xuICAgICAgICBsZXQgZGF0ZSA9IHNldE1pZG5pZ2h0KGNsb25lRGF0ZSgkX2FjdGl2ZVJhbmdlLnN0YXJ0KSk7XG4gICAgICAgIGxldCBlbmQgPSBzZXRNaWRuaWdodChjbG9uZURhdGUoJF9hY3RpdmVSYW5nZS5lbmQpKTtcbiAgICAgICAgd2hpbGUgKGRhdGUgPCBlbmQpIHtcbiAgICAgICAgICAgIGlmICghJGhpZGRlbkRheXMuaW5jbHVkZXMoZGF0ZS5nZXRVVENEYXkoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlcy5wdXNoKGNsb25lRGF0ZShkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGREYXkoZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRlcy5sZW5ndGggJiYgJGhpZGRlbkRheXMubGVuZ3RoICYmICRoaWRkZW5EYXlzLmxlbmd0aCA8IDcpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBtb3ZlIHRoZSBkYXRlXG4gICAgICAgICAgICBzdGF0ZS5kYXRlLnVwZGF0ZShkYXRlID0+IHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoJGhpZGRlbkRheXMuaW5jbHVkZXMoZGF0ZS5nZXRVVENEYXkoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRGF5KGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGF0ZXMgPSBzdGF0ZS5fdmlld0RhdGVzLmdldCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlld1RpdGxlKHN0YXRlKSB7XG4gICAgcmV0dXJuIGRlcml2ZWQoXG4gICAgICAgIFtzdGF0ZS5kYXRlLCBzdGF0ZS5fYWN0aXZlUmFuZ2UsIHN0YXRlLl90aXRsZUludGxSYW5nZSwgc3RhdGUuX21vbnRoTW9kZV0sXG4gICAgICAgIChbJGRhdGUsICRfYWN0aXZlUmFuZ2UsICRfdGl0bGVJbnRsUmFuZ2UsICRfbW9udGhNb2RlXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICRfbW9udGhNb2RlXG4gICAgICAgICAgICAgICAgPyAkX3RpdGxlSW50bFJhbmdlLmZvcm1hdCgkZGF0ZSwgJGRhdGUpXG4gICAgICAgICAgICAgICAgOiAkX3RpdGxlSW50bFJhbmdlLmZvcm1hdCgkX2FjdGl2ZVJhbmdlLnN0YXJ0LCBzdWJ0cmFjdERheShjbG9uZURhdGUoJF9hY3RpdmVSYW5nZS5lbmQpKSk7XG4gICAgICAgIH1cbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlldyhzdGF0ZSkge1xuICAgIHJldHVybiBkZXJpdmVkMihbc3RhdGUudmlldywgc3RhdGUuX3ZpZXdUaXRsZSwgc3RhdGUuX2N1cnJlbnRSYW5nZSwgc3RhdGUuX2FjdGl2ZVJhbmdlXSwgYXJncyA9PiBjcmVhdGVWaWV3KC4uLmFyZ3MpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50cyhzdGF0ZSkge1xuICAgIGxldCBfZXZlbnRzID0gd3JpdGFibGUoW10pO1xuICAgIGxldCBhYm9ydENvbnRyb2xsZXI7XG4gICAgbGV0IGZldGNoaW5nID0gMDtcbiAgICBsZXQgZGVib3VuY2VIYW5kbGUgPSB7fTtcbiAgICBkZXJpdmVkKFxuICAgICAgICBbc3RhdGUuZXZlbnRzLCBzdGF0ZS5ldmVudFNvdXJjZXMsIHN0YXRlLl9hY3RpdmVSYW5nZSwgc3RhdGUuX2ZldGNoZWRSYW5nZSwgc3RhdGUubGF6eUZldGNoaW5nLCBzdGF0ZS5sb2FkaW5nXSxcbiAgICAgICAgKHZhbHVlcywgc2V0KSA9PiBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgWyRldmVudHMsICRldmVudFNvdXJjZXMsICRfYWN0aXZlUmFuZ2UsICRfZmV0Y2hlZFJhbmdlLCAkbGF6eUZldGNoaW5nLCAkbG9hZGluZ10gPSB2YWx1ZXM7XG4gICAgICAgICAgICBpZiAoISRldmVudFNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2V0KCRldmVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvIG5vdCBmZXRjaCBpZiBuZXcgcmFuZ2UgaXMgd2l0aGluIHRoZSBwcmV2aW91cyBvbmVcbiAgICAgICAgICAgIGlmICghJF9mZXRjaGVkUmFuZ2Uuc3RhcnQgfHwgJF9mZXRjaGVkUmFuZ2Uuc3RhcnQgPiAkX2FjdGl2ZVJhbmdlLnN0YXJ0IHx8ICRfZmV0Y2hlZFJhbmdlLmVuZCA8ICRfYWN0aXZlUmFuZ2UuZW5kIHx8ICEkbGF6eUZldGNoaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBYm9ydCBwcmV2aW91cyByZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGFib3J0IGNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBsb2FkaW5nIGhvb2tcbiAgICAgICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oJGxvYWRpbmcpICYmICFmZXRjaGluZykge1xuICAgICAgICAgICAgICAgICAgICAkbG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHN0b3BMb2FkaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoLS1mZXRjaGluZyA9PT0gMCAmJiBpc19mdW5jdGlvbigkbG9hZGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICBsZXQgZmFpbHVyZSA9IGUgPT4gc3RvcExvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBsZXQgc3VjY2VzcyA9IGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBldmVudHMgPSBldmVudHMuY29uY2F0KGNyZWF0ZUV2ZW50cyhkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIHNldChldmVudHMpO1xuICAgICAgICAgICAgICAgICAgICBzdG9wTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gUHJlcGFyZSBvdGhlciBzdHVmZlxuICAgICAgICAgICAgICAgIGxldCBzdGFydFN0ciA9IHRvSVNPU3RyaW5nKCRfYWN0aXZlUmFuZ2Uuc3RhcnQpXG4gICAgICAgICAgICAgICAgbGV0IGVuZFN0ciA9IHRvSVNPU3RyaW5nKCRfYWN0aXZlUmFuZ2UuZW5kKTtcbiAgICAgICAgICAgICAgICAvLyBMb29wIG92ZXIgZXZlbnQgc291cmNlc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHNvdXJjZSBvZiAkZXZlbnRTb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihzb3VyY2UuZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnRzIGFzIGEgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBzb3VyY2UuZXZlbnRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogdG9Mb2NhbERhdGUoJF9hY3RpdmVSYW5nZS5zdGFydCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiB0b0xvY2FsRGF0ZSgkX2FjdGl2ZVJhbmdlLmVuZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kU3RyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBzdWNjZXNzLCBmYWlsdXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFdmVudHMgYXMgYSBKU09OIGZlZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgcGFyYW1zXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW1zID0gaXNfZnVuY3Rpb24oc291cmNlLmV4dHJhUGFyYW1zKSA/IHNvdXJjZS5leHRyYVBhcmFtcygpIDogYXNzaWduKHt9LCBzb3VyY2UuZXh0cmFQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnN0YXJ0ID0gc3RhcnRTdHI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMuZW5kID0gZW5kU3RyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlcGFyZSBmZXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHNvdXJjZS51cmwsIGhlYWRlcnMgPSB7fSwgYm9keTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbJ0dFVCcsICdIRUFEJ10uaW5jbHVkZXMoc291cmNlLm1ldGhvZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgKz0gKHVybC5pbmNsdWRlcygnPycpID8gJyYnIDogJz8nKSArIHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgPSBTdHJpbmcocGFyYW1zKTsgIC8vIFNhZmFyaSAxMC4xIGRvZXNuJ3QgY29udmVydCB0byBzdHJpbmcgYXV0b21hdGljYWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gdGhlIGZldGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBmZXRjaCh1cmwsIHttZXRob2Q6IHNvdXJjZS5tZXRob2QsIGhlYWRlcnMsIGJvZHksIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCwgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbid9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmYWlsdXJlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2ZldGNoaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTYXZlIGN1cnJlbnQgcmFuZ2UgZm9yIGZ1dHVyZSByZXF1ZXN0c1xuICAgICAgICAgICAgICAgICRfZmV0Y2hlZFJhbmdlLnN0YXJ0ID0gJF9hY3RpdmVSYW5nZS5zdGFydDtcbiAgICAgICAgICAgICAgICAkX2ZldGNoZWRSYW5nZS5lbmQgPSAkX2FjdGl2ZVJhbmdlLmVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZGVib3VuY2VIYW5kbGUsIHN0YXRlLl9xdWV1ZSksXG4gICAgICAgIFtdXG4gICAgKS5zdWJzY3JpYmUoX2V2ZW50cy5zZXQpO1xuXG4gICAgcmV0dXJuIF9ldmVudHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIHJlYWRhYmxlKGNyZWF0ZURhdGUoKSwgc2V0ID0+IHtcbiAgICAgICAgbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgc2V0KGNyZWF0ZURhdGUoKSk7XG4gICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZGF5KHN0YXRlKSB7XG4gICAgcmV0dXJuIGRlcml2ZWQoc3RhdGUuX25vdywgJF9ub3cgPT4gc2V0TWlkbmlnaHQoY2xvbmVEYXRlKCRfbm93KSkpO1xufVxuIiwiaW1wb3J0IHt3cml0YWJsZX0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcbmltcG9ydCB7aXNfZnVuY3Rpb24sIHRpY2ssIG5vb3AsIGlkZW50aXR5fSBmcm9tICdzdmVsdGUvaW50ZXJuYWwnO1xuaW1wb3J0IHtjcmVhdGVPcHRpb25zLCBjcmVhdGVQYXJzZXJzfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHtcbiAgICBhY3RpdmVSYW5nZSxcbiAgICBjdXJyZW50UmFuZ2UsXG4gICAgZXZlbnRzLFxuICAgIG1vbnRoTW9kZSxcbiAgICBub3csXG4gICAgdG9kYXksXG4gICAgdmlld0RhdGVzLFxuICAgIHZpZXdUaXRsZSxcbiAgICB2aWV3IGFzIHZpZXcyICAvLyBoYWNrIHRvIGF2b2lkIGEgcnVudGltZSBlcnJvciBpbiBTdmVsdGVLaXQgZGV2IG1vZGUgKFJlZmVyZW5jZUVycm9yOiB2aWV3IGlzIG5vdCBkZWZpbmVkKVxufSBmcm9tICcuL3N0b3Jlcyc7XG5pbXBvcnQge2Fzc2lnbiwgd3JpdGFibGUyLCBpbnRsLCBpbnRsUmFuZ2V9IGZyb20gJy4uL2xpYi5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5zLCBpbnB1dCkge1xuICAgICAgICBwbHVnaW5zID0gcGx1Z2lucyB8fCBbXTtcblxuICAgICAgICAvLyBDcmVhdGUgb3B0aW9uc1xuICAgICAgICBsZXQgb3B0aW9ucyA9IGNyZWF0ZU9wdGlvbnMocGx1Z2lucyk7XG4gICAgICAgIGxldCBwYXJzZXJzID0gY3JlYXRlUGFyc2VycyhvcHRpb25zLCBwbHVnaW5zKTtcblxuICAgICAgICAvLyBDcmVhdGUgc3RvcmVzIGZvciBvcHRpb25zXG4gICAgICAgIGZvciAobGV0IFtvcHRpb24sIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zKSkge1xuICAgICAgICAgICAgdGhpc1tvcHRpb25dID0gd3JpdGFibGUyKHZhbHVlLCBwYXJzZXJzW29wdGlvbl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJpdmF0ZSBzdG9yZXNcbiAgICAgICAgdGhpcy5fcXVldWUgPSB3cml0YWJsZShuZXcgTWFwKCkpOyAgLy8gZGVib3VuY2UgcXVldWVcbiAgICAgICAgdGhpcy5fYXV4aWxpYXJ5ID0gd3JpdGFibGUoW10pOyAgLy8gYXV4aWxpYXJ5IGNvbXBvbmVudHNcbiAgICAgICAgdGhpcy5fbW9udGhNb2RlID0gbW9udGhNb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSBjdXJyZW50UmFuZ2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVJhbmdlID0gYWN0aXZlUmFuZ2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2ZldGNoZWRSYW5nZSA9IHdyaXRhYmxlKHtzdGFydDogdW5kZWZpbmVkLCBlbmQ6IHVuZGVmaW5lZH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBldmVudHModGhpcyk7XG4gICAgICAgIHRoaXMuX25vdyA9IG5vdygpO1xuICAgICAgICB0aGlzLl90b2RheSA9IHRvZGF5KHRoaXMpO1xuICAgICAgICB0aGlzLl9pbnRsRXZlbnRUaW1lID0gaW50bCh0aGlzLmxvY2FsZSwgdGhpcy5ldmVudFRpbWVGb3JtYXQpO1xuICAgICAgICB0aGlzLl9pbnRsU2xvdExhYmVsID0gaW50bCh0aGlzLmxvY2FsZSwgdGhpcy5zbG90TGFiZWxGb3JtYXQpO1xuICAgICAgICB0aGlzLl9pbnRsRGF5SGVhZGVyID0gaW50bCh0aGlzLmxvY2FsZSwgdGhpcy5kYXlIZWFkZXJGb3JtYXQpO1xuICAgICAgICB0aGlzLl90aXRsZUludGxSYW5nZSA9IGludGxSYW5nZSh0aGlzLmxvY2FsZSwgdGhpcy50aXRsZUZvcm1hdCk7XG4gICAgICAgIHRoaXMuX2JvZHlFbCA9IHdyaXRhYmxlKHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuX3Njcm9sbGFibGUgPSB3cml0YWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMuX3ZpZXdUaXRsZSA9IHZpZXdUaXRsZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fdmlld0RhdGVzID0gdmlld0RhdGVzKHRoaXMpO1xuICAgICAgICB0aGlzLl92aWV3ID0gdmlldzIodGhpcyk7XG4gICAgICAgIHRoaXMuX3ZpZXdDbGFzcyA9IHdyaXRhYmxlKHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuX3ZpZXdDb21wb25lbnQgPSB3cml0YWJsZSh1bmRlZmluZWQpO1xuICAgICAgICAvLyBSZXNvdXJjZXNcbiAgICAgICAgdGhpcy5fcmVzQmdDb2xvciA9IHdyaXRhYmxlKG5vb3ApO1xuICAgICAgICB0aGlzLl9yZXNUeHRDb2xvciA9IHdyaXRhYmxlKG5vb3ApO1xuICAgICAgICAvLyBJbnRlcmFjdGlvblxuICAgICAgICB0aGlzLl9pbnRlcmFjdGlvbiA9IHdyaXRhYmxlKHt9KTtcbiAgICAgICAgdGhpcy5faUV2ZW50cyA9IHdyaXRhYmxlKFtudWxsLCBudWxsXSk7ICAvLyBpbnRlcmFjdGlvbiBldmVudHM6IFtkcmFnL3Jlc2l6ZSwgcG9pbnRlcl1cbiAgICAgICAgdGhpcy5faUNsYXNzZXMgPSB3cml0YWJsZShpZGVudGl0eSk7ICAvLyBpbnRlcmFjdGlvbiBldmVudCBjc3MgY2xhc3Nlc1xuICAgICAgICB0aGlzLl9pQ2xhc3MgPSB3cml0YWJsZSh1bmRlZmluZWQpOyAgLy8gaW50ZXJhY3Rpb24gY3NzIGNsYXNzIGZvciBlbnRpcmUgY2FsZW5kYXJcblxuICAgICAgICAvLyBMZXQgcGx1Z2lucyBjcmVhdGUgdGhlaXIgcHJpdmF0ZSBzdG9yZXNcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICAgICAgICAgIHBsdWdpbi5jcmVhdGVTdG9yZXM/Lih0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dC52aWV3KSB7XG4gICAgICAgICAgICAvLyBTZXQgaW5pdGlhbCB2aWV3IGJhc2VkIG9uIGlucHV0XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2V0KGlucHV0LnZpZXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IG9wdGlvbnMgZm9yIGVhY2ggdmlld1xuICAgICAgICBsZXQgY29tbW9uT3B0cyA9IGFzc2lnbih7fSwgb3B0aW9ucywgaW5wdXQpO1xuICAgICAgICBwYXJzZU9wdHMoY29tbW9uT3B0cywgdGhpcyk7XG4gICAgICAgIGxldCB2aWV3cyA9IG5ldyBTZXQoWy4uLk9iamVjdC5rZXlzKG9wdGlvbnMudmlld3MpLCAuLi5PYmplY3Qua2V5cyhpbnB1dC52aWV3cyB8fCB7fSldKTtcbiAgICAgICAgZm9yIChsZXQgdmlldyBvZiB2aWV3cykge1xuICAgICAgICAgICAgbGV0IHZpZXdPcHRzID0gYXNzaWduKHt9LCBvcHRpb25zLnZpZXdzW3ZpZXddID8/IHt9LCBpbnB1dC52aWV3cz8uW3ZpZXddID8/IHt9KTtcbiAgICAgICAgICAgIHBhcnNlT3B0cyh2aWV3T3B0cywgdGhpcyk7XG4gICAgICAgICAgICBsZXQgb3B0cyA9IGFzc2lnbih7fSwgY29tbW9uT3B0cywgdmlld09wdHMpO1xuICAgICAgICAgICAgLy8gQ2hhbmdlIHZpZXcgY29tcG9uZW50IHdoZW4gdmlldyBjaGFuZ2VzXG4gICAgICAgICAgICB0aGlzLnZpZXcuc3Vic2NyaWJlKG5ld1ZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZXdWaWV3ID09PSB2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdDb21wb25lbnQuc2V0KG9wdHMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKG9wdHMudmlld0RpZE1vdW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljaygpLnRoZW4oKCkgPT4gb3B0cy52aWV3RGlkTW91bnQodGhpcy5fdmlldy5nZXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBQcm9jZXNzIG9wdGlvbnNcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRzKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KGtleSkgJiYga2V5WzBdICE9PSAnXycpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHtzZXQsIF9zZXQsIC4uLnJlc3R9ID0gdGhpc1trZXldO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3JpZ2luYWwgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0ID0gc2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHZhbHVlIGluIGFsbCB2aWV3c1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiB2YWx1ZSA9PiB7b3B0c1trZXldID0gdmFsdWU7IHNldCh2YWx1ZSk7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXN0XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hhbmdlIHZhbHVlIHdoZW4gdmlldyBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zdWJzY3JpYmUobmV3VmlldyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmlldyA9PT0gdmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXQob3B0c1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZU9wdHMob3B0cywgc3RhdGUpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMob3B0cykpIHtcbiAgICAgICAgaWYgKHN0YXRlLmhhc093blByb3BlcnR5KGtleSkgJiYga2V5WzBdICE9PSAnXycpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZVtrZXldLnBhcnNlKSB7XG4gICAgICAgICAgICAgICAgb3B0c1trZXldID0gc3RhdGVba2V5XS5wYXJzZShvcHRzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiPHNjcmlwdD5cbiAgICBpbXBvcnQge2dldENvbnRleHR9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtjcmVhdGVEYXRlLCBjbG9uZURhdGUsIHN1YnRyYWN0RGF5LCBhZGREdXJhdGlvbiwgc3VidHJhY3REdXJhdGlvbiwgc2V0TWlkbmlnaHR9IGZyb20gJy4vbGliLmpzJztcblxuICAgIGV4cG9ydCBsZXQgYnV0dG9ucztcblxuICAgIGxldCB7X2N1cnJlbnRSYW5nZSwgX3ZpZXdUaXRsZSwgYnV0dG9uVGV4dCwgZGF0ZSwgZHVyYXRpb24sIGhpZGRlbkRheXMsIHRoZW1lLCB2aWV3fSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICBsZXQgdG9kYXkgPSBzZXRNaWRuaWdodChjcmVhdGVEYXRlKCkpLCBpc1RvZGF5O1xuXG4gICAgJDogaXNUb2RheSA9IHRvZGF5ID49ICRfY3VycmVudFJhbmdlLnN0YXJ0ICYmIHRvZGF5IDwgJF9jdXJyZW50UmFuZ2UuZW5kIHx8IG51bGw7XG5cbiAgICBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgICBsZXQgZCA9IHN1YnRyYWN0RHVyYXRpb24oJGRhdGUsICRkdXJhdGlvbik7XG4gICAgICAgIGlmICgkaGlkZGVuRGF5cy5sZW5ndGggJiYgJGhpZGRlbkRheXMubGVuZ3RoIDwgNykge1xuICAgICAgICAgICAgd2hpbGUgKCRoaWRkZW5EYXlzLmluY2x1ZGVzKGQuZ2V0VVRDRGF5KCkpKSB7XG4gICAgICAgICAgICAgICAgc3VidHJhY3REYXkoZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJGRhdGUgPSBkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICRkYXRlID0gYWRkRHVyYXRpb24oJGRhdGUsICRkdXJhdGlvbik7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbnsjZWFjaCBidXR0b25zIGFzIGJ1dHRvbn1cbiAgICB7I2lmIGJ1dHRvbiA9PSAndGl0bGUnfVxuICAgICAgICA8aDIgY2xhc3M9XCJ7JHRoZW1lLnRpdGxlfVwiPnskX3ZpZXdUaXRsZX08L2gyPlxuICAgIHs6ZWxzZSBpZiBidXR0b24gPT0gJ3ByZXYnfVxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwieyR0aGVtZS5idXR0b259IGVjLXtidXR0b259XCIgYXJpYS1sYWJlbD17JGJ1dHRvblRleHQucHJldn0gb246Y2xpY2s9e3ByZXZ9PjxpIGNsYXNzPVwieyR0aGVtZS5pY29ufSBlYy17YnV0dG9ufVwiPjwvaT48L2J1dHRvbj5cbiAgICB7OmVsc2UgaWYgYnV0dG9uID09ICduZXh0J31cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInskdGhlbWUuYnV0dG9ufSBlYy17YnV0dG9ufVwiIGFyaWEtbGFiZWw9eyRidXR0b25UZXh0Lm5leHR9IG9uOmNsaWNrPXtuZXh0fT48aSBjbGFzcz1cInskdGhlbWUuaWNvbn0gZWMte2J1dHRvbn1cIj48L2k+PC9idXR0b24+XG4gICAgezplbHNlIGlmIGJ1dHRvbiA9PSAndG9kYXknfVxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwieyR0aGVtZS5idXR0b259IGVjLXtidXR0b259XCIgb246Y2xpY2s9eygpID0+ICRkYXRlID0gY2xvbmVEYXRlKHRvZGF5KX0gZGlzYWJsZWQ9e2lzVG9kYXl9PnskYnV0dG9uVGV4dFtidXR0b25dfTwvYnV0dG9uPlxuICAgIHs6ZWxzZSBpZiBidXR0b24gIT0gJyd9XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJ7JHRoZW1lLmJ1dHRvbn17JHZpZXcgPT09IGJ1dHRvbiA/ICcgJyArICR0aGVtZS5hY3RpdmUgOiAnJ30gZWMte2J1dHRvbn1cIiBvbjpjbGljaz17KCkgPT4gJHZpZXcgPSBidXR0b259PnskYnV0dG9uVGV4dFtidXR0b25dfTwvYnV0dG9uPlxuICAgIHsvaWZ9XG57L2VhY2h9XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7Z2V0Q29udGV4dH0gZnJvbSAnc3ZlbHRlJztcbiAgICBpbXBvcnQgQnV0dG9ucyBmcm9tICcuL0J1dHRvbnMuc3ZlbHRlJztcblxuICAgIGxldCB7aGVhZGVyVG9vbGJhciwgdGhlbWV9ID0gZ2V0Q29udGV4dCgnc3RhdGUnKTtcblxuICAgIGxldCBzZWN0aW9ucyA9IHtcbiAgICAgICAgc3RhcnQ6IFtdLFxuICAgICAgICBjZW50ZXI6IFtdLFxuICAgICAgICBlbmQ6IFtdXG4gICAgfTtcblxuICAgICQ6IHtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHNlY3Rpb25zKSkge1xuICAgICAgICAgICAgc2VjdGlvbnNba2V5XSA9ICRoZWFkZXJUb29sYmFyW2tleV0uc3BsaXQoJyAnKS5tYXAoZ3JvdXAgPT4gZ3JvdXAuc3BsaXQoJywnKSk7XG4gICAgICAgIH1cbiAgICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInskdGhlbWUudG9vbGJhcn1cIj5cbiAgICB7I2VhY2ggT2JqZWN0LmtleXMoc2VjdGlvbnMpIGFzIGtleX1cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHsjZWFjaCBzZWN0aW9uc1trZXldIGFzIGJ1dHRvbnN9XG4gICAgICAgICAgICAgICAgeyNpZiBidXR0b25zLmxlbmd0aCA+IDF9XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ7JHRoZW1lLmJ1dHRvbkdyb3VwfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbnMge2J1dHRvbnN9Lz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9ucyB7YnV0dG9uc30vPlxuICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgIDwvZGl2PlxuICAgIHsvZWFjaH1cbjwvZGl2PiIsIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHtnZXRDb250ZXh0fSBmcm9tICdzdmVsdGUnO1xuICAgIGltcG9ydCB7aXNfZnVuY3Rpb259IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG4gICAgaW1wb3J0IHtkZWJvdW5jZSwgdG9JU09TdHJpbmcsIHRvTG9jYWxEYXRlLCB0b1ZpZXdXaXRoTG9jYWxEYXRlc30gZnJvbSAnLi9saWIuanMnO1xuXG4gICAgbGV0IHtkYXRlc1NldCwgX2F1eGlsaWFyeSwgX2FjdGl2ZVJhbmdlLCBfcXVldWUsIF92aWV3fSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICAvLyBTZXQgdXAgZGF0ZXNTZXQgY2FsbGJhY2tcbiAgICAkOiBydW5EYXRlc1NldCgkX2FjdGl2ZVJhbmdlKTtcblxuICAgIGxldCBkZWJvdW5jZUhhbmRsZSA9IHt9O1xuICAgIGZ1bmN0aW9uIHJ1bkRhdGVzU2V0KF9hY3RpdmVSYW5nZSkge1xuICAgICAgICBpZiAoaXNfZnVuY3Rpb24oJGRhdGVzU2V0KSkge1xuICAgICAgICAgICAgZGVib3VuY2UoKCkgPT4gJGRhdGVzU2V0KHtcbiAgICAgICAgICAgICAgICBzdGFydDogdG9Mb2NhbERhdGUoX2FjdGl2ZVJhbmdlLnN0YXJ0KSxcbiAgICAgICAgICAgICAgICBlbmQ6IHRvTG9jYWxEYXRlKF9hY3RpdmVSYW5nZS5lbmQpLFxuICAgICAgICAgICAgICAgIHN0YXJ0U3RyOiB0b0lTT1N0cmluZyhfYWN0aXZlUmFuZ2Uuc3RhcnQpLFxuICAgICAgICAgICAgICAgIGVuZFN0cjogdG9JU09TdHJpbmcoX2FjdGl2ZVJhbmdlLmVuZCksXG4gICAgICAgICAgICAgICAgdmlldzogdG9WaWV3V2l0aExvY2FsRGF0ZXMoJF92aWV3KVxuICAgICAgICAgICAgfSksIGRlYm91bmNlSGFuZGxlLCBfcXVldWUpO1xuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbnsjZWFjaCAkX2F1eGlsaWFyeSBhcyBjb21wb25lbnR9XG4gICAgPHN2ZWx0ZTpjb21wb25lbnQgdGhpcz17Y29tcG9uZW50fSAvPlxuey9lYWNofVxuIiwiPHNjcmlwdD5cbiAgICBpbXBvcnQgJy4uL2luZGV4LmNzcyc7XG4gICAgaW1wb3J0IHtzZXRDb250ZXh0LCBiZWZvcmVVcGRhdGV9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtkZXN0cm95X2NvbXBvbmVudCwgZ2V0X2N1cnJlbnRfY29tcG9uZW50fSBmcm9tICdzdmVsdGUvaW50ZXJuYWwnO1xuICAgIGltcG9ydCB7Z2V0fSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuICAgIGltcG9ydCB7ZGlmZn0gZnJvbSAnLi9zdG9yYWdlL29wdGlvbnMnO1xuICAgIGltcG9ydCBTdGF0ZSBmcm9tICcuL3N0b3JhZ2Uvc3RhdGUnO1xuICAgIGltcG9ydCBUb29sYmFyIGZyb20gJy4vVG9vbGJhci5zdmVsdGUnO1xuICAgIGltcG9ydCBBdXhpbGlhcnkgZnJvbSAnLi9BdXhpbGlhcnkuc3ZlbHRlJztcbiAgICBpbXBvcnQge1xuICAgICAgICBhc3NpZ24sXG4gICAgICAgIHRvRXZlbnRXaXRoTG9jYWxEYXRlcyxcbiAgICAgICAgdG9WaWV3V2l0aExvY2FsRGF0ZXMsXG4gICAgICAgIHRvTG9jYWxEYXRlLFxuICAgICAgICBnZXRFbGVtZW50V2l0aFBheWxvYWQsXG4gICAgICAgIGdldFBheWxvYWQsXG4gICAgICAgIGZsdXNoRGVib3VuY2UsXG4gICAgICAgIGhhc1lTY3JvbGxcbiAgICB9IGZyb20gJy4vbGliLmpzJztcblxuICAgIGV4cG9ydCBsZXQgcGx1Z2lucyA9IFtdO1xuICAgIGV4cG9ydCBsZXQgb3B0aW9ucyA9IHt9O1xuXG4gICAgbGV0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXG4gICAgbGV0IHN0YXRlID0gbmV3IFN0YXRlKHBsdWdpbnMsIG9wdGlvbnMpO1xuICAgIHNldENvbnRleHQoJ3N0YXRlJywgc3RhdGUpO1xuXG4gICAgbGV0IHtfdmlld0NvbXBvbmVudCwgX3ZpZXdDbGFzcywgX2JvZHlFbCwgX2ludGVyYWN0aW9uLCBfaUNsYXNzLCBfZXZlbnRzLCBfcXVldWUsIF9zY3JvbGxhYmxlLFxuICAgICAgICBldmVudHMsIGV2ZW50U291cmNlcywgaGVpZ2h0LCB0aGVtZX0gPSBzdGF0ZTtcblxuICAgIC8vIFJlYWN0aXZlbHkgdXBkYXRlIG9wdGlvbnMgdGhhdCBkaWQgY2hhbmdlXG4gICAgJDogZm9yIChsZXQgW25hbWUsIHZhbHVlXSBvZiBkaWZmKG9wdGlvbnMpKSB7XG4gICAgICAgIHNldE9wdGlvbihuYW1lLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldE9wdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoc3RhdGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZVtuYW1lXS5wYXJzZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gc3RhdGVbbmFtZV0ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGVbbmFtZV0uc2V0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW9uKG5hbWUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gc3RhdGUuaGFzT3duUHJvcGVydHkobmFtZSkgPyBnZXQoc3RhdGVbbmFtZV0pIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlID8gdG9Mb2NhbERhdGUodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlZmV0Y2hFdmVudHMoKSB7XG4gICAgICAgIHN0YXRlLl9mZXRjaGVkUmFuZ2Uuc2V0KHtzdGFydDogdW5kZWZpbmVkLCBlbmQ6IHVuZGVmaW5lZH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gJF9ldmVudHMubWFwKHRvRXZlbnRXaXRoTG9jYWxEYXRlcyk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50QnlJZChpZCkge1xuICAgICAgICBmb3IgKGxldCBldmVudCBvZiAkX2V2ZW50cykge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmlkID09IGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvRXZlbnRXaXRoTG9jYWxEYXRlcyhldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHVwZGF0ZUV2ZW50cyhldmVudHMgPT4gZXZlbnRzLmNvbmNhdChzdGF0ZS5ldmVudHMucGFyc2UoW2V2ZW50XSkpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHVwZGF0ZUV2ZW50cyhldmVudHMgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgZSBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5pZCA9PSBldmVudC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ24oZSwgc3RhdGUuZXZlbnRzLnBhcnNlKFtldmVudF0pWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudEJ5SWQoaWQpIHtcbiAgICAgICAgdXBkYXRlRXZlbnRzKGV2ZW50cyA9PiBldmVudHMuZmlsdGVyKGV2ZW50ID0+IGV2ZW50LmlkICE9IGlkKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3KCkge1xuICAgICAgICByZXR1cm4gdG9WaWV3V2l0aExvY2FsRGF0ZXMoc3RhdGUuX3ZpZXcuZ2V0KCkpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdCgpIHtcbiAgICAgICAgaWYgKCRfaW50ZXJhY3Rpb24uYWN0aW9uKSB7XG4gICAgICAgICAgICAkX2ludGVyYWN0aW9uLmFjdGlvbi51bnNlbGVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBkYXRlRnJvbVBvaW50KHgsIHkpIHtcbiAgICAgICAgbGV0IGRheUVsID0gZ2V0RWxlbWVudFdpdGhQYXlsb2FkKHgsIHkpO1xuICAgICAgICByZXR1cm4gZGF5RWwgPyBnZXRQYXlsb2FkKGRheUVsKSh5KSA6IG51bGw7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlRXZlbnRzKGZ1bmMpIHtcbiAgICAgICAgJF9ldmVudHMgPSBmdW5jKCRfZXZlbnRzKTtcbiAgICAgICAgaWYgKCEkZXZlbnRTb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgJGV2ZW50cyA9ICRfZXZlbnRzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmVmb3JlVXBkYXRlKCgpID0+IHtcbiAgICAgICAgZmx1c2hEZWJvdW5jZSgkX3F1ZXVlKTtcbiAgICAgICAgc2V0VGltZW91dChyZWNoZWNrU2Nyb2xsYWJsZSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiByZWNoZWNrU2Nyb2xsYWJsZSgpIHtcbiAgICAgICAgaWYgKCRfYm9keUVsKSB7XG4gICAgICAgICAgICAkX3Njcm9sbGFibGUgPSBoYXNZU2Nyb2xsKCRfYm9keUVsKTtcbiAgICAgICAgfVxuICAgIH1cbjwvc2NyaXB0PlxuXG48ZGl2XG4gICAgY2xhc3M9XCJ7JHRoZW1lLmNhbGVuZGFyfXskX3ZpZXdDbGFzcyA/ICcgJyArICR0aGVtZVskX3ZpZXdDbGFzc10gOiAnJ317JF9zY3JvbGxhYmxlID8gJyAnICsgJHRoZW1lLndpdGhTY3JvbGwgOiAnJ317JF9pQ2xhc3MgPyAnICcgKyAkdGhlbWVbJF9pQ2xhc3NdIDogJyd9XCJcbiAgICBzdHlsZT1cImhlaWdodDogeyRoZWlnaHR9XCJcbj5cbiAgICA8VG9vbGJhci8+XG4gICAgPHN2ZWx0ZTpjb21wb25lbnQgdGhpcz17JF92aWV3Q29tcG9uZW50fS8+XG48L2Rpdj5cbjxBdXhpbGlhcnkvPlxuXG48c3ZlbHRlOndpbmRvdyBvbjpyZXNpemU9e3JlY2hlY2tTY3JvbGxhYmxlfS8+XG4iLCJpbXBvcnQge2Rlcml2ZWR9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQge2lzX2Z1bmN0aW9ufSBmcm9tICdzdmVsdGUvaW50ZXJuYWwnO1xuaW1wb3J0IHtcbiAgICBEQVlfSU5fU0VDT05EUyxcbiAgICBjcmVhdGVEYXRlLFxuICAgIGNsb25lRGF0ZSxcbiAgICBhZGREdXJhdGlvbixcbiAgICBjcmVhdGVEdXJhdGlvbixcbiAgICBtaW4gYXMgbWluRm4sIG1heCBhcyBtYXhGbixcbiAgICBiZ0V2ZW50XG59IGZyb20gJ0BldmVudC1jYWxlbmRhci9jb3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVzKHN0YXRlKSB7XG4gICAgcmV0dXJuIGRlcml2ZWQoXG4gICAgICAgIFtzdGF0ZS5fc2xvdFRpbWVMaW1pdHMsIHN0YXRlLl9pbnRsU2xvdExhYmVsLCBzdGF0ZS5zbG90RHVyYXRpb25dLFxuICAgICAgICAoWyRfc2xvdFRpbWVMaW1pdHMsICRfaW50bFNsb3RMYWJlbCwgJHNsb3REdXJhdGlvbl0pID0+IHtcbiAgICAgICAgICAgIGxldCBjb21wYWN0ID0gJHNsb3REdXJhdGlvbi5zZWNvbmRzID49IDM2MDA7XG4gICAgICAgICAgICBsZXQgdGltZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBkYXRlID0gY3JlYXRlRGF0ZSgnMjAyMC0wMS0wMScpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IGNsb25lRGF0ZShkYXRlKTtcbiAgICAgICAgICAgIGxldCBpID0gMTtcbiAgICAgICAgICAgIGFkZER1cmF0aW9uKGRhdGUsICRfc2xvdFRpbWVMaW1pdHMubWluKTtcbiAgICAgICAgICAgIGFkZER1cmF0aW9uKGVuZCwgJF9zbG90VGltZUxpbWl0cy5tYXgpO1xuICAgICAgICAgICAgd2hpbGUgKGRhdGUgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICB0aW1lcy5wdXNoKHRpbWVzLmxlbmd0aCAmJiAoaSB8fCBjb21wYWN0KSA/ICRfaW50bFNsb3RMYWJlbC5mb3JtYXQoZGF0ZSkgOiAnJyk7XG4gICAgICAgICAgICAgICAgYWRkRHVyYXRpb24oZGF0ZSwgJHNsb3REdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgaSA9IDEgLSBpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGltZXM7XG4gICAgICAgIH1cbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2xvdFRpbWVMaW1pdHMoc3RhdGUpIHtcbiAgICByZXR1cm4gZGVyaXZlZChcbiAgICAgICAgW3N0YXRlLl9ldmVudHMsIHN0YXRlLl92aWV3RGF0ZXMsIHN0YXRlLmZsZXhpYmxlU2xvdFRpbWVMaW1pdHMsIHN0YXRlLnNsb3RNaW5UaW1lLCBzdGF0ZS5zbG90TWF4VGltZV0sXG4gICAgICAgIChbJF9ldmVudHMsICRfdmlld0RhdGVzLCAkZmxleGlibGVTbG90VGltZUxpbWl0cywgJHNsb3RNaW5UaW1lLCAkc2xvdE1heFRpbWVdKSA9PiB7XG4gICAgICAgICAgICBsZXQgbWluID0gY3JlYXRlRHVyYXRpb24oJHNsb3RNaW5UaW1lKTtcbiAgICAgICAgICAgIGxldCBtYXggPSBjcmVhdGVEdXJhdGlvbigkc2xvdE1heFRpbWUpO1xuXG4gICAgICAgICAgICBpZiAoJGZsZXhpYmxlU2xvdFRpbWVMaW1pdHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWluTWluID0gY3JlYXRlRHVyYXRpb24obWluRm4obWluLnNlY29uZHMsIG1heEZuKDAsIG1heC5zZWNvbmRzIC0gREFZX0lOX1NFQ09ORFMpKSk7XG4gICAgICAgICAgICAgICAgbGV0IG1heE1heCA9IGNyZWF0ZUR1cmF0aW9uKG1heEZuKG1heC5zZWNvbmRzLCBtaW5NaW4uc2Vjb25kcyArIERBWV9JTl9TRUNPTkRTKSk7XG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IGlzX2Z1bmN0aW9uKCRmbGV4aWJsZVNsb3RUaW1lTGltaXRzPy5ldmVudEZpbHRlcilcbiAgICAgICAgICAgICAgICAgICAgPyAkZmxleGlibGVTbG90VGltZUxpbWl0cy5ldmVudEZpbHRlclxuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50ID0+ICFiZ0V2ZW50KGV2ZW50LmRpc3BsYXkpO1xuICAgICAgICAgICAgICAgIGxvb3A6IGZvciAobGV0IGRhdGUgb2YgJF92aWV3RGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gYWRkRHVyYXRpb24oY2xvbmVEYXRlKGRhdGUpLCBtaW4pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gYWRkRHVyYXRpb24oY2xvbmVEYXRlKGRhdGUpLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWluU3RhcnQgPSBhZGREdXJhdGlvbihjbG9uZURhdGUoZGF0ZSksIG1pbk1pbik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhFbmQgPSBhZGREdXJhdGlvbihjbG9uZURhdGUoZGF0ZSksIG1heE1heCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IG9mICRfZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LmFsbERheSAmJiBmaWx0ZXIoZXZlbnQpICYmIGV2ZW50LnN0YXJ0IDwgbWF4RW5kICYmIGV2ZW50LmVuZCA+IG1pblN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0YXJ0IDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlY29uZHMgPSBtYXhGbigoZXZlbnQuc3RhcnQgLSBkYXRlKSAvIDEwMDAsIG1pbk1pbi5zZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZHMgPCBtaW4uc2Vjb25kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluLnNlY29uZHMgPSBzZWNvbmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5lbmQgPiBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlY29uZHMgPSBtaW5GbigoZXZlbnQuZW5kIC0gZGF0ZSkgLyAxMDAwLCBtYXhNYXguc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWNvbmRzID4gbWF4LnNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heC5zZWNvbmRzID0gc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluLnNlY29uZHMgPT09IG1pbk1pbi5zZWNvbmRzICYmIG1heC5zZWNvbmRzID09PSBtYXhNYXguc2Vjb25kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBsb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHttaW4sIG1heH07XG4gICAgICAgIH1cbiAgICApO1xufSIsImltcG9ydCB7aXNfZnVuY3Rpb259IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG5pbXBvcnQge3NvcnRFdmVudENodW5rc30gZnJvbSAnQGV2ZW50LWNhbGVuZGFyL2NvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBFdmVudENodW5rcyhjaHVua3MpIHtcbiAgICBpZiAoIWNodW5rcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNvcnRFdmVudENodW5rcyhjaHVua3MpO1xuXG4gICAgLy8gR3JvdXBcbiAgICBsZXQgZ3JvdXAgPSB7XG4gICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICBlbmQ6IGNodW5rc1swXS5lbmRcbiAgICB9O1xuICAgIGZvciAobGV0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICBsZXQgYyA9IDA7XG4gICAgICAgIGlmIChjaHVuay5zdGFydCA8IGdyb3VwLmVuZCkge1xuICAgICAgICAgICAgZm9yICg7IGMgPCBncm91cC5jb2x1bW5zLmxlbmd0aDsgKytjKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwLmNvbHVtbnNbY11bZ3JvdXAuY29sdW1uc1tjXS5sZW5ndGggLSAxXS5lbmQgPD0gY2h1bmsuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNodW5rLmVuZCA+IGdyb3VwLmVuZCkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmVuZCA9IGNodW5rLmVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdyb3VwID0ge1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICAgICAgICAgIGVuZDogY2h1bmsuZW5kXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyb3VwLmNvbHVtbnMubGVuZ3RoIDwgYyArIDEpIHtcbiAgICAgICAgICAgIGdyb3VwLmNvbHVtbnMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuY29sdW1uc1tjXS5wdXNoKGNodW5rKTtcblxuICAgICAgICBjaHVuay5ncm91cCA9IGdyb3VwO1xuICAgICAgICBjaHVuay5jb2x1bW4gPSBjO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFsbERheUNvbnRlbnQoYWxsRGF5Q29udGVudCkge1xuICAgIGxldCB0ZXh0ID0gJ2FsbC1kYXknO1xuICAgIGxldCBjb250ZW50O1xuICAgIGlmIChhbGxEYXlDb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQgPSBpc19mdW5jdGlvbihhbGxEYXlDb250ZW50KSA/IGFsbERheUNvbnRlbnQoe3RleHR9KSA6IGFsbERheUNvbnRlbnQ7XG4gICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSB7aHRtbDogY29udGVudH07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50ID0ge1xuICAgICAgICAgICAgaHRtbDogdGV4dFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xufVxuIiwiPHNjcmlwdD5cbiAgICBpbXBvcnQge2dldENvbnRleHR9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtzZXRDb250ZW50fSBmcm9tICdAZXZlbnQtY2FsZW5kYXIvY29yZSc7XG4gICAgaW1wb3J0IHtjcmVhdGVBbGxEYXlDb250ZW50fSBmcm9tICcuL3V0aWxzLmpzJztcblxuICAgIGxldCB7YWxsRGF5Q29udGVudCwgdGhlbWUsIF90aW1lc30gPSBnZXRDb250ZXh0KCdzdGF0ZScpO1xuXG4gICAgbGV0IGFsbERheVRleHQ7XG4gICAgJDogYWxsRGF5VGV4dCA9IGNyZWF0ZUFsbERheUNvbnRlbnQoJGFsbERheUNvbnRlbnQpO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJ7JHRoZW1lLnNpZGViYXJ9XCI+XG4gICAgPGRpdiBjbGFzcz1cInskdGhlbWUuc2lkZWJhclRpdGxlfVwiIHVzZTpzZXRDb250ZW50PXthbGxEYXlUZXh0fT48L2Rpdj5cbiAgICB7I2VhY2ggJF90aW1lcyBhcyB0aW1lfVxuICAgICAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS50aW1lfVwiPnt0aW1lfTwvZGl2PlxuICAgIHsvZWFjaH1cbjwvZGl2PlxuPGRpdiBjbGFzcz1cInskdGhlbWUuZGF5c31cIj5cbiAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5saW5lc31cIj48c2xvdCBuYW1lPVwibGluZXNcIj48L3Nsb3Q+PC9kaXY+XG4gICAgPHNsb3Q+PC9zbG90PlxuPC9kaXY+XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7Z2V0Q29udGV4dH0gZnJvbSAnc3ZlbHRlJztcbiAgICBpbXBvcnQgU2VjdGlvbiBmcm9tICcuL1NlY3Rpb24uc3ZlbHRlJztcblxuICAgIGxldCB7X2JvZHlFbCwgX3ZpZXdEYXRlcywgX3Nsb3RUaW1lTGltaXRzLCBfdGltZXMsIHNjcm9sbFRpbWUsIHNsb3REdXJhdGlvbiwgc2xvdEhlaWdodCwgdGhlbWV9ID0gZ2V0Q29udGV4dCgnc3RhdGUnKTtcblxuICAgIGxldCBlbDtcbiAgICBsZXQgY29tcGFjdDtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBsZXQgdGltZUxpbWl0TWluO1xuXG4gICAgJDogJF9ib2R5RWwgPSBlbDtcblxuICAgICQ6IHtcbiAgICAgICAgY29tcGFjdCA9ICRzbG90RHVyYXRpb24uc2Vjb25kcyA+PSAzNjAwO1xuICAgICAgICBsaW5lcy5sZW5ndGggPSAkX3RpbWVzLmxlbmd0aDtcbiAgICAgICAgLy8gVXNlIGludGVybWVkaWF0ZSB2YXJpYWJsZSBzbyB0aGF0IGNoYW5nZXMgaW4gX3Nsb3RUaW1lTGltaXRzIGRvIG5vdCB0cmlnZ2VyIHNldHRpbmcgdGhlIGVsLnNjcm9sbFRvcFxuICAgICAgICB0aW1lTGltaXRNaW4gPSAkX3Nsb3RUaW1lTGltaXRzLm1pbi5zZWNvbmRzO1xuICAgIH1cblxuICAgICQ6IGlmIChlbCAmJiAkX3ZpZXdEYXRlcykge1xuICAgICAgICBzY3JvbGxUb1RpbWUoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvVGltZSgpIHtcbiAgICAgICAgZWwuc2Nyb2xsVG9wID0gKCgkc2Nyb2xsVGltZS5zZWNvbmRzIC0gdGltZUxpbWl0TWluKSAvICRzbG90RHVyYXRpb24uc2Vjb25kcyAtIDAuNSkgKiAkc2xvdEhlaWdodDtcbiAgICB9XG48L3NjcmlwdD5cblxuPGRpdlxuICAgIGJpbmQ6dGhpcz17ZWx9XG4gICAgY2xhc3M9XCJ7JHRoZW1lLmJvZHl9e2NvbXBhY3QgPyAnICcgKyAkdGhlbWUuY29tcGFjdCA6ICcnfVwiXG4+XG4gICAgPGRpdiBjbGFzcz1cInskdGhlbWUuY29udGVudH1cIj5cbiAgICAgICAgPFNlY3Rpb24+XG4gICAgICAgICAgICA8c3ZlbHRlOmZyYWdtZW50IHNsb3Q9XCJsaW5lc1wiPlxuICAgICAgICAgICAgICAgIHsjZWFjaCBsaW5lcyBhcyBsaW5lfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5saW5lfVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvc3ZlbHRlOmZyYWdtZW50PlxuICAgICAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgICA8L1NlY3Rpb24+XG4gICAgPC9kaXY+XG48L2Rpdj5cbiIsIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHtnZXRDb250ZXh0LCBvbk1vdW50fSBmcm9tICdzdmVsdGUnO1xuICAgIGltcG9ydCB7aXNfZnVuY3Rpb259IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG4gICAgaW1wb3J0IHtcbiAgICAgICAgY3JlYXRlRXZlbnRDb250ZW50LFxuICAgICAgICB0b0V2ZW50V2l0aExvY2FsRGF0ZXMsXG4gICAgICAgIHRvVmlld1dpdGhMb2NhbERhdGVzLFxuICAgICAgICBzZXRDb250ZW50LFxuICAgICAgICBiZ0V2ZW50LFxuICAgICAgICBoZWxwZXJFdmVudCxcbiAgICAgICAgZ2hvc3RFdmVudCwgY3JlYXRlRXZlbnRDbGFzc2VzXG4gICAgfSBmcm9tICdAZXZlbnQtY2FsZW5kYXIvY29yZSc7XG5cbiAgICBleHBvcnQgbGV0IGRhdGU7XG4gICAgZXhwb3J0IGxldCBjaHVuaztcblxuICAgIGxldCB7ZGlzcGxheUV2ZW50RW5kLCBldmVudEJhY2tncm91bmRDb2xvciwgZXZlbnRUZXh0Q29sb3IsZXZlbnRDb2xvciwgZXZlbnRDb250ZW50LCBldmVudENsaWNrLCBldmVudERpZE1vdW50LFxuICAgICAgICBldmVudENsYXNzTmFtZXMsIGV2ZW50TW91c2VFbnRlciwgZXZlbnRNb3VzZUxlYXZlLCBzbG90RXZlbnRPdmVybGFwLCBzbG90RHVyYXRpb24sIHNsb3RIZWlnaHQsIHRoZW1lLFxuICAgICAgICBfdmlldywgX2ludGxFdmVudFRpbWUsIF9pbnRlcmFjdGlvbiwgX2lDbGFzc2VzLCBfcmVzQmdDb2xvciwgX3Jlc1R4dENvbG9yLCBfc2xvdFRpbWVMaW1pdHN9ID0gZ2V0Q29udGV4dCgnc3RhdGUnKTtcblxuICAgIGxldCBlbDtcbiAgICBsZXQgZXZlbnQ7XG4gICAgbGV0IGRpc3BsYXk7XG4gICAgbGV0IGNsYXNzZXM7XG4gICAgbGV0IHN0eWxlO1xuICAgIGxldCBjb250ZW50O1xuICAgIGxldCB0aW1lVGV4dDtcbiAgICBsZXQgZHJhZ2dlZCA9IGZhbHNlO1xuXG4gICAgJDogZXZlbnQgPSBjaHVuay5ldmVudDtcblxuICAgICQ6IHtcbiAgICAgICAgZGlzcGxheSA9IGV2ZW50LmRpc3BsYXk7XG5cbiAgICAgICAgLy8gU3R5bGVcbiAgICAgICAgbGV0IHN0ZXAgPSAkc2xvdER1cmF0aW9uLnNlY29uZHMgLyA2MDtcbiAgICAgICAgbGV0IG9mZnNldCA9ICRfc2xvdFRpbWVMaW1pdHMubWluLnNlY29uZHMgLyA2MDtcbiAgICAgICAgbGV0IHN0YXJ0ID0gKGNodW5rLnN0YXJ0IC0gZGF0ZSkgLyAxMDAwIC8gNjA7XG4gICAgICAgIGxldCBlbmQgPSAoY2h1bmsuZW5kIC0gZGF0ZSkgLyAxMDAwIC8gNjA7XG4gICAgICAgIGxldCB0b3AgPSAoc3RhcnQgLSBvZmZzZXQpIC8gc3RlcCAqICRzbG90SGVpZ2h0O1xuICAgICAgICBsZXQgaGVpZ2h0ID0gKGVuZCAtIHN0YXJ0KSAvIHN0ZXAgKiAkc2xvdEhlaWdodDtcbiAgICAgICAgbGV0IG1heEhlaWdodCA9ICgkX3Nsb3RUaW1lTGltaXRzLm1heC5zZWNvbmRzIC8gNjAgLSBzdGFydCkgLyBzdGVwICogJHNsb3RIZWlnaHQ7XG4gICAgICAgIGxldCBiZ0NvbG9yID0gZXZlbnQuYmFja2dyb3VuZENvbG9yIHx8ICRfcmVzQmdDb2xvcihldmVudCkgfHwgJGV2ZW50QmFja2dyb3VuZENvbG9yIHx8ICRldmVudENvbG9yO1xuICAgICAgICBsZXQgdHh0Q29sb3IgPSBldmVudC50ZXh0Q29sb3IgfHwgJF9yZXNUeHRDb2xvcihldmVudCkgfHwgJGV2ZW50VGV4dENvbG9yO1xuICAgICAgICBzdHlsZSA9XG4gICAgICAgICAgICBgdG9wOiR7dG9wfXB4O2AgK1xuICAgICAgICAgICAgYG1pbi1oZWlnaHQ6JHtoZWlnaHR9cHg7YCArXG4gICAgICAgICAgICBgaGVpZ2h0OiR7aGVpZ2h0fXB4O2AgK1xuICAgICAgICAgICAgYG1heC1oZWlnaHQ6JHttYXhIZWlnaHR9cHg7YFxuICAgICAgICA7XG4gICAgICAgIGlmIChiZ0NvbG9yKSB7XG4gICAgICAgICAgICBzdHlsZSArPSBgYmFja2dyb3VuZC1jb2xvcjoke2JnQ29sb3J9O2A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR4dENvbG9yKSB7XG4gICAgICAgICAgICBzdHlsZSArPSBgY29sb3I6JHt0eHRDb2xvcn07YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJnRXZlbnQoZGlzcGxheSkgJiYgIWhlbHBlckV2ZW50KGRpc3BsYXkpIHx8IGdob3N0RXZlbnQoZGlzcGxheSkpIHtcbiAgICAgICAgICAgIHN0eWxlICs9XG4gICAgICAgICAgICAgICAgYHotaW5kZXg6JHtjaHVuay5jb2x1bW4gKyAxfTtgICtcbiAgICAgICAgICAgICAgICBgbGVmdDokezEwMCAvIGNodW5rLmdyb3VwLmNvbHVtbnMubGVuZ3RoICogY2h1bmsuY29sdW1ufSU7YCArXG4gICAgICAgICAgICAgICAgYHdpZHRoOiR7MTAwIC8gY2h1bmsuZ3JvdXAuY29sdW1ucy5sZW5ndGggKiAoJHNsb3RFdmVudE92ZXJsYXAgPyAwLjUgKiAoMSArIGNodW5rLmdyb3VwLmNvbHVtbnMubGVuZ3RoIC0gY2h1bmsuY29sdW1uKSA6IDEpfSU7YFxuICAgICAgICAgICAgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xhc3NcbiAgICAgICAgY2xhc3NlcyA9IFtcbiAgICAgICAgICAgIGJnRXZlbnQoZGlzcGxheSkgPyAkdGhlbWUuYmdFdmVudCA6ICR0aGVtZS5ldmVudCxcbiAgICAgICAgICAgIC4uLiRfaUNsYXNzZXMoW10sIGV2ZW50KSxcbiAgICAgICAgICAgIC4uLmNyZWF0ZUV2ZW50Q2xhc3NlcygkZXZlbnRDbGFzc05hbWVzLCBldmVudCwgJF92aWV3KVxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICAvLyBDb250ZW50XG4gICAgJDogW3RpbWVUZXh0LCBjb250ZW50XSA9IGNyZWF0ZUV2ZW50Q29udGVudChjaHVuaywgJGRpc3BsYXlFdmVudEVuZCwgJGV2ZW50Q29udGVudCwgJHRoZW1lLCAkX2ludGxFdmVudFRpbWUsICRfdmlldyk7XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKCRldmVudERpZE1vdW50KSkge1xuICAgICAgICAgICAgJGV2ZW50RGlkTW91bnQoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiB0b0V2ZW50V2l0aExvY2FsRGF0ZXMoZXZlbnQpLFxuICAgICAgICAgICAgICAgIHRpbWVUZXh0LFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIHZpZXc6IHRvVmlld1dpdGhMb2NhbERhdGVzKCRfdmlldylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVIYW5kbGVyKGZuLCBkaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiAhaGVscGVyRXZlbnQoZGlzcGxheSkgJiYgaXNfZnVuY3Rpb24oZm4pXG4gICAgICAgICAgICA/IGpzRXZlbnQgPT4gZm4oe2V2ZW50OiB0b0V2ZW50V2l0aExvY2FsRGF0ZXMoZXZlbnQpLCBlbCwganNFdmVudCwgdmlldzogdG9WaWV3V2l0aExvY2FsRGF0ZXMoJF92aWV3KX0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEcmFnSGFuZGxlcihpbnRlcmFjdGlvbiwgcmVzaXplKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbi5hY3Rpb25cbiAgICAgICAgICAgID8ganNFdmVudCA9PiBpbnRlcmFjdGlvbi5hY3Rpb24uZHJhZyhldmVudCwganNFdmVudCwgcmVzaXplKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LWNsaWNrLWV2ZW50cy1oYXZlLWtleS1ldmVudHMgLS0+XG48IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMgLS0+XG48ZGl2XG4gICAgYmluZDp0aGlzPXtlbH1cbiAgICBjbGFzcz1cIntjbGFzc2VzfVwiXG4gICAge3N0eWxlfVxuICAgIG9uOmNsaWNrPXshYmdFdmVudChkaXNwbGF5KSAmJiBjcmVhdGVIYW5kbGVyKCRldmVudENsaWNrLCBkaXNwbGF5KX1cbiAgICBvbjptb3VzZWVudGVyPXtjcmVhdGVIYW5kbGVyKCRldmVudE1vdXNlRW50ZXIsIGRpc3BsYXkpfVxuICAgIG9uOm1vdXNlbGVhdmU9e2NyZWF0ZUhhbmRsZXIoJGV2ZW50TW91c2VMZWF2ZSwgZGlzcGxheSl9XG4gICAgb246cG9pbnRlcmRvd249eyFiZ0V2ZW50KGRpc3BsYXkpICYmICFoZWxwZXJFdmVudChkaXNwbGF5KSAmJiBjcmVhdGVEcmFnSGFuZGxlcigkX2ludGVyYWN0aW9uKX1cbj5cbiAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5ldmVudEJvZHl9XCIgdXNlOnNldENvbnRlbnQ9e2NvbnRlbnR9PjwvZGl2PlxuICAgIDxzdmVsdGU6Y29tcG9uZW50XG4gICAgICAgIHRoaXM9eyRfaW50ZXJhY3Rpb24ucmVzaXplcn1cbiAgICAgICAge2V2ZW50fVxuICAgICAgICBvbjpwb2ludGVyZG93bj17Y3JlYXRlRHJhZ0hhbmRsZXIoJF9pbnRlcmFjdGlvbiwgdHJ1ZSl9XG4gICAgLz5cbjwvZGl2PlxuIiwiPHNjcmlwdD5cbiAgICBpbXBvcnQge2dldENvbnRleHR9IGZyb20gJ3N2ZWx0ZSc7XG5cbiAgICBsZXQge3Nsb3REdXJhdGlvbiwgc2xvdEhlaWdodCwgdGhlbWUsIF9ub3csIF90b2RheSwgX3Nsb3RUaW1lTGltaXRzfSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICBsZXQgc3RhcnQ7XG4gICAgbGV0IHRvcCA9IDA7XG5cbiAgICAkOiBzdGFydCA9ICgkX25vdyAtICRfdG9kYXkpIC8gMTAwMCAvIDYwO1xuICAgICQ6IHtcbiAgICAgICAgLy8gU3R5bGVcbiAgICAgICAgbGV0IHN0ZXAgPSAkc2xvdER1cmF0aW9uLnNlY29uZHMgLyA2MDtcbiAgICAgICAgbGV0IG9mZnNldCA9ICRfc2xvdFRpbWVMaW1pdHMubWluLnNlY29uZHMgLyA2MDtcbiAgICAgICAgdG9wID0gKHN0YXJ0IC0gb2Zmc2V0KSAvIHN0ZXAgKiAkc2xvdEhlaWdodDtcbiAgICB9XG48L3NjcmlwdD5cblxuPGRpdlxuICAgIGNsYXNzPVwieyR0aGVtZS5ub3dJbmRpY2F0b3J9XCJcbiAgICBzdHlsZT1cInRvcDp7dG9wfXB4XCJcbj48L2Rpdj4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7Z2V0Q29udGV4dH0gZnJvbSAnc3ZlbHRlJztcbiAgICBpbXBvcnQge1xuICAgICAgICBjbG9uZURhdGUsXG4gICAgICAgIGFkZER1cmF0aW9uLFxuICAgICAgICBkYXRlc0VxdWFsLFxuICAgICAgICBjcmVhdGVFdmVudENodW5rLFxuICAgICAgICBldmVudEludGVyc2VjdHMsXG4gICAgICAgIGZsb29yLFxuICAgICAgICByZWN0LFxuICAgICAgICBzZXRQYXlsb2FkXG4gICAgfSBmcm9tICdAZXZlbnQtY2FsZW5kYXIvY29yZSc7XG4gICAgaW1wb3J0IHtncm91cEV2ZW50Q2h1bmtzfSBmcm9tICcuL3V0aWxzJztcbiAgICBpbXBvcnQgRXZlbnQgZnJvbSAnLi9FdmVudC5zdmVsdGUnO1xuICAgIGltcG9ydCBOb3dJbmRpY2F0b3IgZnJvbSAnLi9Ob3dJbmRpY2F0b3Iuc3ZlbHRlJztcblxuICAgIGV4cG9ydCBsZXQgZGF0ZTtcbiAgICBleHBvcnQgbGV0IHJlc291cmNlID0gdW5kZWZpbmVkO1xuXG4gICAgbGV0IHtfZXZlbnRzLCBfaUV2ZW50cywgaGlnaGxpZ2h0ZWREYXRlcywgbm93SW5kaWNhdG9yLCBzbG90RHVyYXRpb24sIHNsb3RIZWlnaHQsIHRoZW1lLFxuICAgICAgICBfaW50ZXJhY3Rpb24sIF90b2RheSwgX3Nsb3RUaW1lTGltaXRzfSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICBsZXQgZWw7XG4gICAgbGV0IGNodW5rcywgYmdDaHVua3MsIGlDaHVua3MgPSBbXTtcbiAgICBsZXQgaXNUb2RheSwgaGlnaGxpZ2h0O1xuXG4gICAgbGV0IHN0YXJ0LCBlbmQ7XG5cbiAgICAkOiB7XG4gICAgICAgIHN0YXJ0ID0gYWRkRHVyYXRpb24oY2xvbmVEYXRlKGRhdGUpLCAkX3Nsb3RUaW1lTGltaXRzLm1pbik7XG4gICAgICAgIGVuZCA9IGFkZER1cmF0aW9uKGNsb25lRGF0ZShkYXRlKSwgJF9zbG90VGltZUxpbWl0cy5tYXgpO1xuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgY2h1bmtzID0gW107XG4gICAgICAgIGJnQ2h1bmtzID0gW107XG4gICAgICAgIGZvciAobGV0IGV2ZW50IG9mICRfZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LmFsbERheSAmJiBldmVudEludGVyc2VjdHMoZXZlbnQsIHN0YXJ0LCBlbmQsIHJlc291cmNlLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgIGxldCBjaHVuayA9IGNyZWF0ZUV2ZW50Q2h1bmsoZXZlbnQsIHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuZGlzcGxheSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdiYWNrZ3JvdW5kJzogYmdDaHVua3MucHVzaChjaHVuayk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdyb3VwRXZlbnRDaHVua3MoY2h1bmtzKTtcbiAgICB9XG5cbiAgICAkOiBpQ2h1bmtzID0gJF9pRXZlbnRzLm1hcChcbiAgICAgICAgZXZlbnQgPT4gZXZlbnQgJiYgZXZlbnRJbnRlcnNlY3RzKGV2ZW50LCBzdGFydCwgZW5kLCByZXNvdXJjZSwgdHJ1ZSkgPyBjcmVhdGVFdmVudENodW5rKGV2ZW50LCBzdGFydCwgZW5kKSA6IG51bGxcbiAgICApO1xuXG4gICAgJDogaXNUb2RheSA9IGRhdGVzRXF1YWwoZGF0ZSwgJF90b2RheSk7XG4gICAgJDogaGlnaGxpZ2h0ID0gJGhpZ2hsaWdodGVkRGF0ZXMuc29tZShkID0+IGRhdGVzRXF1YWwoZCwgZGF0ZSkpO1xuXG4gICAgZnVuY3Rpb24gZGF0ZUZyb21Qb2ludCh5KSB7XG4gICAgICAgIHkgLT0gcmVjdChlbCkudG9wO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWxsRGF5OiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGU6IGFkZER1cmF0aW9uKFxuICAgICAgICAgICAgICAgIGFkZER1cmF0aW9uKGNsb25lRGF0ZShkYXRlKSwgJF9zbG90VGltZUxpbWl0cy5taW4pLFxuICAgICAgICAgICAgICAgICRzbG90RHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZmxvb3IoeSAvICRzbG90SGVpZ2h0KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHJlc291cmNlLFxuICAgICAgICAgICAgZGF5RWw6IGVsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgJDogaWYgKGVsKSB7XG4gICAgICAgIHNldFBheWxvYWQoZWwsIGRhdGVGcm9tUG9pbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBvaW50ZXJFbnRlckhhbmRsZXIoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uLnBvaW50ZXJcbiAgICAgICAgICAgID8ganNFdmVudCA9PiBpbnRlcmFjdGlvbi5wb2ludGVyLmVudGVyVGltZUdyaWQoZGF0ZSwgZWwsIGpzRXZlbnQsIHJlc291cmNlKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXZcbiAgICBiaW5kOnRoaXM9e2VsfVxuICAgIGNsYXNzPVwieyR0aGVtZS5kYXl9e2lzVG9kYXkgPyAnICcgKyAkdGhlbWUudG9kYXkgOiAnJ317aGlnaGxpZ2h0ID8gJyAnICsgJHRoZW1lLmhpZ2hsaWdodCA6ICcnfVwiXG4gICAgb246cG9pbnRlcmVudGVyPXtjcmVhdGVQb2ludGVyRW50ZXJIYW5kbGVyKCRfaW50ZXJhY3Rpb24pfVxuICAgIG9uOnBvaW50ZXJsZWF2ZT17JF9pbnRlcmFjdGlvbi5wb2ludGVyPy5sZWF2ZX1cbiAgICBvbjpwb2ludGVyZG93bj17JF9pbnRlcmFjdGlvbi5hY3Rpb24/LnNlbGVjdH1cbj5cbiAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5iZ0V2ZW50c31cIj5cbiAgICAgICAgeyNlYWNoIGJnQ2h1bmtzIGFzIGNodW5rIChjaHVuay5ldmVudCl9XG4gICAgICAgICAgICA8RXZlbnQge2RhdGV9IHtjaHVua30vPlxuICAgICAgICB7L2VhY2h9XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInskdGhlbWUuZXZlbnRzfVwiPlxuICAgICAgICA8IS0tIFBvaW50ZXIgLS0+XG4gICAgICAgIHsjaWYgaUNodW5rc1sxXX1cbiAgICAgICAgICAgIDxFdmVudCB7ZGF0ZX0gY2h1bms9e2lDaHVua3NbMV19Lz5cbiAgICAgICAgey9pZn1cbiAgICAgICAgeyNlYWNoIGNodW5rcyBhcyBjaHVuayAoY2h1bmsuZXZlbnQpfVxuICAgICAgICAgICAgPEV2ZW50IHtkYXRlfSB7Y2h1bmt9Lz5cbiAgICAgICAgey9lYWNofVxuICAgICAgICA8IS0tIERyYWcsIFJlc2l6ZSAmIFNlbGVjdCAtLT5cbiAgICAgICAgeyNpZiBpQ2h1bmtzWzBdICYmICFpQ2h1bmtzWzBdLmV2ZW50LmFsbERheX1cbiAgICAgICAgICAgIDxFdmVudCB7ZGF0ZX0gY2h1bms9e2lDaHVua3NbMF19Lz5cbiAgICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5leHRyYX1cIj5cbiAgICAgICAgPCEtLSBOb3cgaW5kaWNhdG9yIC0tPlxuICAgICAgICB7I2lmICRub3dJbmRpY2F0b3IgJiYgaXNUb2RheX1cbiAgICAgICAgICAgIDxOb3dJbmRpY2F0b3IgLz5cbiAgICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbjwvZGl2PiIsIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHtnZXRDb250ZXh0LCBvbk1vdW50LCBjcmVhdGVFdmVudERpc3BhdGNoZXJ9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtpc19mdW5jdGlvbn0gZnJvbSAnc3ZlbHRlL2ludGVybmFsJztcbiAgICBpbXBvcnQge1xuICAgICAgICBjcmVhdGVFdmVudENsYXNzZXMsXG4gICAgICAgIGNyZWF0ZUV2ZW50Q29udGVudCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB0b0V2ZW50V2l0aExvY2FsRGF0ZXMsXG4gICAgICAgIHRvVmlld1dpdGhMb2NhbERhdGVzLFxuICAgICAgICBzZXRDb250ZW50LFxuICAgICAgICByZXBvc2l0aW9uRXZlbnQsXG4gICAgICAgIGhlbHBlckV2ZW50LFxuICAgICAgICBwcmV2aWV3RXZlbnRcbiAgICB9IGZyb20gJ0BldmVudC1jYWxlbmRhci9jb3JlJztcblxuICAgIGV4cG9ydCBsZXQgY2h1bms7XG4gICAgZXhwb3J0IGxldCBsb25nQ2h1bmtzID0ge307XG5cbiAgICBsZXQge2Rpc3BsYXlFdmVudEVuZCwgZXZlbnRCYWNrZ3JvdW5kQ29sb3IsIGV2ZW50VGV4dENvbG9yLCBldmVudENsaWNrLCBldmVudENvbG9yLCBldmVudENvbnRlbnQsIGV2ZW50Q2xhc3NOYW1lcyxcbiAgICAgICAgZXZlbnREaWRNb3VudCwgZXZlbnRNb3VzZUVudGVyLCBldmVudE1vdXNlTGVhdmUsIHRoZW1lLCBfdmlldywgX2ludGxFdmVudFRpbWUsIF9pbnRlcmFjdGlvbiwgX2lDbGFzc2VzLFxuICAgICAgICBfcmVzQmdDb2xvciwgX3Jlc1R4dENvbG9yfSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXG4gICAgbGV0IGVsO1xuICAgIGxldCBldmVudDtcbiAgICBsZXQgY2xhc3NlcztcbiAgICBsZXQgc3R5bGU7XG4gICAgbGV0IGNvbnRlbnQ7XG4gICAgbGV0IHRpbWVUZXh0O1xuICAgIGxldCBtYXJnaW4gPSAxO1xuICAgIGxldCBoaWRkZW4gPSBmYWxzZTtcbiAgICBsZXQgZGlzcGxheTtcblxuICAgICQ6IGV2ZW50ID0gY2h1bmsuZXZlbnQ7XG5cbiAgICAkOiB7XG4gICAgICAgIGRpc3BsYXkgPSBldmVudC5kaXNwbGF5O1xuXG4gICAgICAgIC8vIENsYXNzICYgU3R5bGVcbiAgICAgICAgbGV0IGJnQ29sb3IgPSBldmVudC5iYWNrZ3JvdW5kQ29sb3IgfHwgJF9yZXNCZ0NvbG9yKGV2ZW50KSB8fCAkZXZlbnRCYWNrZ3JvdW5kQ29sb3IgfHwgJGV2ZW50Q29sb3I7XG4gICAgICAgIGxldCB0eHRDb2xvciA9IGV2ZW50LnRleHRDb2xvciB8fCAkX3Jlc1R4dENvbG9yKGV2ZW50KSB8fCAkZXZlbnRUZXh0Q29sb3I7XG4gICAgICAgIHN0eWxlID1cbiAgICAgICAgICAgIGB3aWR0aDpjYWxjKCR7Y2h1bmsuZGF5cyAqIDEwMH0lICsgJHsoY2h1bmsuZGF5cyAtIDEpICogN31weCk7YCArXG4gICAgICAgICAgICBgbWFyZ2luLXRvcDoke21hcmdpbn1weDtgXG4gICAgICAgIDtcbiAgICAgICAgaWYgKGJnQ29sb3IpIHtcbiAgICAgICAgICAgIHN0eWxlICs9IGBiYWNrZ3JvdW5kLWNvbG9yOiR7YmdDb2xvcn07YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHh0Q29sb3IpIHtcbiAgICAgICAgICAgIHN0eWxlICs9IGBjb2xvcjoke3R4dENvbG9yfTtgO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xhc3NlcyA9IFtcbiAgICAgICAgICAgICR0aGVtZS5ldmVudCxcbiAgICAgICAgICAgIC4uLiRfaUNsYXNzZXMoW10sIGV2ZW50KSxcbiAgICAgICAgICAgIC4uLmNyZWF0ZUV2ZW50Q2xhc3NlcygkZXZlbnRDbGFzc05hbWVzLCBldmVudCwgJF92aWV3KVxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICAvLyBDb250ZW50XG4gICAgJDogW3RpbWVUZXh0LCBjb250ZW50XSA9IGNyZWF0ZUV2ZW50Q29udGVudChjaHVuaywgJGRpc3BsYXlFdmVudEVuZCwgJGV2ZW50Q29udGVudCwgJHRoZW1lLCAkX2ludGxFdmVudFRpbWUsICRfdmlldyk7XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKCRldmVudERpZE1vdW50KSkge1xuICAgICAgICAgICAgJGV2ZW50RGlkTW91bnQoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiB0b0V2ZW50V2l0aExvY2FsRGF0ZXMoZXZlbnQpLFxuICAgICAgICAgICAgICAgIHRpbWVUZXh0LFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIHZpZXc6IHRvVmlld1dpdGhMb2NhbERhdGVzKCRfdmlldylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVIYW5kbGVyKGZuLCBkaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiAhaGVscGVyRXZlbnQoZGlzcGxheSkgJiYgaXNfZnVuY3Rpb24oZm4pXG4gICAgICAgICAgICA/IGpzRXZlbnQgPT4gZm4oe2V2ZW50OiB0b0V2ZW50V2l0aExvY2FsRGF0ZXMoZXZlbnQpLCBlbCwganNFdmVudCwgdmlldzogdG9WaWV3V2l0aExvY2FsRGF0ZXMoJF92aWV3KX0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEcmFnSGFuZGxlcihpbnRlcmFjdGlvbiwgcmVzaXplKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbi5hY3Rpb25cbiAgICAgICAgICAgID8ganNFdmVudCA9PiBpbnRlcmFjdGlvbi5hY3Rpb24uZHJhZyhldmVudCwganNFdmVudCwgcmVzaXplKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlcG9zaXRpb24oKSB7XG4gICAgICAgIGlmICghZWwgfHwgcHJldmlld0V2ZW50KGRpc3BsYXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFyZ2luID0gcmVwb3NpdGlvbkV2ZW50KGNodW5rLCBsb25nQ2h1bmtzLCBoZWlnaHQoZWwpKTtcbiAgICB9XG48L3NjcmlwdD5cblxuPCEtLSBzdmVsdGUtaWdub3JlIGExMXktY2xpY2stZXZlbnRzLWhhdmUta2V5LWV2ZW50cyAtLT5cbjwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LW5vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucyAtLT5cbjxkaXZcbiAgICBiaW5kOnRoaXM9e2VsfVxuICAgIGNsYXNzPVwie2NsYXNzZXN9XCJcbiAgICB7c3R5bGV9XG4gICAgb246Y2xpY2s9e2NyZWF0ZUhhbmRsZXIoJGV2ZW50Q2xpY2ssIGRpc3BsYXkpfVxuICAgIG9uOm1vdXNlZW50ZXI9e2NyZWF0ZUhhbmRsZXIoJGV2ZW50TW91c2VFbnRlciwgZGlzcGxheSl9XG4gICAgb246bW91c2VsZWF2ZT17Y3JlYXRlSGFuZGxlcigkZXZlbnRNb3VzZUxlYXZlLCBkaXNwbGF5KX1cbiAgICBvbjpwb2ludGVyZG93bj17IWhlbHBlckV2ZW50KGRpc3BsYXkpICYmIGNyZWF0ZURyYWdIYW5kbGVyKCRfaW50ZXJhY3Rpb24pfVxuPlxuICAgIDxkaXYgY2xhc3M9XCJ7JHRoZW1lLmV2ZW50Qm9keX1cIiB1c2U6c2V0Q29udGVudD17Y29udGVudH0+PC9kaXY+XG4gICAgPHN2ZWx0ZTpjb21wb25lbnRcbiAgICAgICAgdGhpcz17JF9pbnRlcmFjdGlvbi5yZXNpemVyfVxuICAgICAgICB7ZXZlbnR9XG4gICAgICAgIG9uOnBvaW50ZXJkb3duPXtjcmVhdGVEcmFnSGFuZGxlcigkX2ludGVyYWN0aW9uLCB0cnVlKX1cbiAgICAvPlxuPC9kaXY+XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7YWZ0ZXJVcGRhdGUsIGdldENvbnRleHR9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtcbiAgICAgICAgY3JlYXRlRGF0ZSxcbiAgICAgICAgc2V0TWlkbmlnaHQsXG4gICAgICAgIGRhdGVzRXF1YWwsXG4gICAgICAgIHNldFBheWxvYWRcbiAgICB9IGZyb20gJ0BldmVudC1jYWxlbmRhci9jb3JlJztcbiAgICBpbXBvcnQgRXZlbnQgZnJvbSAnLi9FdmVudC5zdmVsdGUnO1xuXG4gICAgZXhwb3J0IGxldCBkYXRlO1xuICAgIGV4cG9ydCBsZXQgY2h1bmtzO1xuICAgIGV4cG9ydCBsZXQgbG9uZ0NodW5rcztcbiAgICBleHBvcnQgbGV0IGlDaHVua3MgPSBbXTtcbiAgICBleHBvcnQgbGV0IHJlc291cmNlID0gdW5kZWZpbmVkO1xuXG4gICAgbGV0IHtoaWdobGlnaHRlZERhdGVzLCB0aGVtZSwgX2ludGVyYWN0aW9ufSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICBsZXQgZWw7XG4gICAgbGV0IGRheUNodW5rcztcbiAgICBsZXQgdG9kYXkgPSBzZXRNaWRuaWdodChjcmVhdGVEYXRlKCkpO1xuICAgIGxldCBpc1RvZGF5O1xuICAgIGxldCBoaWdobGlnaHQ7XG4gICAgbGV0IHJlZnMgPSBbXTtcblxuICAgICQ6IHtcbiAgICAgICAgZGF5Q2h1bmtzID0gW107XG4gICAgICAgIGZvciAobGV0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICAgICAgaWYgKGRhdGVzRXF1YWwoY2h1bmsuZGF0ZSwgZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBkYXlDaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgIGlzVG9kYXkgPSBkYXRlc0VxdWFsKGRhdGUsIHRvZGF5KTtcbiAgICAgICAgaGlnaGxpZ2h0ID0gJGhpZ2hsaWdodGVkRGF0ZXMuc29tZShkID0+IGRhdGVzRXF1YWwoZCwgZGF0ZSkpO1xuICAgIH1cblxuICAgIC8vIGRhdGVGcm9tUG9pbnRcbiAgICAkOiBpZiAoZWwpIHtcbiAgICAgICAgc2V0UGF5bG9hZChlbCwgKCkgPT4gKHthbGxEYXk6IHRydWUsIGRhdGUsIHJlc291cmNlLCBkYXlFbDogZWx9KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUG9pbnRlckRvd25IYW5kbGVyKGludGVyYWN0aW9uLCBzZWxlY3RhYmxlKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RhYmxlICYmIGludGVyYWN0aW9uLmFjdGlvblxuICAgICAgICAgICAgPyBpbnRlcmFjdGlvbi5hY3Rpb24uc2VsZWN0XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXBvc2l0aW9uKCkge1xuICAgICAgICByZWZzLmxlbmd0aCA9IGRheUNodW5rcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IHJlZiBvZiByZWZzKSB7XG4gICAgICAgICAgICByZWYgJiYgcmVmLnJlcG9zaXRpb24gJiYgcmVmLnJlcG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFmdGVyVXBkYXRlKHJlcG9zaXRpb24pO1xuPC9zY3JpcHQ+XG5cbjxkaXZcbiAgICBiaW5kOnRoaXM9e2VsfVxuICAgIGNsYXNzPVwieyR0aGVtZS5kYXl9e2lzVG9kYXkgPyAnICcgKyAkdGhlbWUudG9kYXkgOiAnJ317aGlnaGxpZ2h0ID8gJyAnICsgJHRoZW1lLmhpZ2hsaWdodCA6ICcnfVwiXG4gICAgb246cG9pbnRlcmRvd249eyRfaW50ZXJhY3Rpb24uYWN0aW9uPy5zZWxlY3R9XG4+XG4gICAgPCEtLSBEcmFnLCBSZXNpemUgJiBTZWxlY3QgLS0+XG4gICAgeyNpZiBpQ2h1bmtzWzBdICYmIGRhdGVzRXF1YWwoaUNodW5rc1swXS5kYXRlLCBkYXRlKX1cbiAgICAgICAgPGRpdiBjbGFzcz1cInskdGhlbWUuZXZlbnRzfSB7JHRoZW1lLnByZXZpZXd9XCI+XG4gICAgICAgICAgICA8RXZlbnQgY2h1bms9e2lDaHVua3NbMF19Lz5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cbiAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5ldmVudHN9XCI+XG4gICAgICAgIHsjZWFjaCBkYXlDaHVua3MgYXMgY2h1bmssIGkgKGNodW5rLmV2ZW50KX1cbiAgICAgICAgICAgIDxFdmVudCB7Y2h1bmt9IHtsb25nQ2h1bmtzfSBiaW5kOnRoaXM9e3JlZnNbaV19Lz5cbiAgICAgICAgey9lYWNofVxuICAgIDwvZGl2PlxuPC9kaXY+XG5cbjxzdmVsdGU6d2luZG93IG9uOnJlc2l6ZT17cmVwb3NpdGlvbn0vPlxuIiwiPHNjcmlwdD5cbiAgICBpbXBvcnQge2dldENvbnRleHR9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtjbG9uZURhdGUsIGFkZERheSwgY3JlYXRlRXZlbnRDaHVuaywgcHJlcGFyZUV2ZW50Q2h1bmtzLCBldmVudEludGVyc2VjdHN9IGZyb20gJ0BldmVudC1jYWxlbmRhci9jb3JlJztcbiAgICBpbXBvcnQgRGF5IGZyb20gJy4vRGF5LnN2ZWx0ZSc7XG5cbiAgICBleHBvcnQgbGV0IGRhdGVzO1xuICAgIGV4cG9ydCBsZXQgcmVzb3VyY2UgPSB1bmRlZmluZWQ7XG5cbiAgICBsZXQge19ldmVudHMsIF9pRXZlbnRzLCBoaWRkZW5EYXlzLCB0aGVtZX0gPSBnZXRDb250ZXh0KCdzdGF0ZScpO1xuXG4gICAgbGV0IGNodW5rcywgbG9uZ0NodW5rcywgaUNodW5rcyA9IFtdO1xuXG4gICAgbGV0IHN0YXJ0O1xuICAgIGxldCBlbmQ7XG5cbiAgICAkOiB7XG4gICAgICAgIHN0YXJ0ID0gZGF0ZXNbMF07XG4gICAgICAgIGVuZCA9IGFkZERheShjbG9uZURhdGUoZGF0ZXNbZGF0ZXMubGVuZ3RoIC0gMV0pKTtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgIGNodW5rcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBldmVudCBvZiAkX2V2ZW50cykge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmFsbERheSAmJiBldmVudC5kaXNwbGF5ICE9PSAnYmFja2dyb3VuZCcgJiYgZXZlbnRJbnRlcnNlY3RzKGV2ZW50LCBzdGFydCwgZW5kLCByZXNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2h1bmsgPSBjcmVhdGVFdmVudENodW5rKGV2ZW50LCBzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9uZ0NodW5rcyA9IHByZXBhcmVFdmVudENodW5rcyhjaHVua3MsICRoaWRkZW5EYXlzKTtcbiAgICB9XG5cbiAgICAkOiBpQ2h1bmtzID0gJF9pRXZlbnRzLm1hcChldmVudCA9PiB7XG4gICAgICAgIGxldCBjaHVuaztcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmFsbERheSAmJiBldmVudEludGVyc2VjdHMoZXZlbnQsIHN0YXJ0LCBlbmQsIHJlc291cmNlKSkge1xuICAgICAgICAgICAgY2h1bmsgPSBjcmVhdGVFdmVudENodW5rKGV2ZW50LCBzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIHByZXBhcmVFdmVudENodW5rcyhbY2h1bmtdLCAkaGlkZGVuRGF5cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaHVuayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNodW5rO1xuICAgIH0pO1xuPC9zY3JpcHQ+XG5cbnsjZWFjaCBkYXRlcyBhcyBkYXRlfVxuICAgIDxEYXkge2RhdGV9IHtjaHVua3N9IHtsb25nQ2h1bmtzfSB7aUNodW5rc30ge3Jlc291cmNlfS8+XG57L2VhY2h9XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7Z2V0Q29udGV4dH0gZnJvbSAnc3ZlbHRlJztcbiAgICBpbXBvcnQgU2VjdGlvbiBmcm9tICcuL1NlY3Rpb24uc3ZlbHRlJztcbiAgICBpbXBvcnQgQm9keSBmcm9tICcuL0JvZHkuc3ZlbHRlJztcbiAgICBpbXBvcnQgRGF5IGZyb20gJy4vRGF5LnN2ZWx0ZSc7XG4gICAgaW1wb3J0IFdlZWsgZnJvbSAnLi9hbGwtZGF5L1dlZWsuc3ZlbHRlJztcblxuICAgIGxldCB7X3ZpZXdEYXRlcywgX2ludGxEYXlIZWFkZXIsIF92aWV3Q2xhc3MsIF9zY3JvbGxhYmxlLCBhbGxEYXlTbG90LCB0aGVtZX0gPSBnZXRDb250ZXh0KCdzdGF0ZScpO1xuXG4gICAgJF92aWV3Q2xhc3MgPSAnd2Vlayc7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInskdGhlbWUuaGVhZGVyfVwiPlxuICAgIDxTZWN0aW9uPlxuICAgICAgICB7I2VhY2ggJF92aWV3RGF0ZXMgYXMgZGF0ZX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ7JHRoZW1lLmRheX1cIj57JF9pbnRsRGF5SGVhZGVyLmZvcm1hdChkYXRlKX08L2Rpdj5cbiAgICAgICAgey9lYWNofVxuICAgIDwvU2VjdGlvbj5cbiAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5oaWRkZW5TY3JvbGx9XCI+PC9kaXY+XG48L2Rpdj5cbnsjaWYgJGFsbERheVNsb3R9XG4gICAgPGRpdiBjbGFzcz1cInskdGhlbWUuYWxsRGF5fVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5jb250ZW50fVwiPlxuICAgICAgICAgICAgPFNlY3Rpb24+XG4gICAgICAgICAgICAgICAgPFdlZWsgZGF0ZXM9eyRfdmlld0RhdGVzfS8+XG4gICAgICAgICAgICA8L1NlY3Rpb24+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwieyR0aGVtZS5oaWRkZW5TY3JvbGx9XCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2Plxuey9pZn1cbjxCb2R5PlxueyNlYWNoICRfdmlld0RhdGVzIGFzIGRhdGV9XG4gICAgPERheSB7ZGF0ZX0vPlxuey9lYWNofVxuPC9Cb2R5PiIsImltcG9ydCB7YnRuVGV4dERheSwgYnRuVGV4dFdlZWt9IGZyb20gJ0BldmVudC1jYWxlbmRhci9jb3JlJztcbmltcG9ydCB7c2xvdFRpbWVMaW1pdHMsIHRpbWVzfSBmcm9tICcuL3N0b3Jlcy5qcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuL1ZpZXcuc3ZlbHRlJztcblxuZXhwb3J0IHtkZWZhdWx0IGFzIFNlY3Rpb259IGZyb20gJy4vU2VjdGlvbi5zdmVsdGUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEJvZHl9IGZyb20gJy4vQm9keS5zdmVsdGUnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIERheX0gZnJvbSAnLi9EYXkuc3ZlbHRlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBXZWVrfSBmcm9tICcuL2FsbC1kYXkvV2Vlay5zdmVsdGUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cdGNyZWF0ZU9wdGlvbnMob3B0aW9ucykge1xuXHRcdC8vIENvbW1vbiBvcHRpb25zXG5cdFx0b3B0aW9ucy5idXR0b25UZXh0LnRpbWVHcmlkRGF5ID0gJ2RheSc7XG5cdFx0b3B0aW9ucy5idXR0b25UZXh0LnRpbWVHcmlkV2VlayA9ICd3ZWVrJztcblx0XHRvcHRpb25zLnZpZXcgPSAndGltZUdyaWRXZWVrJztcblx0XHRvcHRpb25zLnZpZXdzLnRpbWVHcmlkRGF5ID0ge1xuXHRcdFx0YnV0dG9uVGV4dDogYnRuVGV4dERheSxcblx0XHRcdGNvbXBvbmVudDogVmlldyxcblx0XHRcdGRheUhlYWRlckZvcm1hdDoge3dlZWtkYXk6ICdsb25nJ30sXG5cdFx0XHRkdXJhdGlvbjoge2RheXM6IDF9LFxuXHRcdFx0dGl0bGVGb3JtYXQ6IHt5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnbG9uZycsIGRheTogJ251bWVyaWMnfVxuXHRcdH07XG5cdFx0b3B0aW9ucy52aWV3cy50aW1lR3JpZFdlZWsgPSB7XG5cdFx0XHRidXR0b25UZXh0OiBidG5UZXh0V2Vlayxcblx0XHRcdGNvbXBvbmVudDogVmlldyxcblx0XHRcdGR1cmF0aW9uOiB7d2Vla3M6IDF9XG5cdFx0fTtcblx0fSxcblxuXHRjcmVhdGVTdG9yZXMoc3RhdGUpIHtcblx0XHRzdGF0ZS5fc2xvdFRpbWVMaW1pdHMgPSBzbG90VGltZUxpbWl0cyhzdGF0ZSk7ICAvLyBmbGV4aWJsZSBsaW1pdHNcblx0XHRzdGF0ZS5fdGltZXMgPSB0aW1lcyhzdGF0ZSk7XG5cdH1cbn1cbiIsImltcG9ydCB7bWluLCBtYXh9IGZyb20gJ0BldmVudC1jYWxlbmRhci9jb3JlJztcblxubGV0IGJ1c3kgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBhbmltYXRlKGZuKSB7XG4gICAgaWYgKCFidXN5KSB7XG4gICAgICAgIGJ1c3kgPSB0cnVlO1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICBidXN5ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbWl0KHZhbHVlLCBtaW5MaW1pdCwgbWF4TGltaXQpIHtcbiAgICByZXR1cm4gbWF4KG1pbkxpbWl0LCBtaW4obWF4TGltaXQsIHZhbHVlKSk7XG59XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7Z2V0Q29udGV4dH0gZnJvbSAnc3ZlbHRlJztcbiAgICBpbXBvcnQge2lzX2Z1bmN0aW9uLCBsaXN0ZW4sIHJ1bl9hbGx9IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG4gICAgaW1wb3J0IHtcbiAgICAgICAgYWRkRGF5LFxuICAgICAgICBhZGREdXJhdGlvbixcbiAgICAgICAgYW5jZXN0b3IsXG4gICAgICAgIGFzc2lnbixcbiAgICAgICAgY2xvbmVEYXRlLFxuICAgICAgICBjbG9uZUV2ZW50LFxuICAgICAgICBjcmVhdGVEdXJhdGlvbixcbiAgICAgICAgZ2V0RWxlbWVudFdpdGhQYXlsb2FkLFxuICAgICAgICBnZXRQYXlsb2FkLFxuICAgICAgICBtaW4sIG1heCxcbiAgICAgICAgcmVjdCxcbiAgICAgICAgc3VidHJhY3REdXJhdGlvbixcbiAgICAgICAgdG9FdmVudFdpdGhMb2NhbERhdGVzLFxuICAgICAgICB0b0lTT1N0cmluZyxcbiAgICAgICAgdG9Mb2NhbERhdGUsXG4gICAgICAgIHRvVmlld1dpdGhMb2NhbERhdGVzXG4gICAgfSBmcm9tICdAZXZlbnQtY2FsZW5kYXIvY29yZSc7XG4gICAgaW1wb3J0IHthbmltYXRlLCBsaW1pdH0gZnJvbSAnLi91dGlscyc7XG5cbiAgICBsZXQge19pRXZlbnRzLCBfaUNsYXNzLCBfZXZlbnRzLCBfdmlldywgX21vbnRoTW9kZSwgX2RyYWdnYWJsZSwgX3ZpZXdDbGFzcywgZHJhZ1Njcm9sbCwgZGF0ZXNBYm92ZVJlc291cmNlcyxcbiAgICAgICAgZXZlbnREcmFnTWluRGlzdGFuY2UsIGV2ZW50RHJhZ1N0YXJ0LCBldmVudERyYWdTdG9wLCBldmVudERyb3AsIGV2ZW50TG9uZ1ByZXNzRGVsYXksXG4gICAgICAgIGV2ZW50UmVzaXplU3RhcnQsIGV2ZW50UmVzaXplU3RvcCwgZXZlbnRSZXNpemUsIGxvbmdQcmVzc0RlbGF5LCBzZWxlY3RhYmxlLCBzZWxlY3Q6IHNlbGVjdEZuLFxuICAgICAgICBzZWxlY3RCYWNrZ3JvdW5kQ29sb3IsIHNlbGVjdExvbmdQcmVzc0RlbGF5LCBzZWxlY3RNaW5EaXN0YW5jZSwgc2xvdER1cmF0aW9uLCBzbG90SGVpZ2h0LCB1bnNlbGVjdDogdW5zZWxlY3RGbixcbiAgICAgICAgdW5zZWxlY3RBdXRvLCB1bnNlbGVjdENhbmNlbCwgZGF0ZUNsaWNrfSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICBjb25zdCBBQ1RJT05fRFJBRyA9IDE7XG4gICAgY29uc3QgQUNUSU9OX1JFU0laRSA9IDI7XG4gICAgY29uc3QgQUNUSU9OX1NFTEVDVCA9IDM7XG4gICAgY29uc3QgQUNUSU9OX0NMSUNLID0gNDtcbiAgICBjb25zdCBBQ1RJT05fTk9fQUNUSU9OID0gNTtcbiAgICBsZXQgYWN0aW9uO1xuICAgIGxldCBpbnRlcmFjdGluZztcbiAgICBsZXQgZXZlbnQ7XG4gICAgbGV0IGRpc3BsYXk7XG4gICAgbGV0IGRhdGUsIG5ld0RhdGU7XG4gICAgbGV0IHJlc291cmNlLCBuZXdSZXNvdXJjZTtcbiAgICBsZXQgZnJvbVgsIGZyb21ZO1xuICAgIGxldCB0b1gsIHRvWTtcbiAgICBsZXQgYm9keUVsLCBib2R5UmVjdCwgY2xpcEVsLCBjbGlwUmVjdDtcbiAgICBsZXQgZGVsdGE7XG4gICAgbGV0IGFsbERheTtcbiAgICBsZXQgaUNsYXNzO1xuICAgIGxldCBtaW5FbmQ7ICAvLyBtaW5pbXVtIGVuZCB0aW1lIHdoZW4gcmVzaXppbmdcbiAgICBsZXQgc2VsZWN0U3RlcDsgIC8vIG1pbmltdW0gc2VsZWN0aW9uIHN0ZXBcbiAgICBsZXQgc2VsZWN0ZWQ7ICAvLyB3aGV0aGVyIHNlbGVjdGlvbiBoYXMgYmVlbiBtYWRlXG4gICAgbGV0IG5vRGF0ZUNsaWNrOyAgLy8gZG8gbm90IHBlcmZvcm0gZGF0ZSBjbGlja1xuICAgIGxldCB0aW1lcjsgIC8vIHRpbWVyIGZvciBsb25nIHByZXNzIGRlbGF5c1xuICAgIGxldCB2aWV3cG9ydDtcblxuICAgIGV4cG9ydCBmdW5jdGlvbiBkcmFnKGV2ZW50VG9EcmFnLCBqc0V2ZW50LCByZXNpemUsIGZvcmNlRGF0ZSkge1xuICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgYWN0aW9uID0gdmFsaWRKc0V2ZW50KGpzRXZlbnQpID8gKFxuICAgICAgICAgICAgICAgIHJlc2l6ZSA/IEFDVElPTl9SRVNJWkUgOiAoXG4gICAgICAgICAgICAgICAgICAgICRfZHJhZ2dhYmxlKGV2ZW50VG9EcmFnKSA/IEFDVElPTl9EUkFHIDogQUNUSU9OX05PX0FDVElPTlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkgOiBBQ1RJT05fTk9fQUNUSU9OO1xuXG4gICAgICAgICAgICBpZiAoY29tcGxleEFjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudFRvRHJhZztcblxuICAgICAgICAgICAgICAgIGNvbW1vbihqc0V2ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChmb3JjZURhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgZGF0ZSBpbiBwb3B1cFxuICAgICAgICAgICAgICAgICAgICBkYXRlID0gZm9yY2VEYXRlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlDbGFzcyA9IHJlc2l6ZSA/IChhbGxEYXkgPyAncmVzaXppbmdYJyA6ICdyZXNpemluZ1knKSA6ICdkcmFnZ2luZyc7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbkVuZCA9IGNsb25lRGF0ZShldmVudC5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkVuZC5zZXRVVENIb3VycyhldmVudC5lbmQuZ2V0VVRDSG91cnMoKSwgZXZlbnQuZW5kLmdldFVUQ01pbnV0ZXMoKSwgZXZlbnQuZW5kLmdldFVUQ1NlY29uZHMoKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluRW5kIDwgZXZlbnQuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREYXkobWluRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtaW5FbmQgPSBhZGREdXJhdGlvbihjbG9uZURhdGUoZXZlbnQuc3RhcnQpLCAkc2xvdER1cmF0aW9uKTsgIGFsdGVybmF0aXZlIHZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZER1cmF0aW9uKG1pbkVuZCwgJHNsb3REdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb3ZlKGpzRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChqc0V2ZW50KSB7XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSB2YWxpZEpzRXZlbnQoanNFdmVudCkgPyAoXG4gICAgICAgICAgICAgICAgJHNlbGVjdGFibGUgJiYgJF92aWV3Q2xhc3MgIT09ICdsaXN0JyA/IEFDVElPTl9TRUxFQ1QgOiBBQ1RJT05fQ0xJQ0tcbiAgICAgICAgICAgICkgOiBBQ1RJT05fTk9fQUNUSU9OO1xuXG4gICAgICAgICAgICBpZiAoY29tcGxleEFjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgY29tbW9uKGpzRXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgaUNsYXNzID0gJ3NlbGVjdGluZyc7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3RTdGVwID0gYWxsRGF5ID8gY3JlYXRlRHVyYXRpb24oe2RheTogMX0pIDogJHNsb3REdXJhdGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkdW1teSBzb3VyY2UgZXZlbnRcbiAgICAgICAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWxsRGF5LFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBhZGREdXJhdGlvbihjbG9uZURhdGUoZGF0ZSksIHNlbGVjdFN0ZXApLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZUlkczogcmVzb3VyY2UgPyBbcmVzb3VyY2UuaWRdIDogW11cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbW92ZShqc0V2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXHRmdW5jdGlvbiBjb21tb24oanNFdmVudCkge1xuICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cbiAgICAgICAgZnJvbVggPSB0b1ggPSBqc0V2ZW50LmNsaWVudFg7XG4gICAgICAgIGZyb21ZID0gdG9ZID0ganNFdmVudC5jbGllbnRZO1xuXG4gICAgICAgIGxldCBkYXlFbCA9IGdldEVsZW1lbnRXaXRoUGF5bG9hZCh0b1gsIHRvWSk7XG4gICAgICAgICh7YWxsRGF5LCBkYXRlLCByZXNvdXJjZX0gPSBnZXRQYXlsb2FkKGRheUVsKSh0b1kpKTtcblxuICAgICAgICBib2R5RWwgPSBhbmNlc3RvcihkYXlFbCwgcmVzb3VyY2UgPyA0IDogMyk7XG4gICAgICAgIGNsaXBFbCA9IGFuY2VzdG9yKGRheUVsLCByZXNvdXJjZSAmJiAoZHJhZ2dpbmcoKSB8fCAkZGF0ZXNBYm92ZVJlc291cmNlcykgPyAyIDogMSk7XG4gICAgICAgIGNhbGNWaWV3cG9ydCgpO1xuXG4gICAgICAgIGlmIChqc0V2ZW50LnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSB7XG4gICAgICAgICAgICAvLyBGb3IgdG91Y2ggZGV2aWNlcyBpbml0IGxvbmcgcHJlc3MgZGVsYXlcbiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1vdmUoanNFdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKHNlbGVjdGluZygpID8gJHNlbGVjdExvbmdQcmVzc0RlbGF5IDogJGV2ZW50TG9uZ1ByZXNzRGVsYXkpID8/ICRsb25nUHJlc3NEZWxheSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3ZlKGpzRXZlbnQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaW50ZXJhY3RpbmcgfHxcbiAgICAgICAgICAgIGpzRXZlbnQgJiYganNFdmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBkaXN0YW5jZSgpID49IChzZWxlY3RpbmcoKSA/ICRzZWxlY3RNaW5EaXN0YW5jZSA6ICRldmVudERyYWdNaW5EaXN0YW5jZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGluZyA9IHRydWU7XG4gICAgICAgICAgICB1bnNlbGVjdChqc0V2ZW50KTtcbiAgICAgICAgICAgICRfaUNsYXNzID0gaUNsYXNzO1xuXG4gICAgICAgICAgICBpZiAoISRfaUV2ZW50c1swXSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVJRXZlbnRTZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVJRXZlbnQoanNFdmVudCwgcmVzaXppbmcoKSA/ICRldmVudFJlc2l6ZVN0YXJ0IDogJGV2ZW50RHJhZ1N0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkYXlFbCA9IGZpbmREYXlFbCgpO1xuICAgICAgICAgICAgaWYgKGRheUVsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0FsbERheTtcbiAgICAgICAgICAgICAgICAoe2FsbERheTogbmV3QWxsRGF5LCBkYXRlOiBuZXdEYXRlLCByZXNvdXJjZTogbmV3UmVzb3VyY2V9ID0gZ2V0UGF5bG9hZChkYXlFbCkodG9ZKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3QWxsRGF5ID09PSBhbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSBjcmVhdGVEdXJhdGlvbigobmV3RGF0ZSAtIGRhdGUpIC8gMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICRfaUV2ZW50c1swXS5lbmQgPSBhZGREdXJhdGlvbihjbG9uZURhdGUoZXZlbnQuZW5kKSwgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzaXppbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzaXppbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkX2lFdmVudHNbMF0uZW5kIDwgbWluRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9pRXZlbnRzWzBdLmVuZCA9IG1pbkVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VsZWN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF9pRXZlbnRzWzBdLmVuZCA8IGV2ZW50LmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfaUV2ZW50c1swXS5zdGFydCA9IHN1YnRyYWN0RHVyYXRpb24oJF9pRXZlbnRzWzBdLmVuZCwgc2VsZWN0U3RlcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9pRXZlbnRzWzBdLmVuZCA9IGV2ZW50LmVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9pRXZlbnRzWzBdLnN0YXJ0ID0gZXZlbnQuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmFnZ2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgJF9pRXZlbnRzWzBdLnN0YXJ0ID0gYWRkRHVyYXRpb24oY2xvbmVEYXRlKGV2ZW50LnN0YXJ0KSwgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9pRXZlbnRzWzBdLnJlc291cmNlSWRzID0gZXZlbnQucmVzb3VyY2VJZHMuZmlsdGVyKGlkID0+IGlkICE9PSByZXNvdXJjZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9pRXZlbnRzWzBdLnJlc291cmNlSWRzLnB1c2gobmV3UmVzb3VyY2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRkcmFnU2Nyb2xsKSB7XG4gICAgICAgICAgICBsZXQgdGhyZXNob2xkID0gJHNsb3RIZWlnaHQgKiAyO1xuICAgICAgICAgICAgYW5pbWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlFbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9ZIDwgdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgbWF4KC0xMCwgKHRvWSAtIHRocmVzaG9sZCkgLyAzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvWSA8IGJvZHlSZWN0LnRvcCArIHRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUVsLnNjcm9sbFRvcCArPSBtYXgoLTEwLCAodG9ZIC0gYm9keVJlY3QudG9wIC0gdGhyZXNob2xkKSAvIDMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b1kgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBtaW4oMTAsICh0b1kgLSB3aW5kb3cuaW5uZXJIZWlnaHQgKyB0aHJlc2hvbGQpIC8gMykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b1kgPiBib2R5UmVjdC5ib3R0b20gLSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlFbC5zY3JvbGxUb3AgKz0gbWluKDEwLCAodG9ZIC0gYm9keVJlY3QuYm90dG9tICsgdGhyZXNob2xkKSAvIDMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgICBpZiAoY29tcGxleEFjdGlvbigpKSB7XG4gICAgICAgICAgICBjYWxjVmlld3BvcnQoKTtcbiAgICAgICAgICAgIG1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJNb3ZlKGpzRXZlbnQpIHtcbiAgICAgICAgaWYgKGNvbXBsZXhBY3Rpb24oKSAmJiBqc0V2ZW50LmlzUHJpbWFyeSkge1xuICAgICAgICAgICAgdG9YID0ganNFdmVudC5jbGllbnRYO1xuICAgICAgICAgICAgdG9ZID0ganNFdmVudC5jbGllbnRZO1xuICAgICAgICAgICAgbW92ZShqc0V2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJVcChqc0V2ZW50KSB7XG4gICAgICAgIGlmIChzZWxlY3RlZCAmJiAkdW5zZWxlY3RBdXRvICYmICEoJHVuc2VsZWN0Q2FuY2VsICYmIGpzRXZlbnQudGFyZ2V0LmNsb3Nlc3QoJHVuc2VsZWN0Q2FuY2VsKSkpIHtcbiAgICAgICAgICAgIHVuc2VsZWN0KGpzRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb24gJiYganNFdmVudC5pc1ByaW1hcnkpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGluZykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbigkc2VsZWN0Rm4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQge3N0YXJ0LCBlbmR9ID0gdG9FdmVudFdpdGhMb2NhbERhdGVzKCRfaUV2ZW50c1swXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0Rm4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFN0cjogdG9JU09TdHJpbmcoJF9pRXZlbnRzWzBdLnN0YXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRTdHI6IHRvSVNPU3RyaW5nKCRfaUV2ZW50c1swXS5lbmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc0V2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IHRvVmlld1dpdGhMb2NhbERhdGVzKCRfdmlldyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGlzcGxheSA9IGRpc3BsYXk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGxiYWNrID0gcmVzaXppbmcoKSA/ICRldmVudFJlc2l6ZVN0b3AgOiAkZXZlbnREcmFnU3RvcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe2V2ZW50OiB0b0V2ZW50V2l0aExvY2FsRGF0ZXMoZXZlbnQpLCBqc0V2ZW50LCB2aWV3OiB0b1ZpZXdXaXRoTG9jYWxEYXRlcygkX3ZpZXcpfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkRXZlbnQgPSBjbG9uZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRXZlbnQoZXZlbnQsICRfaUV2ZW50c1swXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveUlFdmVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gcmVzaXppbmcoKSA/ICRldmVudFJlc2l6ZSA6ICRldmVudERyb3A7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBldmVudFJlZiA9IGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzaXppbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8gPSB7ZW5kRGVsdGE6IGRlbHRhfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFJlc291cmNlOiByZXNvdXJjZSAhPT0gbmV3UmVzb3VyY2UgPyByZXNvdXJjZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UmVzb3VyY2U6IHJlc291cmNlICE9PSBuZXdSZXNvdXJjZSA/IG5ld1Jlc291cmNlIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGFzc2lnbihpbmZvLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHRvRXZlbnRXaXRoTG9jYWxEYXRlcyhldmVudCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkRXZlbnQ6IHRvRXZlbnRXaXRoTG9jYWxEYXRlcyhvbGRFdmVudCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiB0b1ZpZXdXaXRoTG9jYWxEYXRlcygkX3ZpZXcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVydCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRXZlbnQoZXZlbnRSZWYsIG9sZEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjbGlja2luZygpIHx8IHNlbGVjdGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcmZvcm0gZGF0ZSBjbGlja1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oJGRhdGVDbGljaykgJiYgIW5vRGF0ZUNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b1ggPSBqc0V2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b1kgPSBqc0V2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF5RWwgPSBnZXRFbGVtZW50V2l0aFBheWxvYWQodG9YLCB0b1kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRheUVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHthbGxEYXksIGRhdGUsIHJlc291cmNlfSA9IGdldFBheWxvYWQoZGF5RWwpKHRvWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRhdGVDbGljayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogdG9Mb2NhbERhdGUoZGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVTdHI6IHRvSVNPU3RyaW5nKGRhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlFbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldzogdG9WaWV3V2l0aExvY2FsRGF0ZXMoJF92aWV3KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW50ZXJhY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFjdGlvbiA9IGZyb21YID0gZnJvbVkgPSB0b1ggPSB0b1kgPSBldmVudCA9IGRpc3BsYXkgPSBkYXRlID0gbmV3RGF0ZSA9IHJlc291cmNlID0gbmV3UmVzb3VyY2UgPSBkZWx0YSA9XG4gICAgICAgICAgICAgICAgYWxsRGF5ID0gJF9pQ2xhc3MgPSBtaW5FbmQgPSBzZWxlY3RTdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgYm9keUVsID0gY2xpcEVsID0gYm9keVJlY3QgPSBjbGlwUmVjdCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgaWYgKHRpbWVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5vRGF0ZUNsaWNrID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZERheUVsKCkge1xuICAgICAgICAvLyBMaW1pdCBjb29yZGluYXRlcyB0byB2aWV3cG9ydFxuICAgICAgICByZXR1cm4gZ2V0RWxlbWVudFdpdGhQYXlsb2FkKFxuICAgICAgICAgICAgbGltaXQodG9YLCB2aWV3cG9ydFswXSwgdmlld3BvcnRbMV0pLFxuICAgICAgICAgICAgbGltaXQodG9ZLCB2aWV3cG9ydFsyXSwgdmlld3BvcnRbM10pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY1ZpZXdwb3J0KCkge1xuICAgICAgICBib2R5UmVjdCA9IHJlY3QoYm9keUVsKTtcbiAgICAgICAgY2xpcFJlY3QgPSByZWN0KGNsaXBFbCk7XG4gICAgICAgIHZpZXdwb3J0ID0gW1xuICAgICAgICAgICAgbWF4KDAsIGNsaXBSZWN0LmxlZnQgKyAoJF9tb250aE1vZGUgPyAwIDogOCkpLCAgLy8gbGVmdFxuICAgICAgICAgICAgbWluKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgY2xpcFJlY3QucmlnaHQpIC0gMiwgIC8vIHJpZ2h0XG4gICAgICAgICAgICBtYXgoMCwgYm9keVJlY3QudG9wICksICAvLyB0b3BcbiAgICAgICAgICAgIG1pbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCBib2R5UmVjdC5ib3R0b20pIC0gMiAgLy8gYm90dG9tXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSUV2ZW50KGpzRXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChpc19mdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHtldmVudDogdG9FdmVudFdpdGhMb2NhbERhdGVzKGV2ZW50KSwganNFdmVudCwgdmlldzogdG9WaWV3V2l0aExvY2FsRGF0ZXMoJF92aWV3KX0pO1xuICAgICAgICB9XG4gICAgICAgIGRpc3BsYXkgPSBldmVudC5kaXNwbGF5O1xuICAgICAgICBldmVudC5kaXNwbGF5ID0gJ3ByZXZpZXcnO1xuICAgICAgICAkX2lFdmVudHNbMF0gPSBjbG9uZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgZXZlbnQuZGlzcGxheSA9ICdnaG9zdCc7XG4gICAgICAgICRfZXZlbnRzID0gJF9ldmVudHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSUV2ZW50U2VsZWN0KCkge1xuICAgICAgICAkX2lFdmVudHNbMF0gPSB7XG4gICAgICAgICAgICBpZDogJ3tzZWxlY3R9JyxcbiAgICAgICAgICAgIGFsbERheTogZXZlbnQuYWxsRGF5LFxuICAgICAgICAgICAgc3RhcnQ6IGV2ZW50LnN0YXJ0LFxuICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgZGlzcGxheTogJ3ByZXZpZXcnLFxuICAgICAgICAgICAgZXh0ZW5kZWRQcm9wczoge30sXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICRzZWxlY3RCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICByZXNvdXJjZUlkczogZXZlbnQucmVzb3VyY2VJZHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXN0cm95SUV2ZW50KCkge1xuICAgICAgICAkX2lFdmVudHNbMF0gPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUV2ZW50KHRhcmdldCwgc291cmNlKSB7XG4gICAgICAgIHRhcmdldC5zdGFydCA9IHNvdXJjZS5zdGFydDtcbiAgICAgICAgdGFyZ2V0LmVuZCA9IHNvdXJjZS5lbmQ7XG4gICAgICAgIHRhcmdldC5yZXNvdXJjZUlkcyA9IHNvdXJjZS5yZXNvdXJjZUlkcztcbiAgICAgICAgJF9ldmVudHMgPSAkX2V2ZW50cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXN0YW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0b1ggLSBmcm9tWCwgMikgKyBNYXRoLnBvdyh0b1kgLSBmcm9tWSwgMikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYWdnaW5nKCkge1xuICAgICAgICByZXR1cm4gYWN0aW9uID09PSBBQ1RJT05fRFJBRztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemluZygpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbiA9PT0gQUNUSU9OX1JFU0laRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGlja2luZygpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbiA9PT0gQUNUSU9OX0NMSUNLO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdGluZygpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbiA9PT0gQUNUSU9OX1NFTEVDVDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wbGV4QWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYWN0aW9uICYmIGFjdGlvbiA8IEFDVElPTl9DTElDSztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZEpzRXZlbnQoanNFdmVudCkge1xuICAgICAgICByZXR1cm4ganNFdmVudC5pc1ByaW1hcnkgJiYgKGpzRXZlbnQucG9pbnRlclR5cGUgIT09ICdtb3VzZScgfHwganNFdmVudC5idXR0b25zICYgMSk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVuc2VsZWN0KGpzRXZlbnQpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZGVzdHJveUlFdmVudCgpO1xuICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKCR1bnNlbGVjdEZuKSkge1xuICAgICAgICAgICAgICAgICR1bnNlbGVjdEZuKHtcbiAgICAgICAgICAgICAgICAgICAganNFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgdmlldzogdG9WaWV3V2l0aExvY2FsRGF0ZXMoJF92aWV3KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5vQ2xpY2soKSB7XG4gICAgICAgIG5vRGF0ZUNsaWNrID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBzZWxlY3Rpb24gb24gdmlldyBwYXJhbXMgY2hhbmdlXG4gICAgX3ZpZXcuc3Vic2NyaWJlKHVuc2VsZWN0KTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoanNFdmVudCkge1xuICAgICAgICBpZiAoY29tcGxleEFjdGlvbigpKSB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0ganNFdmVudC50YXJnZXQ7XG4gICAgICAgICAgICBsZXQgc3RvcHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBzdG9wID0gKCkgPT4gcnVuX2FsbChzdG9wcyk7XG4gICAgICAgICAgICBzdG9wcy5wdXNoKGxpc3Rlbih0YXJnZXQsICd0b3VjaG1vdmUnLCBjcmVhdGVQcmV2ZW50RGVmYXVsdEhhbmRsZXIoKCkgPT4gaW50ZXJhY3RpbmcpKSk7XG4gICAgICAgICAgICBzdG9wcy5wdXNoKGxpc3Rlbih0YXJnZXQsICd0b3VjaGVuZCcsIHN0b3ApKTtcbiAgICAgICAgICAgIHN0b3BzLnB1c2gobGlzdGVuKHRhcmdldCwgJ3RvdWNoY2FuY2VsJywgc3RvcCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJldmVudERlZmF1bHRIYW5kbGVyKGNvbmRpdGlvbikge1xuICAgICAgICByZXR1cm4ganNFdmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICBqc0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxzdmVsdGU6d2luZG93XG4gICAgb246cG9pbnRlcm1vdmU9e2hhbmRsZVBvaW50ZXJNb3ZlfVxuICAgIG9uOnBvaW50ZXJ1cD17aGFuZGxlUG9pbnRlclVwfVxuICAgIG9uOnBvaW50ZXJjYW5jZWw9e2hhbmRsZVBvaW50ZXJVcH1cbiAgICBvbjpzY3JvbGw9e2hhbmRsZVNjcm9sbH1cbiAgICBvbjpzZWxlY3RzdGFydD17Y3JlYXRlUHJldmVudERlZmF1bHRIYW5kbGVyKGNvbXBsZXhBY3Rpb24pfVxuICAgIG9uOmNvbnRleHRtZW51PXtjcmVhdGVQcmV2ZW50RGVmYXVsdEhhbmRsZXIoKCkgPT4gdGltZXIpfVxuICAgIG9uOnRvdWNoc3RhcnQ9e2hhbmRsZVRvdWNoU3RhcnR9XG4gICAgb246dG91Y2htb3ZlfG5vbnBhc3NpdmVcbi8+XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7Z2V0Q29udGV4dH0gZnJvbSAnc3ZlbHRlJztcbiAgICBpbXBvcnQge2FkZER1cmF0aW9uLCBjbG9uZURhdGUsIGZsb29yLCByZWN0fSBmcm9tICdAZXZlbnQtY2FsZW5kYXIvY29yZSc7XG5cbiAgICBsZXQge19pRXZlbnRzLCBfZXZlbnRzLCBfdmlld0RhdGVzLCBfc2xvdFRpbWVMaW1pdHMsIHNsb3REdXJhdGlvbiwgc2xvdEhlaWdodCwgaGlkZGVuRGF5cywgX3ZpZXcsIGRhdGVzQWJvdmVSZXNvdXJjZXMsXG4gICAgICAgIHRoZW1lfSA9IGdldENvbnRleHQoJ3N0YXRlJyk7XG5cbiAgICBsZXQgeTtcbiAgICBsZXQgY29sRGF0ZTtcbiAgICBsZXQgY29sRWw7XG4gICAgbGV0IGNvbFJlY3Q7XG4gICAgbGV0IHJlc291cmNlO1xuXG4gICAgbGV0IGRhdGU7XG5cbiAgICAkOiBpZiAoJF9pRXZlbnRzWzBdKSB7XG4gICAgICAgIHJlbW92ZVBvaW50ZXJFdmVudCgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnRlclRpbWVHcmlkKGRhdGUsIGVsLCBqc0V2ZW50LCByZXNvdXJjZU9iaikge1xuICAgICAgICBpZiAodmFsaWRFdmVudChqc0V2ZW50KSkge1xuICAgICAgICAgICAgY29sRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICBjb2xFbCA9IGVsO1xuICAgICAgICAgICAgY29sUmVjdCA9IHJlY3QoY29sRWwpO1xuXG4gICAgICAgICAgICB5ID0ganNFdmVudC5jbGllbnRZO1xuXG4gICAgICAgICAgICByZXNvdXJjZSA9IHJlc291cmNlT2JqO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVudGVyRGF5R3JpZChkYXRlLCBqc0V2ZW50KSB7XG4gICAgICAgIGlmICh2YWxpZEV2ZW50KGpzRXZlbnQpKSB7XG4gICAgICAgICAgICBjb2xEYXRlID0gZGF0ZTtcbiAgICAgICAgICAgIGNvbEVsID0gbnVsbDtcblxuICAgICAgICAgICAgeSA9IHJlc291cmNlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGxlYXZlKGpzRXZlbnQpIHtcbiAgICAgICAgaWYgKHZhbGlkRXZlbnQoanNFdmVudCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXJFdmVudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW92ZSgpIHtcbiAgICAgICAgaWYgKCFjb2xEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sRWwpIHtcbiAgICAgICAgICAgIC8vIHRpbWVHcmlkXG4gICAgICAgICAgICBsZXQgcnkgPSB5IC0gY29sUmVjdC50b3A7XG4gICAgICAgICAgICBkYXRlID0gYWRkRHVyYXRpb24oXG4gICAgICAgICAgICAgICAgYWRkRHVyYXRpb24oY2xvbmVEYXRlKGNvbERhdGUpLCAkX3Nsb3RUaW1lTGltaXRzLm1pbiksXG4gICAgICAgICAgICAgICAgJHNsb3REdXJhdGlvbixcbiAgICAgICAgICAgICAgICBmbG9vcihyeSAvICRzbG90SGVpZ2h0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRheUdyaWRcbiAgICAgICAgICAgIGRhdGUgPSBjb2xEYXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEkX2lFdmVudHNbMV0pIHtcbiAgICAgICAgICAgIGNyZWF0ZVBvaW50ZXJFdmVudCgpO1xuICAgICAgICB9XG4gICAgICAgICRfaUV2ZW50c1sxXS5zdGFydCA9IGRhdGU7XG4gICAgICAgICRfaUV2ZW50c1sxXS5lbmQgPSBhZGREdXJhdGlvbihjbG9uZURhdGUoZGF0ZSksICRzbG90RHVyYXRpb24pO1xuICAgICAgICAkX2lFdmVudHNbMV0ucmVzb3VyY2VJZHMgPSByZXNvdXJjZSA/IFtyZXNvdXJjZS5pZF0gOiBbXTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgICBpZiAoY29sRWwpIHtcbiAgICAgICAgICAgIGNvbFJlY3QgPSByZWN0KGNvbEVsKTtcbiAgICAgICAgICAgIG1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJNb3ZlKGpzRXZlbnQpIHtcbiAgICAgICAgaWYgKHZhbGlkRXZlbnQoanNFdmVudCkpIHtcbiAgICAgICAgICAgIHkgPSBqc0V2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICBtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVQb2ludGVyRXZlbnQoKSB7XG4gICAgICAgICRfaUV2ZW50c1sxXSA9IHtcbiAgICAgICAgICAgIGlkOiAne3BvaW50ZXJ9JyxcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdwb2ludGVyJyxcbiAgICAgICAgICAgIGV4dGVuZGVkUHJvcHM6IHt9LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlUG9pbnRlckV2ZW50KCkge1xuICAgICAgICBjb2xEYXRlID0gY29sRWwgPSAkX2lFdmVudHNbMV0gPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkRXZlbnQoanNFdmVudCkge1xuICAgICAgICByZXR1cm4ganNFdmVudC5pc1ByaW1hcnkgJiYganNFdmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJztcbiAgICB9XG48L3NjcmlwdD5cblxuPHN2ZWx0ZTp3aW5kb3dcbiAgICBvbjpwb2ludGVybW92ZT17aGFuZGxlUG9pbnRlck1vdmV9XG4gICAgb246c2Nyb2xsPXtoYW5kbGVTY3JvbGx9XG4vPlxuIiwiPHNjcmlwdD5cbiAgICBpbXBvcnQge2dldENvbnRleHR9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtiZ0V2ZW50LCBoZWxwZXJFdmVudH0gZnJvbSAnQGV2ZW50LWNhbGVuZGFyL2NvcmUnO1xuXG4gICAgZXhwb3J0IGxldCBldmVudDtcblxuICAgIGxldCB7dGhlbWUsIGV2ZW50RHVyYXRpb25FZGl0YWJsZSwgZWRpdGFibGV9ID0gZ2V0Q29udGV4dCgnc3RhdGUnKTtcblxuICAgIGxldCByZXNpemFibGU7XG4gICAgJDogcmVzaXphYmxlID0gIWJnRXZlbnQoZXZlbnQuZGlzcGxheSkgJiZcbiAgICAgICAgIWhlbHBlckV2ZW50KGV2ZW50LmRpc3BsYXkpICYmIChcbiAgICAgICAgICAgIChldmVudC5kdXJhdGlvbkVkaXRhYmxlID8/ICRldmVudER1cmF0aW9uRWRpdGFibGUpIHx8XG4gICAgICAgICAgICAoZXZlbnQuZWRpdGFibGUgPz8gJGVkaXRhYmxlKVxuICAgICAgICApXG48L3NjcmlwdD5cblxueyNpZiByZXNpemFibGV9XG4gICAgPGRpdlxuICAgICAgICBjbGFzcz1cInskdGhlbWUucmVzaXplcn1cIlxuICAgICAgICBvbjpwb2ludGVyZG93blxuICAgID48L2Rpdj5cbnsvaWZ9IiwiPHNjcmlwdD5cbiAgICBpbXBvcnQge2dldENvbnRleHR9IGZyb20gJ3N2ZWx0ZSc7XG4gICAgaW1wb3J0IHtsaXN0ZW59IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG4gICAgaW1wb3J0IHtiZ0V2ZW50LCBoZWxwZXJFdmVudH0gZnJvbSAnQGV2ZW50LWNhbGVuZGFyL2NvcmUnO1xuICAgIGltcG9ydCBBY3Rpb24gZnJvbSAnLi9BY3Rpb24uc3ZlbHRlJztcbiAgICBpbXBvcnQgUG9pbnRlciBmcm9tICcuL1BvaW50ZXIuc3ZlbHRlJztcbiAgICBpbXBvcnQgUmVzaXplciBmcm9tICcuL1Jlc2l6ZXIuc3ZlbHRlJztcblxuICAgIGxldCB7dGhlbWUsIGVkaXRhYmxlLCBldmVudFN0YXJ0RWRpdGFibGUsIGV2ZW50RHVyYXRpb25FZGl0YWJsZSwgcG9pbnRlciwgX2JvZHlFbCxcbiAgICAgICAgX2ludGVyYWN0aW9uLCBfaUNsYXNzZXMsIF9kcmFnZ2FibGV9ID0gZ2V0Q29udGV4dCgnc3RhdGUnKTtcblxuICAgICRfaW50ZXJhY3Rpb24ucmVzaXplciA9IFJlc2l6ZXI7XG5cbiAgICAkOiAkX2RyYWdnYWJsZSA9IGV2ZW50ID0+IChldmVudC5zdGFydEVkaXRhYmxlID8/ICRldmVudFN0YXJ0RWRpdGFibGUpIHx8IChldmVudC5lZGl0YWJsZSA/PyAkZWRpdGFibGUpO1xuXG4gICAgJDogJF9pQ2xhc3NlcyA9IChjbGFzc05hbWUsIGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB7ZGlzcGxheX0gPSBldmVudDtcbiAgICAgICAgcmV0dXJuIGhlbHBlckV2ZW50KGRpc3BsYXkpID8gWyR0aGVtZVtkaXNwbGF5XV0gOiAoIWJnRXZlbnQoZGlzcGxheSkgJiYgJF9kcmFnZ2FibGUoZXZlbnQpID8gWyR0aGVtZS5kcmFnZ2FibGVdIDogW10pO1xuICAgIH07XG5cbiAgICAkOiBpZiAoJF9ib2R5RWwpIHtcbiAgICAgICAgbGlzdGVuKCRfYm9keUVsLCAnc2Nyb2xsJywgYm9keVNjcm9sbEhhbmRsZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJvZHlTY3JvbGxIYW5kbGVyKCkge1xuICAgICAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgT2JqZWN0LnZhbHVlcygkX2ludGVyYWN0aW9uKSkge1xuICAgICAgICAgICAgY29tcG9uZW50Py5oYW5kbGVTY3JvbGw/LigpO1xuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxBY3Rpb24gYmluZDp0aGlzPXskX2ludGVyYWN0aW9uLmFjdGlvbn0vPlxueyNpZiAkcG9pbnRlcn1cbiAgICA8UG9pbnRlciBiaW5kOnRoaXM9eyRfaW50ZXJhY3Rpb24ucG9pbnRlcn0vPlxuey9pZn1cbiIsImltcG9ydCB7d3JpdGFibGV9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQge25vb3B9IGZyb20gJ3N2ZWx0ZS9pbnRlcm5hbCc7XG5pbXBvcnQgQXV4aWxpYXJ5IGZyb20gJy4vQXV4aWxpYXJ5LnN2ZWx0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblx0Y3JlYXRlT3B0aW9ucyhvcHRpb25zKSB7XG5cdFx0b3B0aW9ucy5kYXRlQ2xpY2sgPSB1bmRlZmluZWQ7XG5cdFx0b3B0aW9ucy5kcmFnU2Nyb2xsID0gdHJ1ZTtcblx0XHRvcHRpb25zLmVkaXRhYmxlID0gZmFsc2U7XG5cdFx0b3B0aW9ucy5ldmVudERyYWdNaW5EaXN0YW5jZSA9IDU7XG5cdFx0b3B0aW9ucy5ldmVudERyYWdTdGFydCA9IHVuZGVmaW5lZDtcblx0XHRvcHRpb25zLmV2ZW50RHJhZ1N0b3AgPSB1bmRlZmluZWQ7XG5cdFx0b3B0aW9ucy5ldmVudERyb3AgPSB1bmRlZmluZWQ7XG5cdFx0b3B0aW9ucy5ldmVudER1cmF0aW9uRWRpdGFibGUgPSB0cnVlO1xuXHRcdG9wdGlvbnMuZXZlbnRMb25nUHJlc3NEZWxheSA9IHVuZGVmaW5lZDtcblx0XHRvcHRpb25zLmV2ZW50UmVzaXplU3RhcnQgPSB1bmRlZmluZWQ7XG5cdFx0b3B0aW9ucy5ldmVudFJlc2l6ZVN0b3AgPSB1bmRlZmluZWQ7XG5cdFx0b3B0aW9ucy5ldmVudFJlc2l6ZSA9IHVuZGVmaW5lZDtcblx0XHRvcHRpb25zLmV2ZW50U3RhcnRFZGl0YWJsZSA9IHRydWU7XG5cdFx0b3B0aW9ucy5sb25nUHJlc3NEZWxheSA9IDEwMDA7XG5cdFx0b3B0aW9ucy5wb2ludGVyID0gZmFsc2U7XG5cdFx0b3B0aW9ucy5zZWxlY3QgPSB1bmRlZmluZWQ7XG5cdFx0b3B0aW9ucy5zZWxlY3RCYWNrZ3JvdW5kQ29sb3IgPSB1bmRlZmluZWQ7ICAvLyBlYyBvcHRpb25cblx0XHRvcHRpb25zLnNlbGVjdExvbmdQcmVzc0RlbGF5ID0gdW5kZWZpbmVkO1xuXHRcdG9wdGlvbnMuc2VsZWN0TWluRGlzdGFuY2UgPSA1O1xuXHRcdG9wdGlvbnMudW5zZWxlY3QgPSB1bmRlZmluZWQ7XG5cdFx0b3B0aW9ucy51bnNlbGVjdEF1dG8gPSB0cnVlO1xuXHRcdG9wdGlvbnMudW5zZWxlY3RDYW5jZWwgPSAnJztcblx0XHRvcHRpb25zLnRoZW1lLmRyYWdnYWJsZSA9ICdlYy1kcmFnZ2FibGUnO1xuXHRcdG9wdGlvbnMudGhlbWUuZ2hvc3QgPSAnZWMtZ2hvc3QnO1xuXHRcdG9wdGlvbnMudGhlbWUucHJldmlldyA9ICdlYy1wcmV2aWV3Jztcblx0XHRvcHRpb25zLnRoZW1lLnBvaW50ZXIgPSAnZWMtcG9pbnRlcic7XG5cdFx0b3B0aW9ucy50aGVtZS5yZXNpemVyID0gJ2VjLXJlc2l6ZXInO1xuXHRcdG9wdGlvbnMudGhlbWUuZHJhZ2dpbmcgPSAnZWMtZHJhZ2dpbmcnO1xuXHRcdG9wdGlvbnMudGhlbWUucmVzaXppbmdZID0gJ2VjLXJlc2l6aW5nLXknO1xuXHRcdG9wdGlvbnMudGhlbWUucmVzaXppbmdYID0gJ2VjLXJlc2l6aW5nLXgnO1xuXHRcdG9wdGlvbnMudGhlbWUuc2VsZWN0aW5nID0gJ2VjLXNlbGVjdGluZyc7XG5cdH0sXG5cblx0Y3JlYXRlU3RvcmVzKHN0YXRlKSB7XG5cdFx0c3RhdGUuX2RyYWdnYWJsZSA9IHdyaXRhYmxlKG5vb3ApO1xuXHRcdHN0YXRlLl9hdXhpbGlhcnkudXBkYXRlKCRfYXV4aWxpYXJ5ID0+IFsuLi4kX2F1eGlsaWFyeSwgQXV4aWxpYXJ5XSk7XG5cdH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vKiBAdHMtaWdub3JlICovXG4vLyBUaGlzIGZpbGUgaXMgY29waWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQyNjQwNC9jcmVhdGUtYS1oZXhhZGVjaW1hbC1jb2xvdXItYmFzZWQtb24tYS1zdHJpbmctd2l0aC1qYXZhc2NyaXB0XG4vLyBUT0RPOiBmaXggdHMgYW5kIGVzbGludCBlcnJvcnNcblxuY29uc3QgREVGQVVMVF9DT0xPUiA9IFwiI2YyZjJmMlwiIFxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNDI2NDA0L2NyZWF0ZS1hLWhleGFkZWNpbWFsLWNvbG91ci1iYXNlZC1vbi1hLXN0cmluZy13aXRoLWphdmFzY3JpcHRcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdfdG9fY29sb3IgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoc3RyID09PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBERUZBVUxUX0NPTE9SXG4gICAgfVxuXG4gICAgbGV0IGhhc2ggPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkpICsgKChoYXNoIDw8IDUpIC0gaGFzaClcbiAgICB9XG5cbiAgICBsZXQgY29sb3JfaGV4ID0gXCJcIlxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSAoaGFzaCA+PiAoaSAqIDgpKSAmIDB4RkZcbiAgICAgICAgbGV0IHZhbHVlX3RvX3JlcGVhdCA9IHZhbHVlLnRvU3RyaW5nKDE2KVsxXVxuICAgICAgICBpZiAoIXZhbHVlX3RvX3JlcGVhdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YWx1ZV90b19yZXBlYXQgPSB2YWx1ZS50b1N0cmluZygxNilbMF1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjID0gdmFsdWVfdG9fcmVwZWF0LnJlcGVhdCgyKVxuICAgICAgICAvLyBjb25zdCBjID0gdmFsdWUudG9TdHJpbmcoMTYpXG4gICAgICAgIGNvbG9yX2hleCArPSAoXCIwMFwiICsgYykuc3Vic3RyKC0yKVxuICAgIH1cbiAgICBjb25zdCBjb2xvcl9yZ2IgPSBoZXhfdG9fcmdiKGNvbG9yX2hleClcbiAgICBjb25zdCBjb2xvcl9oc3YgPSByZ2JfdG9faHN2KGNvbG9yX3JnYi5yLCBjb2xvcl9yZ2IuZywgY29sb3JfcmdiLmIpXG4gICAgY29sb3JfaHN2LmggKz0gMC4wNVxuICAgIGNvbG9yX2hzdi5zID0gMC43XG4gICAgY29sb3JfaHN2LnYgPSAwLjdcbiAgICBjb25zdCBjb2xvcl9yZ2IyID0gaHN2X3RvX3JnYihjb2xvcl9oc3YuaCwgY29sb3JfaHN2LnMsIGNvbG9yX2hzdi52KVxuICAgIGNvbnN0IGNvbG9yX2hleDIgPSByZ2JfdG9faGV4KGNvbG9yX3JnYjIuciwgY29sb3JfcmdiMi5nLCBjb2xvcl9yZ2IyLmIpXG5cblxuICAgIGNvbnN0IGNvbG91ciA9IFwiI1wiICsgY29sb3JfaGV4MlxuICAgIHJldHVybiBjb2xvdXJcbn1cblxuLyogYWNjZXB0cyBwYXJhbWV0ZXJzXG4qIGggIE9iamVjdCA9IHtoOngsIHM6eSwgdjp6fVxuKiBPUlxuKiBoLCBzLCB2XG4qIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzI0MzA3MC8yMTE0MTA0N1xuKi9cbmZ1bmN0aW9uIGhzdl90b19yZ2IgKGg6IG51bWJlciwgczogbnVtYmVyLCB2OiBudW1iZXIpOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSB7XG4gICAgbGV0IHIgPSAwXG4gICAgbGV0IGcgPSAwXG4gICAgbGV0IGIgPSAwXG4gICAgLy8gbGV0IGk6bnVtYmVyLCBmOm51bWJlciwgcDpudW1iZXIsIHE6bnVtYmVyLCB0Om51bWJlclxuICAgIC8vIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gICAgIHMgPSBoLnMsIHYgPSBoLnYsIGggPSBoLmg7XG4gICAgLy8gfVxuICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKGggKiA2KVxuICAgIGNvbnN0IGYgPSBoICogNiAtIGlcbiAgICBjb25zdCBwID0gdiAqICgxIC0gcylcbiAgICBjb25zdCBxID0gdiAqICgxIC0gZiAqIHMpXG4gICAgY29uc3QgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKVxuICAgIHN3aXRjaCAoaSAlIDYpIHtcbiAgICAgICAgY2FzZSAwOiByID0gdiwgZyA9IHQsIGIgPSBwOyBicmVha1xuICAgICAgICBjYXNlIDE6IHIgPSBxLCBnID0gdiwgYiA9IHA7IGJyZWFrXG4gICAgICAgIGNhc2UgMjogciA9IHAsIGcgPSB2LCBiID0gdDsgYnJlYWtcbiAgICAgICAgY2FzZSAzOiByID0gcCwgZyA9IHEsIGIgPSB2OyBicmVha1xuICAgICAgICBjYXNlIDQ6IHIgPSB0LCBnID0gcCwgYiA9IHY7IGJyZWFrXG4gICAgICAgIGNhc2UgNTogciA9IHYsIGcgPSBwLCBiID0gcTsgYnJlYWtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogTWF0aC5yb3VuZChyICogMjU1KSxcbiAgICAgICAgZzogTWF0aC5yb3VuZChnICogMjU1KSxcbiAgICAgICAgYjogTWF0aC5yb3VuZChiICogMjU1KVxuICAgIH1cbn1cblxuLyogYWNjZXB0cyBwYXJhbWV0ZXJzXG4qIHIgIE9iamVjdCA9IHtyOngsIGc6eSwgYjp6fVxuKiBPUlxuKiByLCBnLCBiXG4qIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzI0MzA3MC8yMTE0MTA0N1xuKi9cbmZ1bmN0aW9uIHJnYl90b19oc3YgKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIpOiB7IGg6IG51bWJlciwgczogbnVtYmVyLCB2OiBudW1iZXIgfSB7XG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYilcbiAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKVxuICAgIGNvbnN0IGQgPSBtYXggLSBtaW5cbiAgICBsZXQgaCA9IC0xXG4gICAgY29uc3QgcyA9IChtYXggPT09IDAgPyAwIDogZCAvIG1heClcbiAgICBjb25zdCB2ID0gbWF4IC8gMjU1XG5cbiAgICBzd2l0Y2ggKG1heCkge1xuICAgIGNhc2UgbWluOiBoID0gMDsgYnJlYWtcbiAgICBjYXNlIHI6IGggPSAoZyAtIGIpICsgZCAqIChnIDwgYiA/IDYgOiAwKTsgaCAvPSA2ICogZDsgYnJlYWtcbiAgICBjYXNlIGc6IGggPSAoYiAtIHIpICsgZCAqIDI7IGggLz0gNiAqIGQ7IGJyZWFrXG4gICAgY2FzZSBiOiBoID0gKHIgLSBnKSArIGQgKiA0OyBoIC89IDYgKiBkOyBicmVha1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGgsXG4gICAgICAgIHMsXG4gICAgICAgIHZcbiAgICB9XG59XG5cbi8qKlxuKiBodHRwczovL3d3dy5wcm9ncmFtbWluZ2N1YmUuY29tL2hvdy10by1jb252ZXJ0LXJnYi10by1oZXgtYW5kLXZpY2UtdmVyc2EtaW4tamF2YXNjcmlwdC9cbiogQHBhcmFtIHJcbiogQHBhcmFtIGdcbiogQHBhcmFtIGJcbiogQHJldHVybnNcbiovXG5mdW5jdGlvbiByZ2JfdG9faGV4IChyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKCgxIDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYikudG9TdHJpbmcoMTYpLnNsaWNlKDEpXG59XG5cbi8qKlxuKiBodHRwczovL3d3dy5wcm9ncmFtbWluZ2N1YmUuY29tL2hvdy10by1jb252ZXJ0LXJnYi10by1oZXgtYW5kLXZpY2UtdmVyc2EtaW4tamF2YXNjcmlwdC9cbiogQHBhcmFtIGhleFxuKiBAcmV0dXJuc1xuKi9cbmZ1bmN0aW9uIGhleF90b19yZ2IgKGhleDogc3RyaW5nKTogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH0ge1xuICAgIGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNilcbiAgICBjb25zdCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygyLCA0KSwgMTYpXG4gICAgY29uc3QgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNCwgNiksIDE2KVxuICAgIHJldHVybiB7IHIsIGcsIGIgfVxufVxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgdGljayB9IGZyb20gXCJzdmVsdGVcIjtcblxuXHQvL1xuXHQvLyBJTlBVVFxuXHQvLyBcblx0ZXhwb3J0IGxldCBpc19vcGVuID0gZmFsc2Vcblx0ZXhwb3J0IGxldCBhbmNob3JfZWw6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkXG5cdGV4cG9ydCBsZXQgdHJhY2tfc2Nyb2xsaW5nID0gZmFsc2VcblxuXHRjb25zdCBnYXBfb2Zmc2V0ID0gMTY7XG5cdGxldCBwb3B1cDogSFRNTEVsZW1lbnRcblx0XG5cdGZ1bmN0aW9uIGhhbmRsZV9ib2R5X2NsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KXtcblx0XHRpZighaXNfb3Blbil7IHJldHVybiB9XG5cblx0XHRjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcblx0XHRpZighYW5jaG9yX2VsKXsgcmV0dXJuIH1cblxuXHRcdGNvbnN0IGlzX2luc2lkZSA9IHBvcHVwLmNvbnRhaW5zKHRhcmdldClcblx0XHRjb25zdCBpc19hbmNob3IgPSBhbmNob3JfZWwuY29udGFpbnModGFyZ2V0KVxuXG5cdFx0XG5cdFx0aWYoaXNfaW5zaWRlIHx8IGlzX2FuY2hvcil7IHJldHVybiB9XG5cdFx0Ly8gaXNfb3BlbiA9IGZhbHNlXG5cdH1cblxuXHQkOiBpc19vcGVuICYmIHNldF9kcm9wZG93bl9wb3NpdGlvbihhbmNob3JfZWwpXG5cdCQ6IGNvbnNvbGUubG9nKHthbmNob3JfZWx9KVxuXHQvLyAkOiBzZXRfZHJvcGRvd25fcG9zaXRpb24oYW5jaG9yX2VsKVxuXHRhc3luYyBmdW5jdGlvbiBzZXRfZHJvcGRvd25fcG9zaXRpb24oZWw/OiBIVE1MRWxlbWVudCl7XG5cdFx0YXdhaXQgdGljaygpXG5cdFx0aWYoIWVsKXsgcmV0dXJuIH1cblxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgcG9zaXRpb25zIGFuZCBkaW1lbnNpb25zIG9mIHRoZSBlbGVtZW50cyBpbnZvbHZlZFxuXHRcdGNvbnN0IGFuY2hvcl9yZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblx0XHRjb25zdCBwb3B1cF9yZWN0ID0gcG9wdXAuZmlyc3RFbGVtZW50Q2hpbGQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdFx0Y29uc3Qgd2luZG93X3dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcblxuXHRcdGNvbnN0IHNjcm9sbF9lbCA9IGZpbmRfY2xvc2VzdF9zY3JvbGxpbmdfZWxlbWVudChlbClcblxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgdmVydGljYWwgcG9zaXRpb24gb2YgdGhlIHBvcHVwXG5cdFx0Y29uc3QgbmV3X3RvcCA9IGFuY2hvcl9yZWN0LnRvcCArIGFuY2hvcl9yZWN0LmhlaWdodC8yIC0gcG9wdXBfcmVjdC5oZWlnaHQvMlx0XHRcblx0XHRjb25zdCBzY3JvbGxfdG9wID0gc2Nyb2xsX2VsLmdldENsaWVudFJlY3RzKClbMF0udG9wXG5cdFx0Y29uc3Qgc2Nyb2xsX2JvdHRvbSA9IHNjcm9sbF9lbC5nZXRDbGllbnRSZWN0cygpWzBdLmJvdHRvbVxuXHRcdGNvbnN0IHNjcm9sbF9ib3R0b21fYWRqdXN0ZWQgPSBzY3JvbGxfYm90dG9tIC0gcG9wdXBfcmVjdC5oZWlnaHRcblx0XHR5ID0gTWF0aC5tYXgoc2Nyb2xsX3RvcCwgTWF0aC5taW4obmV3X3RvcCwgc2Nyb2xsX2JvdHRvbV9hZGp1c3RlZCkpO1xuXG5cdFx0Ly8gQ2FsY3VsYXRlIHRoZSBob3Jpem9udGFsIHBvc2l0aW9uIG9mIHRoZSBwb3B1cFxuXHRcdHggPSBhbmNob3JfcmVjdC5sZWZ0IC0gcG9wdXBfcmVjdC53aWR0aCAtIGdhcF9vZmZzZXRcblx0XHRjb25zdCBwb3NfeF9yaWdodCA9IGFuY2hvcl9yZWN0LmxlZnQgKyBhbmNob3JfcmVjdC53aWR0aCArIGdhcF9vZmZzZXRcblx0XHR4ID0gcG9zX3hfcmlnaHRcblx0XHRjb25zdCBmaXRfdG9fdGhlX3JpZ2h0ID0gcG9zX3hfcmlnaHQgKyBwb3B1cF9yZWN0LndpZHRoIDwgd2luZG93X3dpZHRoXG5cdFx0aWYoIWZpdF90b190aGVfcmlnaHQpe1xuXHRcdFx0Y29uc3QgcG9zX3hfbGVmdCAgPSBhbmNob3JfcmVjdC5sZWZ0IC0gcG9wdXBfcmVjdC53aWR0aCAtIGdhcF9vZmZzZXRcblx0XHRcdHggPSBwb3NfeF9sZWZ0XG5cdFx0fVxuXHRcdFx0XHRcblx0fVxuXHRcblx0bGV0IHggPSAwO1xuXHRsZXQgeSA9IDA7XG5cdCQ6IHBvc194ID0gYCR7eH1weGA7XG5cdCQ6IHBvc195ID0gYCR7eX1weGA7XG5cblx0Ly8gVE9ETzogcmVtb3ZlIHRoZSBsaXN0ZW5lciBhdCBzb21lIHBvaW50XG5cdCQ6IHNjcm9sbF90cmFja2luZyhhbmNob3JfZWwsIGlzX29wZW4sIHRyYWNrX3Njcm9sbGluZylcblx0ZnVuY3Rpb24gc2Nyb2xsX3RyYWNraW5nKG5vZGU/OiBIVE1MRWxlbWVudCwgaXNfb3Blbj86IGJvb2xlYW4sIHRyYWNrX3Njcm9sbGluZz86IGJvb2xlYW4pe1xuXHRcdGlmKCFpc19vcGVuKSB7IHJldHVybiB9XG5cdFx0aWYoIXRyYWNrX3Njcm9sbGluZyl7IHJldHVybiB9XG5cdFx0aWYoIW5vZGUpeyByZXR1cm4gfVxuXG5cdFx0Y29uc3Qgc2Nyb2xsX2VsID0gZmluZF9jbG9zZXN0X3Njcm9sbGluZ19lbGVtZW50KG5vZGUpXG5cdFx0c2Nyb2xsX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlX3BhcmVudF9zY3JvbGwpXG5cdFx0c2Nyb2xsX2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlX3BhcmVudF9zY3JvbGwpXG5cdH1cblxuXG5cdGZ1bmN0aW9uIGZpbmRfY2xvc2VzdF9zY3JvbGxpbmdfZWxlbWVudChub2RlPzogSFRNTEVsZW1lbnQgfCBudWxsKTogSFRNTEVsZW1lbnR7XG5cdFx0aWYoIW5vZGUpeyByZXR1cm4gZG9jdW1lbnQuYm9keSB9XG5cblx0XHRjb25zdCBub2RlX3JlY3QgPSBub2RlLmdldENsaWVudFJlY3RzKClcblx0XHRjb25zdCBub2RlX2hlaWdodCA9IG5vZGVfcmVjdFswXS5oZWlnaHRcblxuXHRcdGlmKG5vZGUuc2Nyb2xsSGVpZ2h0ID4gbm9kZS5jbGllbnRIZWlnaHQgJiYgbm9kZV9oZWlnaHQgPiAwKXtcblx0XHRcdHJldHVybiBub2RlO1xuXHRcdH1cblx0XHRpZighbm9kZS5wYXJlbnRFbGVtZW50KXtcblx0XHRcdGNvbnNvbGUud2Fybih7bGV2ZWw6XCJ3YXJuXCIsIG1zZzpcImZpbmRpbmcgc2Nyb2xsaW5nIGVsZW1lbnQsIG5vZGUgZG9lcyBub3QgaGF2ZSBwYXJlbnRcIiwgbm9kZX0pXG5cdFx0fVxuXHRcdHJldHVybiBmaW5kX2Nsb3Nlc3Rfc2Nyb2xsaW5nX2VsZW1lbnQobm9kZS5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZV9wYXJlbnRfc2Nyb2xsKGV2ZW50OiBFdmVudCl7XG5cdFx0c2V0X2Ryb3Bkb3duX3Bvc2l0aW9uKGFuY2hvcl9lbClcblx0fVxuXG48L3NjcmlwdD5cblxuPHN2ZWx0ZTpib2R5IG9uOmNsaWNrfGNhcHR1cmU9e2hhbmRsZV9ib2R5X2NsaWNrfSAvPlxuXG5cbjxwb3B1cD5cblx0PGRpdiBcblx0XHRjbGFzcz1cInBvcHVwXCIgXG5cdFx0Y2xhc3M6c2hvdz17aXNfb3Blbn1cblx0XHRzdHlsZT17IGAtLXBvcy14OiR7cG9zX3h9OyAtLXBvcy15OiR7cG9zX3l9O2B9IFxuXHRcdGJpbmQ6dGhpcz17cG9wdXB9XG5cdD5cblx0XHQ8c2xvdD48L3Nsb3Q+XG5cdDwvZGl2PlxuPC9wb3B1cD5cblxuPHN0eWxlPlxuXHRwb3B1cHtcblx0XHRkaXNwbGF5OiBpbmxpbmU7XG5cdH1cblx0XG5cblx0LnBvcHVwe1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHRwb3NpdGlvbjogZml4ZWQ7XG5cdFx0aW5zZXQ6IFx0ICAwIGF1dG8gYXV0byAwO1xuXHRcdHotaW5kZXg6ICAxMDAwO1xuXHRcdHRyYW5zZm9ybTogdHJhbnNsYXRlM2QodmFyKC0tcG9zLXgsMCksIHZhcigtLXBvcy15LDApLCAwcHgpO1xuXG5cdFx0YmFja2dyb3VuZDogXHQgdmFyKC0tY29sb3ItZGFyay1nbGFzcyk7XG5cdFx0Ym9yZGVyOiBcdFx0IHRoaW4gc29saWQgZ3JheTtcblx0XHRiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMzBweCk7XG5cdFx0Ym9yZGVyLXJhZGl1czogXHQgdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG5cdFx0Ym94LXNoYWRvdzogXHQgMCAwIDdweCAxcHggYmxhY2s7XG5cblx0XHRkaXNwbGF5OiBub25lO1xuXHR9XG5cblx0LnBvcHVwLnNob3d7XG5cdFx0ZGlzcGxheTogaW5saW5lO1xuXG5cdH1cbjwvc3R5bGU+IiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcInN2ZWx0ZVwiXG4gIFx0aW1wb3J0IHR5cGUgeyBFdmVudF9TYXZlIH0gZnJvbSBcIi4vZXZlbnRzXCI7XG4gICAgaW1wb3J0IHR5cGUgeyBUYXNrLCBQcm9qZWN0IH0gZnJvbSBcIi4uLy4uL2FwaS9wcm9qZWN0XCI7XG5cblx0Ly8gXG5cdC8vIElucHV0IFByb3BzXG5cdC8vIFxuXHRleHBvcnQgbGV0IHNlbGVjdGVkX3Rhc2s6IFRhc2sgfCB1bmRlZmluZWRcblx0ZXhwb3J0IGxldCBpc19vcGVuID0gZmFsc2Vcblx0ZXhwb3J0IGxldCBkZXNjcmlwdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXG5cdGV4cG9ydCBsZXQgcHJvamVjdHM6IFByb2plY3RbXVxuXG5cdC8vIFxuXHQvLyBDb250ZXh0XG5cdC8vIFxuXHQvLyBjb25zdCBjdHhfcHJvamVjdHMgPSBjb250ZXh0X3Byb2plY3RfdXNlKClcblx0Ly8gY29uc3Qge3N0b3JlX3Byb2plY3RzfSA9IHVzZV9wcm9qZWN0X2NvbnRleHQoKVxuXG5cdC8vIFxuXHQvLyBTZXR1cFxuXHQvLyBcblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKVxuXHQvLyBsZXQgcHJvamVjdHM6IFByb2plY3RbXVxuXHRsZXQgYW5jaG9yOiBIVE1MRWxlbWVudCBcblx0Ly8gY29uc3QgcHJvamVjdF9zZXRzID0gY3R4X3Byb2plY3RzLnN0b3JlXG5cdC8vICQ6IHByb2plY3RzID0gJHByb2plY3Rfc2V0cy5nZXQoZGF0ZV9mb3JtYXRfaXNvKCkpXG5cdC8vICQ6IGNvbnNvbGUubG9nKHtsZXZlbDpcImRldlwiLCBtc2c6XCJldmVudF9mb3JtXCIsIHByb2plY3RzLCBzdG9yZV9wcm9qZWN0czogJHN0b3JlX3Byb2plY3RzfSlcblx0bGV0IG5ld19zZWxlY3RlZF90YXNrOiBUYXNrIHwgdW5kZWZpbmVkID0gc2VsZWN0ZWRfdGFzayB8fCBwcm9qZWN0c1swXS50YXNrc1swXVxuXHRsZXQgbmV3X2Rlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cblxuXHQvLyBcblx0Ly8gQWN0aW9uc1xuXHQvLyBcblx0ZnVuY3Rpb24gaGFuZGxlX3Rhc2tfY2hhbmdlKGU6IEV2ZW50KXtcblx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudFxuXHRcdGNvbnN0IHRhc2tfaWQgPSB0YXJnZXQudmFsdWVcblxuXHRcdGZvcihjb25zdCBwIG9mIHByb2plY3RzKXtcblx0XHRcdGNvbnN0IHQgPSBwLnRhc2tzLmZpbmQoIHQgPT4gU3RyaW5nKHQuaWQpID09PSB0YXNrX2lkKVxuXHRcdFx0aWYodCl7XG5cdFx0XHRcdG5ld19zZWxlY3RlZF90YXNrID0gdFxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZV9zdWJtaXQoKXtcdFxuXHRcdGNvbnN0IGRldGFpbDogRXZlbnRfU2F2ZSA9IHtcblx0XHRcdHRhc2s6IG5ld19zZWxlY3RlZF90YXNrLFxuXHRcdFx0ZGVzY3JpcHRpb246IG5ld19kZXNjcmlwdGlvbiA/PyBcIlwiLCBcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coe2xldmVsOlwiZGV2XCIsIG1zZzpcInN1Ym1pdHRpbmdcIiwgZGV0YWlsIH0pXG5cdFx0ZGlzcGF0Y2goXCJzYXZlXCIsIGRldGFpbClcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZV9kZWxldGUoKXtcblx0XHRkaXNwYXRjaChcImRlbGV0ZVwiKVxuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlX2NtZF9lbnRlcihldmVudDpLZXlib2FyZEV2ZW50KXtcblx0XHRjb25zdCBoYXNfYWxsX2tleXMgPSBldmVudC5jb2RlID09PSBcIkVudGVyXCIgJiYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSlcblx0XHRpZighaGFzX2FsbF9rZXlzKXsgcmV0dXJuIH1cblx0XHRpZighaXNfb3BlbikgeyByZXR1cm4gfVxuXG5cdFx0aGFuZGxlX3N1Ym1pdCgpXG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVfZXNjYXBlKGV2ZW50OktleWJvYXJkRXZlbnQpe1xuXHRcdGNvbnN0IGhhc19hbGxfa2V5cyA9IGV2ZW50LmNvZGUgPT09IFwiRXNjYXBlXCJcblx0XHRpZighaGFzX2FsbF9rZXlzKXsgcmV0dXJuIH1cblx0XHRpZighaXNfb3Blbil7IHJldHVybiB9XG5cblx0XHRkaXNwYXRjaChcImNsb3NlXCIpXG5cdH1cblxuXHQvLyBUT0RPOiBmaXggdGhpc1xuXHQvLyBpZiB3ZSBoYXZlIHRoaXMgZW5hYmxlZCB3ZSBjYW5ub3Qgb3BlbiB0aGUgZm9ybSBvbiBjcmVhdGlvbi1lbmRcblx0Ly8gYmVjYXVzZSB3ZSBcImNsaWNraW5nXCIgb3V0c2lkZSBvZiB0aGUgZm9ybVxuXHQvLyBhc3luYyBmdW5jdGlvbiBoYW5kbGVfb3V0c2lkZV9jbGljayhldmVudDogTW91c2VFdmVudCl7XG5cdC8vIFx0Y29uc3QgY2xpY2tlZF9pbnNpZGVfZm9ybSA9IGFuY2hvci5jb250YWlucyhldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpXG5cdC8vIFx0Y29uc29sZS5sb2coe2xldmVsOlwiZGV2XCIsIG1zZzpcImNsaWNrZWQgaW5zaWRlP1wiLCBjbGlja2VkX2luc2lkZV9mb3JtLCBpc19vcGVufSlcblx0Ly8gXHRpZihjbGlja2VkX2luc2lkZV9mb3JtKXsgcmV0dXJuIH1cblx0Ly8gXHRpZighaXNfb3Blbil7IHJldHVybiB9XG5cblx0Ly8gXHRkaXNwYXRjaChcImNsb3NlXCIpXG5cdC8vIH1cblx0XG48L3NjcmlwdD5cblxuPHN2ZWx0ZTpib2R5IFxuXHRvbjprZXlkb3duPXtoYW5kbGVfY21kX2VudGVyfSBcblx0b246a2V5ZG93bj17aGFuZGxlX2VzY2FwZX1cbi8+IFxuXG48ZXZlbnQtZm9ybSBiaW5kOnRoaXM9e2FuY2hvcn0+XG5cdDxmb3JtIG9uOnN1Ym1pdHxwcmV2ZW50RGVmYXVsdD17aGFuZGxlX3N1Ym1pdH0+XG5cdDxsYWJlbD5cblx0XHQ8c3Bhbj5UYXNrPC9zcGFuPlxuXHRcdDxzZWxlY3Qgb246Y2hhbmdlPXtoYW5kbGVfdGFza19jaGFuZ2V9PlxuXHRcdFx0eyNlYWNoIHByb2plY3RzIGFzIHByb2plY3R9XG5cdFx0XHRcdDxvcHRncm91cCBsYWJlbD17cHJvamVjdC5uYW1lfT5cblx0XHRcdFx0XHR7I2VhY2ggcHJvamVjdC50YXNrcyBhcyB0YXNrfVxuXHRcdFx0XHRcdFx0PG9wdGlvbiBzZWxlY3RlZD17c2VsZWN0ZWRfdGFzaz8uaWQgPT09IHRhc2suaWR9IHZhbHVlPXt0YXNrLmlkfT5cblx0XHRcdFx0XHRcdFx0e3Rhc2suaWR9IHwgXG5cdFx0XHRcdFx0XHRcdHt0YXNrLm5hbWV9XG5cdFx0XHRcdFx0XHQ8L29wdGlvbj5cblx0XHRcdFx0XHR7L2VhY2h9XG5cdFx0XHRcdDwvb3B0Z3JvdXA+XG5cdFx0XHR7L2VhY2h9XG5cdFx0PC9zZWxlY3Q+XG5cdDwvbGFiZWw+XG5cblx0PGxhYmVsPlxuXHRcdDxzcGFuPkRlc2NyaXB0aW9uPC9zcGFuPlxuXHRcdDx0ZXh0YXJlYSByb3dzPTUgYmluZDp2YWx1ZT17bmV3X2Rlc2NyaXB0aW9ufSAvPlxuXHQ8L2xhYmVsPlxuXG5cdDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPnNhdmU8L2J1dHRvbj5cblx0PGJ1dHRvbiBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17aGFuZGxlX2RlbGV0ZX0+ZGVsZXRlPC9idXR0b24+XG48L2Zvcm0+XG48L2V2ZW50LWZvcm0+XG5cbjxzdHlsZT5cblxuXHRcblxuXHRmb3Jte1xuXHRcdGRpc3BsYXk6IFx0XHRmbGV4O1xuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdFx0Z2FwOlx0XHRcdDAuNXJlbTtcblx0XHRwYWRkaW5nOiBcdFx0MXJlbTtcblx0fVxuXG5cdHNlbGVjdCxcblx0dGV4dGFyZWEge1xuXHRcdHBhZGRpbmc6XHRcdCAgMC4ycmVtIDAuM3JlbTtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcblx0XHRjb2xvcjogXHRcdFx0ICB3aGl0ZTtcblx0XHRib3JkZXItcmFkaXVzOiBcdCAgdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG5cdH1cblxuXHRsYWJlbHtcblx0XHRkaXNwbGF5OiBcdFx0ZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGdhcDogXHRcdFx0MC4ycmVtO1xuXHR9XG48L3N0eWxlPiIsImltcG9ydCB7IHdyaXRhYmxlLCBkZXJpdmVkLCB0eXBlIFJlYWRhYmxlLCBnZXQgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCJcbmltcG9ydCB7IFRpbWVfRW50cnksIFRpbWVfRW50cnlfU3RhdGUgfSBmcm9tIFwiLi90aW1lX2VudHJ5XCJcblxuZXhwb3J0IGNsYXNzIFRpbWVfRW50cmllcyB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfZW50cmllcyQgPSB3cml0YWJsZTxUaW1lX0VudHJ5W10+KFtdKVxuICAgIHB1YmxpYyBlbnRyaWVzJCA9IGRlcml2ZWQodGhpcy5fZW50cmllcyQsICh0aW1lX2VudHJpZXMpID0+IHRpbWVfZW50cmllcylcbiAgICBwdWJsaWMgZW50cmllc190b19zYXZlJCA9IGRlcml2ZWRfYnlfc3RhdGUodGhpcy5fZW50cmllcyQsIFRpbWVfRW50cnlfU3RhdGUuVG9TYXZlKVxuICAgIHB1YmxpYyBlbnRyaWVzX3RvX2RlbGV0ZSQgPSBkZXJpdmVkX2J5X3N0YXRlKHRoaXMuX2VudHJpZXMkLCBUaW1lX0VudHJ5X1N0YXRlLlRvRGVsZXRlKVxuXG4gICAgcHVibGljIGNyZWF0ZV90aW1lX2VudHJ5IChcbiAgICAgICAgLi4udGltZV9lbnRyaWVzX3RvX2NyZWF0ZTogUGFydGlhbDxUaW1lX0VudHJ5PltdXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IG5ld190aW1lX2VudHJpZXMgPSB0aW1lX2VudHJpZXNfdG9fY3JlYXRlLm1hcCgodGUpID0+IG5ldyBUaW1lX0VudHJ5KHRlKSlcbiAgICAgICAgdGhpcy5fZW50cmllcyQudXBkYXRlKCh0aW1lX2VudHJpZXMpID0+IFsuLi50aW1lX2VudHJpZXMsIC4uLm5ld190aW1lX2VudHJpZXNdKVxuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhciAoKSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXMkLnNldChbXSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIGEgc2luZ2xlIHRpbWUgZW50cnlcbiAgICAgKiBhbmQgZGVzZWxlY3RzIGFueSBwcmV2aW91c2x5IHNlbGVjdGVkIG9uZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgc2VsZWN0X3RpbWVfZW50cnkgKGlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZW50cmllcyQudXBkYXRlKCh0aW1lX2VudHJpZXMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aW1lX2VudHJpZXMubWFwKCh0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0ZS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4udGUsIGlzX3NlbGVjdGVkOiB0cnVlIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4udGUsIGlzX3NlbGVjdGVkOiBmYWxzZSB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgYWRkaXRpb25hbCB0aW1lIGVudHJpZXNcbiAgICAgKiB3aWhvdXQgZGVzZWxlY3RpbmcgYW55IHByZXZpb3VzbHkgc2VsZWN0ZWQgb25lc1xuICAgICAqL1xuICAgIHB1YmxpYyBzZWxlY3RfYWRkaXRpb25hbF90aW1lX2VudHJ5IChpZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXMkLnVwZGF0ZSgodGltZV9lbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGltZV9lbnRyaWVzLm1hcCgodGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnRlLCBpc19zZWxlY3RlZDogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzZXRfc2VsZWN0ZWRfdGltZV9lbnRyeSAoKSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXMkLnVwZGF0ZSgodGltZV9lbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGltZV9lbnRyaWVzLm1hcCgodGUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50ZSwgaXNfc2VsZWN0ZWQ6IGZhbHNlIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRfc3RhdGUgKGlkOiBudW1iZXIsIHN0YXRlOiBUaW1lX0VudHJ5X1N0YXRlKSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXMkLnVwZGF0ZSgodGltZV9lbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGltZV9lbnRyaWVzLm1hcCgodGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnRlLCBzdGF0ZSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgZmxhZ190b19kZWxldGUgKGlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zZXRfc3RhdGUoaWQsIFRpbWVfRW50cnlfU3RhdGUuVG9EZWxldGUpXG4gICAgfVxuXG4gICAgcHVibGljIGZsYWdfdG9fc2F2ZSAoaWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9lbnRyaWVzJC51cGRhdGUoKHRpbWVfZW50cmllcykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRpbWVfZW50cmllcy5tYXAoKHRlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRlLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogVGltZV9FbnRyeV9TdGF0ZS5Ub1NhdmUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGUgKGlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZW50cmllcyQudXBkYXRlKCh0aW1lX2VudHJpZXMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aW1lX2VudHJpZXMuZmlsdGVyKCh0ZSkgPT4gdGUuaWQgIT09IGlkKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGVfYmF0Y2ggKGlkczogbnVtYmVyW10pIHtcbiAgICAgICAgdGhpcy5fZW50cmllcyQudXBkYXRlKCh0aW1lX2VudHJpZXMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aW1lX2VudHJpZXMuZmlsdGVyKCh0ZSkgPT4gIWlkcy5pbmNsdWRlcyh0ZS5pZCkpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHNldF90aW1lX3JhbmdlIChpZDogbnVtYmVyLCBzdGFydD86IERhdGUsIGVuZD86IERhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVfYnlfaWQoaWQsIHsgc3RhcnQsIGVuZCB9KVxuICAgICAgICB0aGlzLmZsYWdfdG9fc2F2ZShpZClcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlX2J5X2lkIChpZDogbnVtYmVyLCB0aW1lX2VudHJ5OiBQYXJ0aWFsPFRpbWVfRW50cnk+KSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXMkLnVwZGF0ZSgodGltZV9lbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGltZV9lbnRyaWVzLm1hcCgodGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRpbWVfZW50cnksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVfYnlfYmF0Y2ggKGNtZHM6IENNRF9VcGRhdGVfVGltZV9FbnRyeV9CeV9JZFtdKSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXMkLnVwZGF0ZSgodGltZV9lbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGltZV9lbnRyaWVzLm1hcCgodGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbWQgPSBjbWRzLmZpbmQoKGNtZCkgPT4gY21kLmlkID09PSB0ZS5pZClcbiAgICAgICAgICAgICAgICBpZiAoY21kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY21kLnRpbWVfZW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZTogVGltZV9FbnRyeV9TdGF0ZS5TdGFibGUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyByZXBsYWNlX3RpbWVfZW50cmllc19ieV9pZCAoY21kczogQ01EX1JlcGxhY2VfVGltZV9FbnRyeV9CeV9JZFtdKSB7XG4gICAgICAgIGNvbnN0IHRpbWVfZW50cmllcyA9IGdldCh0aGlzLmVudHJpZXMkKVxuICAgICAgICBjb25zdCBuZXdfY21kczogQ01EX1JlcGxhY2VfVGltZV9FbnRyeV9CeV9JbmRleFtdID0gW11cbiAgICAgICAgZm9yIChjb25zdCB7IGlkLCB0aW1lX2VudHJ5IH0gb2YgY21kcykge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aW1lX2VudHJpZXMuZmluZEluZGV4KHRlID0+IHRlLmlkID09PSBpZClcbiAgICAgICAgICAgIG5ld19jbWRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIHRpbWVfZW50cnksXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXBsYWNlX3RpbWVfZW50cmllc19ieV9pbmRleChuZXdfY21kcylcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVwbGFjZV90aW1lX2VudHJpZXNfYnlfaW5kZXggKGNtZHM6IENNRF9SZXBsYWNlX1RpbWVfRW50cnlfQnlfSW5kZXhbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9lbnRyaWVzJC51cGRhdGUoKHRpbWVfZW50cmllcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X3RpbWVfZW50cmllcyA9IFsuLi50aW1lX2VudHJpZXNdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgaW5kZXgsIHRpbWVfZW50cnkgfSBvZiBjbWRzKSB7XG4gICAgICAgICAgICAgICAgLy8gZml4IHRpbWUgb3JkZXJcbiAgICAgICAgICAgICAgICBpZiAodGltZV9lbnRyeS5zdGFydCA+IHRpbWVfZW50cnkuZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIFt0aW1lX2VudHJ5LmVuZCwgdGltZV9lbnRyeS5zdGFydF0gPSBbdGltZV9lbnRyeS5zdGFydCwgdGltZV9lbnRyeS5lbmRdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld190aW1lX2VudHJpZXNbaW5kZXhdID0gdGltZV9lbnRyeVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld190aW1lX2VudHJpZXNcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVwbGFjZV90aW1lX2VudHJpZXNfYnlfdGltZV9yYW5nZSAodGltZV9lbnRyaWVzX3RvX3JlcGxhY2U6IFRpbWVfRW50cnlbXSkge1xuICAgICAgICB0aGlzLl9lbnRyaWVzJC51cGRhdGUoKHRpbWVfZW50cmllcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X3RpbWVfZW50cmllcyA9IFsuLi50aW1lX2VudHJpZXNdXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgdGltZV9lbnRyeSBvZiB0aW1lX2VudHJpZXNfdG9fcmVwbGFjZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGltZV9lbnRyaWVzLmZpbmRJbmRleCgodGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRpbWVfRW50cnkuSXNfU2FtZV9SYW5nZSh0ZSwgdGltZV9lbnRyeSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIG5ld190aW1lX2VudHJpZXNbaW5kZXhdID0gdGltZV9lbnRyeVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV3X3RpbWVfZW50cmllc1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVyaXZlZF9ieV9zdGF0ZSAodGltZV9lbnRyaWVzOiBSZWFkYWJsZTxUaW1lX0VudHJ5W10+LCBzdGF0ZTogVGltZV9FbnRyeV9TdGF0ZSk6IFJlYWRhYmxlPFRpbWVfRW50cnlbXT4ge1xuICAgIHJldHVybiBkZXJpdmVkKHRpbWVfZW50cmllcywgKHRpbWVfZW50cmllcykgPT4gdGltZV9lbnRyaWVzLmZpbHRlcigoZSkgPT4gZS5zdGF0ZSA9PT0gc3RhdGUpKVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENNRF9VcGRhdGVfVGltZV9FbnRyeV9CeV9JZCB7XG4gICAgaWQ6ICAgICAgICAgbnVtYmVyXG4gICAgdGltZV9lbnRyeTogUGFydGlhbDxUaW1lX0VudHJ5PlxufVxuZXhwb3J0IGludGVyZmFjZSBDTURfUmVwbGFjZV9UaW1lX0VudHJ5X0J5X0lkIHtcbiAgICBpZDogICAgICAgICBudW1iZXJcbiAgICB0aW1lX2VudHJ5OiBUaW1lX0VudHJ5XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ01EX1JlcGxhY2VfVGltZV9FbnRyeV9CeV9JbmRleCB7XG4gICAgaW5kZXg6ICAgICAgbnVtYmVyXG4gICAgdGltZV9lbnRyeTogVGltZV9FbnRyeVxufVxuIiwiaW1wb3J0IHsgZ2V0Q29udGV4dCwgc2V0Q29udGV4dCB9IGZyb20gXCJzdmVsdGVcIlxuaW1wb3J0IHsgVGltZV9FbnRyaWVzIH0gZnJvbSBcIi4vdGltZV9lbnRyaWVzXCJcblxuY29uc3QgY29udGV4dF9rZXkgPSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gdGltZV9lbnRyaWVzX2NvbnRleHRfaW5pdCAoKSB7XG4gICAgc2V0Q29udGV4dDxUaW1lX0VudHJpZXM+KGNvbnRleHRfa2V5LCBuZXcgVGltZV9FbnRyaWVzKCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lX2VudHJpZXNfY29udGV4dF91c2UgKCkge1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQ8VGltZV9FbnRyaWVzPihjb250ZXh0X2tleSlcbiAgICBpZiAoIWN0eCkge1xuICAgICAgICBjb25zb2xlLndhcm4oeyBsZXZlbDogXCJ3YXJuXCIsIG1zZzogXCJ0aW1lIGVudHJ5IGNvbnRleHQgaGFzIG5vdCBiZWVuIGluaXRhbGl6ZWRcIiB9KVxuICAgIH1cbiAgICByZXR1cm4gY3R4XG59XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHQvLyBAdHMtaWdub3JlXG4gICAgaW1wb3J0IENhbGVuZGFyIGZyb20gJ0BldmVudC1jYWxlbmRhci9jb3JlJzsgXG5cdC8vIEB0cy1pZ25vcmVcbiAgICBpbXBvcnQgVGltZUdyaWQgZnJvbSAnQGV2ZW50LWNhbGVuZGFyL3RpbWUtZ3JpZCc7XG5cdC8vIEB0cy1pZ25vcmVcbiAgICBpbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnQGV2ZW50LWNhbGVuZGFyL2ludGVyYWN0aW9uJztcbiAgICBpbXBvcnQgdHlwZSB7IFxuICAgICAgICBPcHRpb25zLCBcbiAgICAgICAgRXZlbnQsIFxuICAgICAgICBEYXRlU2V0SW5mbywgXG4gICAgICAgIEV2ZW50Q2xpY2tJbmZvLCBcbiAgICAgICAgRXZlbnREcm9wSW5mbywgXG4gICAgICAgIEV2ZW50RGlkTW91bnRJbmZvLCBcbiAgICAgICAgRXZlbnRDb250ZW50SW5mbywgXG4gICAgICAgIFNlbGVjdEluZm8sIFxuICAgICAgICBFdmVudENhbGVuZGFyLCBcbiAgICAgICAgRXZlbnRSZXNpemVJbmZvLFxuICAgICB9IGZyb20gXCIuL2NhbGVuZGFyLXR5cGVzXCJcbiBcbiAgICBpbXBvcnQgeyBzdHJpbmdfdG9fY29sb3IgfSBmcm9tICcuLi9jYXJkL2NvbG9yLWhhc2gnO1xuICAgIGltcG9ydCAnQGV2ZW50LWNhbGVuZGFyL2NvcmUvaW5kZXguY3NzJztcbiAgICBpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4uL3BvcHVwJztcbiAgICBpbXBvcnQgeyBFdmVudEZvcm0gfSBmcm9tICcuLi9ldmVudF9mb3JtJztcbiAgICBpbXBvcnQgdHlwZSB7IEV2ZW50X1NhdmUgfSBmcm9tICcuLi9ldmVudF9mb3JtL2V2ZW50cyc7XG4gICAgaW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcbiAgICBpbXBvcnQgeyBjb250ZXh0X3Byb2plY3RfdXNlIH0gZnJvbSAnLi4vLi4vYXBpL3Byb2plY3QnO1xuICAgIGltcG9ydCB7IHR5cGUgVGltZV9FbnRyeSwgVGltZV9FbnRyeV9TdGF0ZSB9IGZyb20gJy4uLy4uL2FwaS90aW1lX2VudHJ5JztcbiAgICBpbXBvcnQgeyBkYXRlX2Zvcm1hdF9pc28sIGRhdGVfZHVyYXRpb25faW5fbWludXRlcywgZGF0ZV9taW51dGVzX3RvX2hvdXJzX2FuZF9taW51dGVzIH0gZnJvbSAnLi4vLi4vYXBpL3gvZGF0ZSc7XG4gICAgaW1wb3J0IHR5cGUgeyBEYXRlX0NoYW5nZWRfSW5mbyB9IGZyb20gJy4vZGF0ZWNoYW5nZWQnO1xuICAgIGltcG9ydCB7IHRpbWVfZW50cmllc19jb250ZXh0X3VzZSB9IGZyb20gJy4uLy4uL2FwaS90aW1lX2VudHJ5L3RpbWVfZW50cmllc19jb250ZXh0JztcblxuICAgIC8vIFxuICAgIC8vIEluaXRcbiAgICAvLyBcbiAgICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpXG5cbiAgICAvLyBcbiAgICAvLyBDb250ZXh0XG4gICAgLy8gXG4gICAgY29uc3QgdGltZV9lbnRpcmVzID0gdGltZV9lbnRyaWVzX2NvbnRleHRfdXNlKClcbiAgICBjb25zdCBjdHhfcHJvamVjdHMgPSBjb250ZXh0X3Byb2plY3RfdXNlKClcbiAgICAkOiBwcm9qZWN0X3NldHMgPSBjdHhfcHJvamVjdHMuc3RvcmVcbiAgICAkOiBwcm9qZWN0cyA9ICRwcm9qZWN0X3NldHMuZ2V0KCBkYXRlX2Zvcm1hdF9pc28oIGN1cl90aW1lX2VudHJ5Py5zdGFydCA/PyBuZXcgRGF0ZSgpICkgKSA/PyBbXVxuXG4gICAgLy8gXG4gICAgLy8gQ29uZmlnXG4gICAgLy8gXG4gICAgbGV0IHBsdWdpbnMgPSBbVGltZUdyaWQsIEludGVyYWN0aW9uXVxuICAgIGxldCBvcHRpb25zOiBPcHRpb25zID0ge31cbiAgICAkOiBvcHRpb25zID0ge1xuICAgICAgICB2aWV3OiBcInRpbWVHcmlkV2Vla1wiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdHNsb3REdXJhdGlvbiA6XCIwMDoxNVwiLFxuXHRcdGVkaXRhYmxlOiB0cnVlLFxuXHRcdGV2ZW50Q2xpY2s6IGhhbmRsZV9jbGljayxcbiAgICAgICAgc2xvdE1pblRpbWU6IFwiMDY6MDA6MDBcIixcbiAgICAgICAgc2xvdE1heFRpbWU6IFwiMjI6MDA6MDBcIixcbiAgICAgICAgZGF0ZXNTZXQ6IGhhbmRsZV91cGRhdGVfZGF0ZXMsXG4gICAgICAgIGV2ZW50RHJvcDogaGFuZGxlX2V2ZW50X2Ryb3AsXG4gICAgICAgIGV2ZW50VGltZUZvcm1hdDp7XG4gICAgICAgICAgICBob3VyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgIG1lcmlkaWVtOiBmYWxzZSxcbiAgICAgICAgICAgIGhvdXIxMjogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50UmVzaXplOiBoYW5kbGVfcmVzaXplLFxuICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgICAgICBzZWxlY3Q6IGhhbmRsZV9zZWxlY3QsXG4gICAgICAgIHBvaW50ZXI6IHRydWUsXG4gICAgICAgIGRheU1heEV2ZW50czogdHJ1ZSxcbiAgICAgICAgbm93SW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICBldmVudERpZE1vdW50OiBoYW5kbGVfZGlkX21vdW50LFxuICAgICAgICBldmVudENvbnRlbnQ6IGV2ZW50X2NvbnRlbnQsXG4gICAgICAgIGxvY2FsZTogXCJkZVwiLFxuICAgICAgICBmaXJzdERheTogMSxcbiAgICAgICAgZGF5SGVhZGVyRm9ybWF0OiBtYWtlX2RheV9oZWFkZXJfZm9ybWF0KCksXG4gICAgICAgIGhpZGRlbkRheXM6IFswLDZdLFxuICAgIH07XG5cbiAgICAvLyBhcyBhIHNtYWxsIGhhY2sgd2UgcmVnZW5lcmF0ZSB0aGUgZnVuY3Rpb24gc28gaXQgY2FuIHJlY2FsY3VsYXRlXG4gICAgLy8gdGhlIGFscmVhZHkgYm9va2VkIGhvdXJzXG4gICAgZnVuY3Rpb24gbWFrZV9kYXlfaGVhZGVyX2Zvcm1hdCgpe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGF5X2hlYWRlcl9mb3JtYXQoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gICAgICAgICAgICBjb25zdCBudWxsX2RhdGUgPSBuZXcgRGF0ZShcIjE5NzAtMDEtMDFcIilcblxuICAgICAgICAgICAgY29uc3QgdG9kYXlzX2V2ZW50cyA9IGV2ZW50cy5maWx0ZXIoZSA9PiBkYXRlX2Zvcm1hdF9pc28oZGF0ZSkgPT09IGRhdGVfZm9ybWF0X2lzbyhlLnN0YXJ0Pz9udWxsX2RhdGUgKSlcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uX3RvdGFsID0gdG9kYXlzX2V2ZW50cy5yZWR1Y2UoIChhY2MsIGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZHVyYXRpb24gPSAwXG4gICAgICAgICAgICAgICAgaWYoZS5zdGFydCAmJiBlLmVuZCl7IFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGRhdGVfZHVyYXRpb25faW5fbWludXRlcyhlLnN0YXJ0LCBlLmVuZCkgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIGR1cmF0aW9uXG4gICAgICAgICAgICB9LCAwKVxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25fdGV4dCA9IGRhdGVfbWludXRlc190b19ob3Vyc19hbmRfbWludXRlcyhkdXJhdGlvbl90b3RhbClcblxuXG4gICAgICAgICAgICBjb25zdCBkYXkgPSBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhcImRlXCIsIHt3ZWVrZGF5OiBcInNob3J0XCJ9KVxuICAgICAgICAgICAgY29uc3QgZGF5X251bWJlciA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZGVcIiwge2RheTogXCJudW1lcmljXCJ9KVxuICAgICAgICAgICAgY29uc3QgbW9udGhfbnVtYmVyID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJkZVwiLCB7bW9udGg6IFwibnVtZXJpY1wifSlcbiAgICAgICAgICAgIHJldHVybiBgJHtkYXl9ICR7ZGF5X251bWJlcn0uJHttb250aF9udW1iZXJ9ICgke2R1cmF0aW9uX3RleHR9KWBcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZXZlbnRfY29udGVudChpbmZvOiBFdmVudENvbnRlbnRJbmZvKSB7XG4gICAgICAgIGlmKGluZm8uZXZlbnQuaWQgPT09IFwie3BvaW50ZXJ9XCIpeyByZXR1cm4gaW5mby50aW1lVGV4dCB9XG5cbiAgICAgICAgY29uc3QgdGltZV9lbnRyeSA9IGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcyBhcyBUaW1lX0VudHJ5XG4gICAgICAgIGNvbnN0IGNzc0NsYXNzZXMgPSBbXG4gICAgICAgICAgICB7IGNsYXNzOiBcInN0YWJsZVwiLCAgICAgIGNvbmRpdGlvbjogdGltZV9lbnRyeS5zdGF0ZSA9PT0gVGltZV9FbnRyeV9TdGF0ZS5TdGFibGV9LFxuICAgICAgICAgICAgeyBjbGFzczogXCJpbi1wcm9ncmVzc1wiLCBjb25kaXRpb246IHRpbWVfZW50cnkuc3RhdGUgPT09IFRpbWVfRW50cnlfU3RhdGUuSW5fUHJvZ3Jlc3N9LFxuICAgICAgICAgICAgeyBjbGFzczogXCJzYXZpbmdcIiwgICAgICBjb25kaXRpb246IHRpbWVfZW50cnkuc3RhdGUgPT09IFRpbWVfRW50cnlfU3RhdGUuVG9TYXZlfSxcbiAgICAgICAgICAgIHsgY2xhc3M6IFwiZXJyb3JcIiwgICAgICAgY29uZGl0aW9uOiB0aW1lX2VudHJ5LnN0YXRlID09PSBUaW1lX0VudHJ5X1N0YXRlLkVycm9yfSxcbiAgICAgICAgICAgIHsgY2xhc3M6IFwiZGVsZXRpbmdcIiwgICAgY29uZGl0aW9uOiB0aW1lX2VudHJ5LnN0YXRlID09PSBUaW1lX0VudHJ5X1N0YXRlLlRvRGVsZXRlfSxcbiAgICAgICAgICAgIHsgY2xhc3M6IFwic2VsZWN0ZWRcIiwgICAgY29uZGl0aW9uOiB0aW1lX2VudHJ5LmlzX3NlbGVjdGVkfSxcblxuICAgICAgICBdLmZpbHRlcihjID0+IGMuY29uZGl0aW9uKVxuICAgICAgICAubWFwKGMgPT4gYy5jbGFzcylcbiAgICAgICAgLmpvaW4oXCIgXCIpXG4gICAgICAgIHJldHVybiB7aHRtbDpgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZWMtY3VzdG9tLWV2ZW50ICR7Y3NzQ2xhc3Nlc31cIj5cbiAgICAgICAgICAgICAgICA8ZGl2PiR7aW5mby50aW1lVGV4dH08L2Rpdj5cbiAgICAgICAgICAgICAgICAke0Jvb2xlYW4odGltZV9lbnRyeS5wcm9qZWN0KSA/ICAgICBgPGRpdj4ke3RpbWVfZW50cnkucHJvamVjdD8ubmFtZX08L2Rpdj5gOiBcIlwifVxuICAgICAgICAgICAgICAgICR7Qm9vbGVhbih0aW1lX2VudHJ5LnRhc2spID8gICAgICAgIGA8ZGl2PiR7dGltZV9lbnRyeS50YXNrPy5uYW1lfTwvZGl2PmA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgJHtCb29sZWFuKHRpbWVfZW50cnkuZGVzY3JpcHRpb24pID8gYDxkaXY+JHt0aW1lX2VudHJ5LmRlc2NyaXB0aW9ufTwvZGl2PmA6IFwiXCJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYH1cbiAgICB9XG5cbiAgICAvLyAjcmVnaW9uIGV2ZW50IG1hcHBpbmdcblxuICAgIGxldCBldmVudHM6IEV2ZW50W10gPSBbXVxuICAgIGNvbnN0IHN0b3JlID0gdGltZV9lbnRpcmVzLmVudHJpZXMkXG5cbiAgICAkOiBsb2FkX2V2ZW50cygkc3RvcmUpXG4gICAgZnVuY3Rpb24gbG9hZF9ldmVudHModGltZV9lbnRpcmVzOiBUaW1lX0VudHJ5W10pe1xuICAgICAgICBjb25zdCBuZXdfZXZlbnRzID0gdGltZV9lbnRpcmVzLm1hcCh0aW1lX2VudHJ5X3RvX2V2ZW50KVxuXG4gICAgICAgIGlmKCFlYyl7IHJldHVybiB9XG4gICAgICAgIGVjLnNldE9wdGlvbihcImV2ZW50c1wiLCBuZXdfZXZlbnRzKVxuICAgICAgICBlYy5zZXRPcHRpb24oXCJkYXlIZWFkZXJGb3JtYXRcIiwgbWFrZV9kYXlfaGVhZGVyX2Zvcm1hdCgpKVxuICAgICAgICBldmVudHMgPSBuZXdfZXZlbnRzXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGltZV9lbnRyeV90b19ldmVudCh0ZTogVGltZV9FbnRyeSk6IEV2ZW50IHtcbiAgICAgICAgY29uc3QgY29sb3JfaGFzaCA9IGAke3RlLnByb2plY3Q/Lm5hbWU/P1wiXCJ9YFxuICAgICAgICBsZXQgY29sb3IgPSBzdHJpbmdfdG9fY29sb3IoY29sb3JfaGFzaClcbiAgICAgICAgaWYoY29sb3JfaGFzaCA9PT0gXCJcIil7XG4gICAgICAgICAgICBjb2xvciA9IFwidmFyKC0tY29sb3ItZ3JleS0yKVwiXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IFN0cmluZyh0ZS5pZCksXG4gICAgICAgICAgICBhbGxEYXk6IGZhbHNlLFxuICAgICAgICAgICAgc3RhcnQ6IHRlLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiB0ZS5lbmQsXG4gICAgICAgICAgICAvLyBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0ZS5zdGF0ZSA9PT0gVGltZV9FbnRyeV9TdGF0ZS5TdGFibGUsXG4gICAgICAgICAgICBkdXJhdGlvbkVkaXRhYmxlOiB0ZS5zdGF0ZSA9PT0gVGltZV9FbnRyeV9TdGF0ZS5TdGFibGUsXG4gICAgICAgICAgICBzdGFydEVkaXRhYmxlOiB0ZS5zdGF0ZSA9PT0gVGltZV9FbnRyeV9TdGF0ZS5TdGFibGUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgZXh0ZW5kZWRQcm9wczogdGUsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAjZW5kcmVnaW9uIGV2ZW50IG1hcHBpbmdcblxuICAgIC8vICNyZWdpb24gZXZlbnQgaGFuZGxlcnNcblxuICAgIGxldCBpc19mb3JtX29wZW4gPSBmYWxzZVxuICAgIGxldCBhbmNob3I6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkXG4gICAgbGV0IGN1cl90aW1lX2VudHJ5OiBUaW1lX0VudHJ5XG5cbiAgICBsZXQgZWM6IEV2ZW50Q2FsZW5kYXJcblxuICAgIGZ1bmN0aW9uIGhhbmRsZV9zYXZlKGV2ZW50OiBDdXN0b21FdmVudDxFdmVudF9TYXZlPil7XG4gICAgICAgIGNvbnN0IHtkZXRhaWx9ID0gZXZlbnRcbiAgICAgICAgdGltZV9lbnRpcmVzLnJlc2V0X3NlbGVjdGVkX3RpbWVfZW50cnkoKVxuICAgICAgICB0aW1lX2VudGlyZXMudXBkYXRlX2J5X2lkKGN1cl90aW1lX2VudHJ5LmlkLCBkZXRhaWwpXG4gICAgICAgIHRpbWVfZW50aXJlcy5mbGFnX3RvX3NhdmUoY3VyX3RpbWVfZW50cnkuaWQpXG4gICAgICAgIGlzX2Zvcm1fb3BlbiA9IGZhbHNlXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlX2RlbGV0ZSgpe1xuICAgICAgICB0aW1lX2VudGlyZXMucmVzZXRfc2VsZWN0ZWRfdGltZV9lbnRyeSgpXG4gICAgICAgIHRpbWVfZW50aXJlcy5mbGFnX3RvX2RlbGV0ZShjdXJfdGltZV9lbnRyeS5pZClcbiAgICAgICAgaXNfZm9ybV9vcGVuID0gZmFsc2VcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVfY2xvc2UoKXtcbiAgICAgICAgaXNfZm9ybV9vcGVuID0gZmFsc2VcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVfdXBkYXRlX2RhdGVzKGluZm86IERhdGVTZXRJbmZvKXtcbiAgICAgICAgY29uc3QgZGV0YWlsOiBEYXRlX0NoYW5nZWRfSW5mbyA9e1xuICAgICAgICAgICAgc3RhcnQ6IGluZm8uc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IGluZm8uZW5kLFxuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoKFwiZGF0ZWNoYW5nZWRcIiwgZGV0YWlsKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZV9zZWxlY3QoaW5mbzogU2VsZWN0SW5mbykge1xuICAgICAgICB0aW1lX2VudGlyZXMucmVzZXRfc2VsZWN0ZWRfdGltZV9lbnRyeSgpXG4gICAgICAgIHRpbWVfZW50aXJlcy5jcmVhdGVfdGltZV9lbnRyeSh7XG5cdFx0XHRzdGFydDogaW5mby5zdGFydCxcblx0XHRcdGVuZDogICBpbmZvLmVuZCxcblx0XHRcdHN0YXRlOiBUaW1lX0VudHJ5X1N0YXRlLkluX1Byb2dyZXNzLFxuXHRcdH0pXG4gICAgICAgIGVjLnVuc2VsZWN0KClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVfZXZlbnRfZHJvcChpbmZvOiBFdmVudERyb3BJbmZvKSB7XG4gICAgICAgICAgICBjb25zdCB0ZSA9IGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcyBhcyBUaW1lX0VudHJ5XG4gICAgICAgICAgICB0aW1lX2VudGlyZXMuc2V0X3RpbWVfcmFuZ2UodGUuaWQsIGluZm8uZXZlbnQuc3RhcnQsIGluZm8uZXZlbnQuZW5kKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZV9yZXNpemUoaW5mbzogRXZlbnRSZXNpemVJbmZvKXtcbiAgICAgICAgY29uc3QgdGUgPSBpbmZvLmV2ZW50LmV4dGVuZGVkUHJvcHMgYXMgVGltZV9FbnRyeVxuICAgICAgICB0aW1lX2VudGlyZXMuc2V0X3RpbWVfcmFuZ2UodGUuaWQsIGluZm8uZXZlbnQuc3RhcnQsIGluZm8uZXZlbnQuZW5kKVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBoYW5kbGVfZGlkX21vdW50KGluZm86IEV2ZW50RGlkTW91bnRJbmZvKXtcbiAgICAgICAgY29uc3QgdGltZV9lbnRyeSA9IGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcyBhcyBUaW1lX0VudHJ5XG4gICAgICAgIGlmKHRpbWVfZW50cnkuaXNfc2VsZWN0ZWQgfHwgdGltZV9lbnRyeS5zdGF0ZSA9PT0gVGltZV9FbnRyeV9TdGF0ZS5Jbl9Qcm9ncmVzcyl7XG4gICAgICAgICAgICBpc19mb3JtX29wZW4gPSB0cnVlXG4gICAgICAgICAgICBjdXJfdGltZV9lbnRyeSA9IHRpbWVfZW50cnlcbiAgICAgICAgICAgIGFuY2hvciA9IGluZm8uZWxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZV9jbGljayhpbmZvOiBFdmVudENsaWNrSW5mbykgIHtcbiAgICAgICAgY29uc3QgdGUgPSBpbmZvLmV2ZW50LmV4dGVuZGVkUHJvcHMgYXMgVGltZV9FbnRyeVxuICAgICAgICB0aW1lX2VudGlyZXMuc2VsZWN0X3RpbWVfZW50cnkodGUuaWQpXG4gICAgfVxuXG4gICAgLy8gTm90ZTogbm90IHVzZWQgeWV0XG4gICAgZnVuY3Rpb24gaGFuZGxlX2NsaWNrX3dpdGhfbXVsdGlfc2VsZWN0KGluZm86IEV2ZW50Q2xpY2tJbmZvKSAge1xuICAgICAgICBjb25zdCB0ZSA9IGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcyBhcyBUaW1lX0VudHJ5XG5cbiAgICAgICAgY29uc3QgaXNfbW9kaWZpZXJfb24gPSBbXG4gICAgICAgICAgICBpbmZvLmpzRXZlbnQubWV0YUtleSwgXG4gICAgICAgICAgICBpbmZvLmpzRXZlbnQuY3RybEtleSwgXG4gICAgICAgICAgICBpbmZvLmpzRXZlbnQuc2hpZnRLZXksXG4gICAgICAgIF0uc29tZSh2ID0+IHYpXG5cbiAgICAgICAgaWYoaXNfbW9kaWZpZXJfb24pe1xuICAgICAgICAgICAgdGltZV9lbnRpcmVzLnNlbGVjdF9hZGRpdGlvbmFsX3RpbWVfZW50cnkodGUuaWQpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGltZV9lbnRpcmVzLnNlbGVjdF90aW1lX2VudHJ5KHRlLmlkKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gI2VuZHJlZ2lvbiBldmVudCBoYW5kbGVyc1xuXG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImNhbGVuZGFyLXJvb3RcIj5cbiAgICA8Q2FsZW5kYXIge3BsdWdpbnN9IHtvcHRpb25zfSBiaW5kOnRoaXM9e2VjfSAvPlxuICAgIHsjaWYgY3VyX3RpbWVfZW50cnkgJiYgYW5jaG9yfVxuICAgIHsja2V5IGN1cl90aW1lX2VudHJ5ICYmIGFuY2hvcn1cbiAgICA8UG9wdXAgaXNfb3Blbj17aXNfZm9ybV9vcGVufSBhbmNob3JfZWw9e2FuY2hvcn0gdHJhY2tfc2Nyb2xsaW5nPXt0cnVlfT5cbiAgICAgICAgICAgIDxFdmVudEZvcm0gXG4gICAgICAgICAgICAgICAgcHJvamVjdHM9e3Byb2plY3RzfVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkX3Rhc2s9e2N1cl90aW1lX2VudHJ5LnRhc2t9XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e2N1cl90aW1lX2VudHJ5LmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIGlzX29wZW49e2lzX2Zvcm1fb3Blbn1cbiAgICAgICAgICAgICAgICBvbjpzYXZlPXtoYW5kbGVfc2F2ZX1cbiAgICAgICAgICAgICAgICBvbjpkZWxldGU9e2hhbmRsZV9kZWxldGV9XG4gICAgICAgICAgICAgICAgb246Y2xvc2U9e2hhbmRsZV9jbG9zZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvUG9wdXA+XG4gICAgey9rZXl9XG4gICAgey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmNhbGVuZGFyLXJvb3R7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5lYy1jdXN0b20tZXZlbnQpe1xuICAgICAgICAvKiBib3JkZXI6ICBcdCAgICAgIHZhcigtLWJvcmRlci1jb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpKSBzb2xpZCAycHg7ICovXG4gICAgICAgIGRpc3BsYXk6IFx0ICAgICAgZ3JpZDtcbiAgICAgICAgLyogZ2FwOiBcdFx0XHQgIDAuNzVyZW07ICovXG4gICAgICAgIGhlaWdodDogIFx0ICAgICAgMTAwJTtcbiAgICAgICAgLyogYm9yZGVyLXJhZGl1czogICAgdmFyKC0tYm9yZGVyLXJhZGl1cyk7ICovXG4gICAgICAgIC8qIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yLCAjZmZmZmZmMTgpOyAqL1xuXG4gICAgICAgIGJhY2tkcm9wLWZpbHRlcjogIFx0XHQgYmx1cigzcHgpO1xuICAgICAgICAvKiAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigzcHgpOyAqL1xuXG4gICAgICAgIHBhZGRpbmc6IDAuM3JlbSAwLjVyZW07XG4gICAgICAgIC8qIG1hcmdpbjogIDAgMC4ycmVtOyAqL1xuICAgICAgICAvKiBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gYXV0byAxZnI7ICovXG4gICAgICAgIGdyaWQtYXV0by1yb3dzOiBtaW4tY29udGVudDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDEwMG1zO1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmVjLWN1c3RvbS1ldmVudC5pbi1wcm9ncmVzcyl7XG5cbiAgICAgICAgLS1kYXNoLWNvbG9yOiB2YXIoLS1jb2xvci1vcmFuZ2UtMSk7XG4gICAgICAgIC8qIC0tZGFzaC1jb2xvcjogcmVkOyAqL1xuXG4gICAgICAgIC8qIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4MzY1ODM5L2Rhc2hlZC1ib3JkZXItYW5pbWF0aW9uLWluLWNzczMtYW5pbWF0aW9uICovXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0tZGFzaC1jb2xvcikgNTAlLCB0cmFuc3BhcmVudCA1MCUpLCBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLWRhc2gtY29sb3IpIDUwJSwgdHJhbnNwYXJlbnQgNTAlKSwgbGluZWFyLWdyYWRpZW50KDBkZWcsIHZhcigtLWRhc2gtY29sb3IpIDUwJSwgdHJhbnNwYXJlbnQgNTAlKSwgbGluZWFyLWdyYWRpZW50KDBkZWcsIHZhcigtLWRhc2gtY29sb3IpIDUwJSwgdHJhbnNwYXJlbnQgNTAlKTtcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14LCByZXBlYXQteCwgcmVwZWF0LXksIHJlcGVhdC15O1xuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDE1cHggMnB4LCAxNXB4IDJweCwgMnB4IDE1cHgsIDJweCAxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBsZWZ0IHRvcCwgcmlnaHQgYm90dG9tLCBsZWZ0IGJvdHRvbSwgcmlnaHQgdG9wO1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmVjLWN1c3RvbS1ldmVudC5kZWxldGluZyksXG4gICAgOmdsb2JhbCguZWMtY3VzdG9tLWV2ZW50LnNhdmluZykge1xuICAgICAgICAtLWRhc2gtY29sb3I6IHZhcigtLWNvbG9yLW9yYW5nZS0xKTtcblxuICAgICAgICAvKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODM2NTgzOS9kYXNoZWQtYm9yZGVyLWFuaW1hdGlvbi1pbi1jc3MzLWFuaW1hdGlvbiAqL1xuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLWRhc2gtY29sb3IpIDUwJSwgdHJhbnNwYXJlbnQgNTAlKSwgbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1kYXNoLWNvbG9yKSA1MCUsIHRyYW5zcGFyZW50IDUwJSksIGxpbmVhci1ncmFkaWVudCgwZGVnLCB2YXIoLS1kYXNoLWNvbG9yKSA1MCUsIHRyYW5zcGFyZW50IDUwJSksIGxpbmVhci1ncmFkaWVudCgwZGVnLCB2YXIoLS1kYXNoLWNvbG9yKSA1MCUsIHRyYW5zcGFyZW50IDUwJSk7XG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteCwgcmVwZWF0LXgsIHJlcGVhdC15LCByZXBlYXQteTtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxNXB4IDJweCwgMTVweCAycHgsIDJweCAxNXB4LCAycHggMTVweDtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCB0b3AsIHJpZ2h0IGJvdHRvbSwgbGVmdCBib3R0b20sIHJpZ2h0IHRvcDtcbiAgICAgICAgYW5pbWF0aW9uOiBib3JkZXItZGFuY2UgMC43cyBpbmZpbml0ZSBsaW5lYXI7XG5cbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5lYy1jdXN0b20tZXZlbnQuZXJyb3Ipe1xuICAgICAgICAtLWRhc2gtY29sb3I6IHZhcigtLWNvbG9yLXJlZC0xKTtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1kYXNoLWNvbG9yKSA1MCUsIHRyYW5zcGFyZW50IDUwJSksIGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0tZGFzaC1jb2xvcikgNTAlLCB0cmFuc3BhcmVudCA1MCUpLCBsaW5lYXItZ3JhZGllbnQoMGRlZywgdmFyKC0tZGFzaC1jb2xvcikgNTAlLCB0cmFuc3BhcmVudCA1MCUpLCBsaW5lYXItZ3JhZGllbnQoMGRlZywgdmFyKC0tZGFzaC1jb2xvcikgNTAlLCB0cmFuc3BhcmVudCA1MCUpO1xuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXgsIHJlcGVhdC14LCByZXBlYXQteSwgcmVwZWF0LXk7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogMTVweCAycHgsIDE1cHggMnB4LCAycHggMTVweCwgMnB4IDE1cHg7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGxlZnQgdG9wLCByaWdodCBib3R0b20sIGxlZnQgYm90dG9tLCByaWdodCB0b3A7XG4gICAgICAgIGFuaW1hdGlvbjogYm9yZGVyLWJvdW5jZSAwLjdzIGluZmluaXRlIGVhc2U7XG5cbiAgICB9XG5cbiAgICA6Z2xvYmFsKC5lYy1jdXN0b20tZXZlbnQuZGVsZXRpbmcpIHtcbiAgICAgICAgb3BhY2l0eTogMC41O1xuICAgIH1cblxuICAgIDpnbG9iYWwoLmVjLWN1c3RvbS1ldmVudC5zZWxlY3RlZCkge1xuICAgICAgICBib3JkZXItY29sb3I6ICBcdCAgdmFyKC0tYm9yZGVyLWNvbG9yLXNlbGVjdCwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmctY29sb3Itc2VsZWN0LCAgcmdiYSgyNTUsMjU1LDI1NSwwLjMpKTtcbiAgICB9XG5cblxuICAgIEBrZXlmcmFtZXMgLWdsb2JhbC1ib3JkZXItZGFuY2Uge1xuICAgICAgICAwJSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBsZWZ0IHRvcCwgcmlnaHQgYm90dG9tLCBsZWZ0IGJvdHRvbSwgcmlnaHQgdG9wO1xuICAgICAgICB9XG4gICAgICAgIDEwMCUge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCAxNXB4IHRvcCwgcmlnaHQgMTVweCBib3R0b20gLCBsZWZ0IGJvdHRvbSAxNXB4ICwgcmlnaHQgICB0b3AgMTVweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBrZXlmcmFtZXMgLWdsb2JhbC1ib3JkZXItYm91bmNlIHtcbiAgICAgICAgMCUge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCB0b3AsIHJpZ2h0IGJvdHRvbSwgbGVmdCBib3R0b20sIHJpZ2h0IHRvcDtcbiAgICAgICAgfVxuICAgICAgICA1MCUge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCAxNXB4IHRvcCwgcmlnaHQgMTVweCBib3R0b20gLCBsZWZ0IGJvdHRvbSAxNXB4ICwgcmlnaHQgICB0b3AgMTVweDtcbiAgICAgICAgfVxuICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGxlZnQgMCB0b3AsIHJpZ2h0IDAgYm90dG9tICwgbGVmdCBib3R0b20gMCAsIHJpZ2h0ICAgdG9wIDA7XG4gICAgICAgIH1cbiAgICB9XG5cblxuPC9zdHlsZT4iLCIvLyBpbXBvcnQgdHlwZSB7IEFQSSB9IGZyb20gXCIuL2FwaVwiXG5pbXBvcnQgeyBUaW1lX0VudHJ5X0FjdGlvbiwgdGltZV9lbnRyeV9leGVjdXRlX2FjdGlvbiwgVGltZV9FbnRyeSB9IGZyb20gXCIuLi90aW1lX2VudHJ5XCJcbmltcG9ydCB7IHR5cGUgQ01EX1JlcGxhY2VfVGltZV9FbnRyeV9CeV9JZCwgdHlwZSBUaW1lX0VudHJpZXMgfSBmcm9tIFwiLi4vdGltZV9lbnRyeS90aW1lX2VudHJpZXNcIlxuaW1wb3J0IHsgZGF0ZV9maXJzdF9kYXlfb2Zfd2VlayB9IGZyb20gXCIuLi94L2RhdGVcIlxuaW1wb3J0IHsgTXV0ZXggfSBmcm9tIFwiLi4veC9tdXRleFwiXG5pbXBvcnQgeyB0eXBlIEFQSSB9IGZyb20gXCIuL2FwaVwiXG5cbmNvbnN0IG10eF9zYXZlID0gbmV3IE11dGV4KClcblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVfZW50cnlfc3luYyAoXG4gICAgYXBpOiBBUEksXG4gICAgdGltZV9lbnRyaWVzOiBUaW1lX0VudHJpZXMsXG4pOiB2b2lkIHtcbiAgICAvL1xuICAgIC8vIE5vdGU6IG5vdCBzdXJlIHdoaWNoIGlzIG1vcmUgdW5kZXJzdGFuZGFibGUgYW5kIHJlYWRhYmxlIHRoZSBiaW5kIG9yIHRoZSBhcnJvdyBmdW5jdGlvblxuICAgIC8vIFRoZXJlIHNob3VsZCBub3QgYmUgYW55IGRpZmZlcmVuY2VcbiAgICAvL1xuICAgIC8vIHRpbWVfZW50cmllcy5lbnRyaWVzX3RvX3NhdmUkLnN1YnNjcmliZShhc3luYyAodGltZV9lbnRyaWVzX3RvX3NhdmUpID0+IHsgYXdhaXQgc2F2ZV90aW1lX2VudHJpZXMoYXBpLCB0aW1lX2VudHJpZXMsIHRpbWVfZW50cmllc190b19zYXZlKSB9KVxuICAgIC8vIHRpbWVfZW50cmllcy5lbnRyaWVzX3RvX2RlbGV0ZSQuc3Vic2NyaWJlKGFzeW5jICh0aW1lX2VudHJpZXNfdG9fZGVsZXRlKSA9PiB7IGF3YWl0IGRlbGV0ZV90aW1lX2VudHJpZXMoYXBpLCB0aW1lX2VudHJpZXMsIHRpbWVfZW50cmllc190b19kZWxldGUpIH0pXG4gICAgdGltZV9lbnRyaWVzLmVudHJpZXNfdG9fc2F2ZSQuc3Vic2NyaWJlKHNhdmVfdGltZV9lbnRyaWVzLmJpbmQodW5kZWZpbmVkLCBhcGksIHRpbWVfZW50cmllcykpXG4gICAgdGltZV9lbnRyaWVzLmVudHJpZXNfdG9fZGVsZXRlJC5zdWJzY3JpYmUoZGVsZXRlX3RpbWVfZW50cmllcy5iaW5kKHVuZGVmaW5lZCwgYXBpLCB0aW1lX2VudHJpZXMpKVxufVxuXG5hc3luYyBmdW5jdGlvbiBzYXZlX3RpbWVfZW50cmllcyAoYXBpOiBBUEksIHRpbWVfZW50cmllczogVGltZV9FbnRyaWVzLCB0aW1lX2VudHJpZXNfdG9fc2F2ZTogVGltZV9FbnRyeVtdKSB7XG4gICAgLy8gYXdhaXQgbXR4X3NhdmUubG9jaygpIC8vIHRvIHF1ZXVlIHVwIHNhdmUgcmVxdWVzdHMsIG5vdCBzdXJlIGlmIG5lZWRlZFxuXG4gICAgY29uc3QgaGFzX2FueXRoaW5nX3RvX3NhdmUgPSB0aW1lX2VudHJpZXNfdG9fc2F2ZS5sZW5ndGggPiAwXG4gICAgaWYgKCFoYXNfYW55dGhpbmdfdG9fc2F2ZSkgeyByZXR1cm4gfVxuXG4gICAgLy8gY29uc3QgdXBkYXRlX2NtZHM6IENNRF9VcGRhdGVfVGltZV9FbnRyeV9CeV9JZFtdID0gW11cblxuICAgIC8vXG4gICAgLy8gVHJ5aW5nIHRvIHNhdmVcbiAgICAvL1xuICAgIGNvbnN0IHVwZGF0ZV9wcm9taXNlcyA9IHRpbWVfZW50cmllc190b19zYXZlLm1hcChhc3luYyAodGUpID0+IHtcbiAgICAgICAgY29uc3Qgbm90X3lldF9vbl9zZXJ2ZXIgPSB0ZS5pZCA8IDBcbiAgICAgICAgaWYgKG5vdF95ZXRfb25fc2VydmVyKSB7XG4gICAgICAgICAgICBhd2FpdCBhcGkuc2F2ZV90aW1lX2VudHJ5KHRlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZV90aW1lX2VudHJ5KHRlKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh1cGRhdGVfcHJvbWlzZXMpXG5cbiAgICAvL1xuICAgIC8vIFVwZGF0ZSBTYXZlZCBFbnRyaWVzIEZyb20gc2VydmVyXG4gICAgLy9cbiAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IGZpbmRfd2Vla19yYW5nZSh0aW1lX2VudHJpZXNfdG9fc2F2ZVswXS5zdGFydClcbiAgICBjb25zdCBzYXZlZF90aW1lX2VudGlyZXMgPSBhd2FpdCBhcGkuZmV0Y2hfdGltZV9lbnRpcmVzKHN0YXJ0LCBlbmQpXG5cbiAgICBjb25zdCByZXBsYWNlbWVudHM6IENNRF9SZXBsYWNlX1RpbWVfRW50cnlfQnlfSWRbXSA9IFtdXG5cbiAgICB0aW1lX2VudHJpZXNfdG9fc2F2ZS5mb3JFYWNoKCh0ZV90b19zYXZlKSA9PiB7XG4gICAgICAgIGNvbnN0IHNhdmVkX2VudHJ5ID0gc2F2ZWRfdGltZV9lbnRpcmVzLmZpbmQoKHRlX3NhdmVkKSA9PiBUaW1lX0VudHJ5LklzX1NhbWVfUmFuZ2UodGVfdG9fc2F2ZSwgdGVfc2F2ZWQpKVxuICAgICAgICBpZiAoIXNhdmVkX2VudHJ5KSB7IHJldHVybiB9XG5cbiAgICAgICAgcmVwbGFjZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6ICAgICAgICAgdGVfdG9fc2F2ZS5pZCxcbiAgICAgICAgICAgIHRpbWVfZW50cnk6IHNhdmVkX2VudHJ5LFxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICB0aW1lX2VudHJpZXMucmVwbGFjZV90aW1lX2VudHJpZXNfYnlfaWQocmVwbGFjZW1lbnRzKVxuXG4gICAgLy8gVE9ETzogaW5zdGVhZCBvZiByZWZldGNoaW5nIGV2ZXJ5dGhpbmcgd2Ugc2hvdWxkIHVwZGF0ZSB0aGVtXG4gICAgLy8gdGhpcyBvZiBub3QgZWFzeSBjdXJyZW50bHkgYnV0IG1heWJlIG1hbmFnZWFibGVcbiAgICAvLyB0aW1lX2VudHJpZXMuY2xlYXIoKVxuICAgIC8vIGZvciAoY29uc3QgdGUgb2Ygc2F2ZWRfdGltZV9lbnRpcmVzKSB7XG4gICAgLy8gICAgIHRpbWVfZW50cmllcy5jcmVhdGVfdGltZV9lbnRyeSh0ZSlcbiAgICAvLyB9XG4gICAgLy8gYXdhaXQgbXR4X3NhdmUudW5sb2NrKClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlX3RpbWVfZW50cmllcyAoYXBpOiBBUEksIHRpbWVfZW50cmllczogVGltZV9FbnRyaWVzLCB0aW1lX2VudHJpZXNfdG9fZGVsZXRlOiBUaW1lX0VudHJ5W10pIHtcbiAgICBpZiAodGltZV9lbnRyaWVzX3RvX2RlbGV0ZS5sZW5ndGggPT09IDApIHsgcmV0dXJuIH1cblxuICAgIGNvbnN0IHVwZGF0ZV9jbWRzOiBDTURfUmVwbGFjZV9UaW1lX0VudHJ5X0J5X0lkW10gPSBbXVxuICAgIGNvbnN0IGRlbGV0ZV9wcm9taXNlcyA9IHRpbWVfZW50cmllc190b19kZWxldGUubWFwKGFzeW5jICh0ZSkgPT4ge1xuICAgICAgICBjb25zdCBpc19vbl9zZXJ2ZXIgPSB0ZS5pZCA+IDBcbiAgICAgICAgaWYgKGlzX29uX3NlcnZlcikge1xuICAgICAgICAgICAgYXdhaXQgYXBpLmRlbGV0ZV90aW1lX2VudHJ5KHRlKVxuICAgICAgICB9XG4gICAgfSlcbiAgICBjb25zdCBkZWxldGVkX2lkczogbnVtYmVyW10gPSBbXVxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZGVsZXRlX3Byb21pc2VzKVxuICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCByaSkgPT4ge1xuICAgICAgICBjb25zdCB0ZSA9IHRpbWVfZW50cmllc190b19kZWxldGVbcmldXG5cbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coeyBsZXZlbDogXCJlcnJvclwiLCBtc2c6IFwiY291bGQgbm90IGRlbGV0ZSB0aW1lIGVudHJ5XCIsIHRlLCBlcnI6IHJlc3VsdCB9KVxuICAgICAgICAgICAgY29uc3QgZXJyZF90ZSA9IHRpbWVfZW50cnlfZXhlY3V0ZV9hY3Rpb24odGUsIFRpbWVfRW50cnlfQWN0aW9uLlNhdmVfRXJyb3IpXG4gICAgICAgICAgICB1cGRhdGVfY21kcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogICAgICAgICB0ZS5pZCxcbiAgICAgICAgICAgICAgICB0aW1lX2VudHJ5OiBlcnJkX3RlLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZWRfaWRzLnB1c2godGUuaWQpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gdGltZV9lbnRyaWVzLnJlcGxhY2VfdGltZV9lbnRyaWVzX2J5X2lkKHVwZGF0ZV9jbWRzKVxuICAgIHRpbWVfZW50cmllcy5kZWxldGVfYmF0Y2goZGVsZXRlZF9pZHMpXG4gICAgLy8gdGltZV9lbnRyaWVzLmRlbGV0ZV90aW1lX2VudHJ5X2JhdGNoKGRlbGV0ZWRfaWRzKVxufVxuXG5mdW5jdGlvbiBmaW5kX3dlZWtfcmFuZ2UgKGQ6IERhdGUpOiB7IHN0YXJ0OiBEYXRlLCBlbmQ6IERhdGUgfSB7XG4gICAgY29uc3Qgc3RhcnQgPSBkYXRlX2ZpcnN0X2RheV9vZl93ZWVrKGQsIDEpXG4gICAgY29uc3QgZW5kID0gbmV3IERhdGUoc3RhcnQpXG4gICAgZW5kLnNldERhdGUoZW5kLmdldERhdGUoKSArIDYpXG4gICAgLy8gc3RhcnQuc2V0RGF0ZShzdGFydC5nZXREYXRlKCkgLSBzdGFydC5nZXREYXkoKSlcblxuICAgIC8vIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGQpXG4gICAgLy8gZW5kLnNldERhdGUoZW5kLmdldERhdGUoKSArICg2IC0gZW5kLmdldERheSgpKSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmQsXG4gICAgfVxufVxuIiwiXG48dGhlbWU+XG4gICAgPHNsb3Q+PC9zbG90PlxuPC90aGVtZT5cblxuXG48c3R5bGU+XG4gICAgXG4gICAgOmdsb2JhbCgqKSB7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgIFxuICAgIDpyb290e1xuICAgICAgICBcbiAgICAgICAgLS1ib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIFxuICAgICAgICAtLWNvbG9yLXdoaXRlOiAjRkZGRkZGO1xuICAgICAgICAtLWNvbG9yLWJsYWNrOiAjMDAwMDAzO1xuICAgICAgICAtLWNvbG9yLXBpbms6ICAjRkQ0ODY0O1xuICAgICAgICBcbiAgICAgICAgLS1jb2xvci1ibGFjay0xOiAjMjAxQjFCO1xuICAgICAgICAtLWNvbG9yLXdoaXRlLTE6ICNFQ0VDRUM7XG4gICAgICAgIFxuICAgICAgICAtLWNvbG9yLWdyZXktMTogIzQ1NDU0ODtcbiAgICAgICAgLS1jb2xvci1ncmV5LTI6ICM3Nzc3N0E7XG4gICAgICAgIC0tY29sb3ItZ3JleS0zOiAjQTlBOUFDO1xuICAgICAgICAtLWNvbG9yLWdyZXktNDogI0RCREJERTtcbiAgICAgICAgLS1jb2xvci1ncmV5LTU6ICNGNUY1RjY7XG4gICAgICAgIFxuICAgICAgICAtLWNvbG9yLXJlZC0xOiAjRUIwMDJGO1xuICAgICAgICAtLWNvbG9yLXJlZC0yOiAjRDYyQzQ2O1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIC0tY29sb3ItcHJpbWFyeTogdmFyKC0tY29sb3ItYmxhY2spO1xuICAgICAgICAtLWNvbG9yLWFjY2VudDogdmFyKC0tY29sb3ItcGluayk7XG4gICAgICAgIFxuICAgICAgICAtLWNvbG9yLXNlY29uZGFyeS0xOiB2YXIoLS1jb2xvci1ncmV5LTEpO1xuICAgICAgICAtLWNvbG9yLXNlY29uZGFyeS0yOiB2YXIoLS1jb2xvci1ncmV5LTIpO1xuICAgICAgICAtLWNvbG9yLXNlY29uZGFyeS0zOiB2YXIoLS1jb2xvci1ncmV5LTMpO1xuICAgICAgICAtLWNvbG9yLXNlY29uZGFyeS00OiB2YXIoLS1jb2xvci1ncmV5LTQpO1xuICAgICAgICBcbiAgICAgICAgLS1jb2xvci1iYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1ncmF5LTUpO1xuICAgICAgICBcbiAgICAgICAgLS1jb2xvci1lcnJvcjogXHQgICB2YXIoLS1jb2xvci1yZWQtMSk7XG4gICAgICAgIC0tY29sb3ItaG92ZXJlZC0xOiB2YXIoLS1jb2xvci1yZWQtMik7XG4gICAgICAgIC0tY29sb3ItaG92ZXJlZC0yOiB2YXIoLS1jb2xvci1ibGFjay0xKTtcbiAgICAgICAgLS1jb2xvci1ob3ZlcmVkLTM6IHZhcigtLWNvbG9yLXdoaXRlLTEpO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIC0tY29sb3ItYmx1ZS0xOiAjMzk4M2QzO1xuICAgICAgICAtLWNvbG9yLWJsdWUtMjogIzAyMDQwNztcbiAgICAgICAgLS1jb2xvci1ibHVlLTM6ICMxMDI0M2E7XG4gICAgICAgIC0tY29sb3ItYmx1ZS00OiAjMWQ0NDZkO1xuICAgICAgICAtLWNvbG9yLWJsdWUtNTogIzJiNjNhMDtcbiAgICAgICAgXG4gICAgICAgIC0tY29sb3Itb3JhbmdlLTE6ICNmZmFjMDA7XG4gICAgICAgIC0tY29sb3Itb3JhbmdlLTI6ICNmZjlhMDA7XG4gICAgICAgIC0tY29sb3Itb3JhbmdlLTM6ICNmZjg3MDA7XG4gICAgICAgIC0tY29sb3Itb3JhbmdlLTQ6ICNmZjczMDA7XG4gICAgICAgIC0tY29sb3Itb3JhbmdlLTU6ICNmZjVkMDA7XG4gICAgICAgIFxuICAgICAgICAtLWNvbG9yLXJlZC0xOiAjZjUwNTM4O1xuICAgICAgICAtLWNvbG9yLXJlZC0yOiAjYjYwNDJhO1xuICAgICAgICAtLWNvbG9yLXJlZC0zOiAjNzkwMjFjO1xuICAgICAgICAtLWNvbG9yLXJlZC00OiAjM2QwMTBlO1xuICAgICAgICAtLWNvbG9yLXJlZC01OiAjMDAwMDAwO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIC0tY29sb3ItZ3JheS0xOiAjZmZmZmZmZmY7XG4gICAgICAgIC0tY29sb3ItZ3JheS0yOiAjZmZmYmZlZmY7XG4gICAgICAgIC0tY29sb3ItZ3JheS0zOiAjZDBjZmNmZmY7XG4gICAgICAgIC0tY29sb3ItZ3JheS00OiAjN2E3ZDdkZmY7XG4gICAgICAgIC0tY29sb3ItZ3JheS01OiAjNTY1MjU0ZmY7XG4gICAgICAgIC0tY29sb3ItZ3JheS02OiAjNTY1MjU0OTk7XG4gICAgICAgIFxuICAgICAgICAtLWNvbG9yLWRhcmstZ2xhc3M6ICMwMDAwMDA5OTtcbiAgICAgICAgXG4gICAgICAgIC0tY29sb3ItYmxhY2stMTogIzAwMDAwMDtcbiAgICAgICAgLS1jb2xvci1ibGFjay0yOiAjMDgwODA4O1xuICAgICAgICAtLWNvbG9yLWJsYWNrLTM6ICMwZjBmMGY7XG4gICAgICAgIC0tY29sb3ItYmxhY2stNDogIzE3MTcxNztcbiAgICAgICAgLS1jb2xvci1ibGFjay01OiAjMWYxZjFmO1xuICAgICAgICAtLWNvbG9yLWJsYWNrLTY6ICMyNjI2MjY7XG4gICAgICAgIC0tY29sb3ItYmxhY2stNzogIzJlMmUyZTtcbiAgICAgICAgLS1jb2xvci1ibGFjay04OiAjMzYzNjM2O1xuICAgICAgICAtLWNvbG9yLWJsYWNrLTk6ICMzZDNkM2Q7XG4gICAgICAgIC0tY29sb3ItYmxhY2stMTA6ICM0NTQ1NDU7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbjwvc3R5bGU+IiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBcblxuICBcdGltcG9ydCB7IGNvbnRleHRfYXBpX2NyZWF0ZSwgY29udGV4dF9hcGlfZ2V0IH0gZnJvbSBcIi4vbGliL2FwaVwiO1xuICAgIGltcG9ydCB7IEF1dGhfTW9kdWxlIH0gZnJvbSBcIi4vbGliL2FwaS9hdXRoXCI7XG4gIFx0aW1wb3J0IHsgdHlwZSBQcm9qZWN0LCBjb250ZXh0X3Byb2plY3RfaW5pdCwgY29udGV4dF9wcm9qZWN0X3VzZSB9IGZyb20gXCIuL2xpYi9hcGkvcHJvamVjdFwiO1xuXG4gIFx0aW1wb3J0IHsgZGF0ZV9hZGRfZGF5cywgZGF0ZV9mb3JtYXRfaXNvIH0gZnJvbSBcIi4vbGliL2FwaS94L2RhdGVcIjtcbiAgICBpbXBvcnQgeyB0eXBlIERhdGVfQ2hhbmdlZF9JbmZvLCBDYWxlbmRhciB9IGZyb20gXCIuL2xpYi9jb21wb25lbnRzL2NhbGVuZGFyXCI7XG4gIFx0aW1wb3J0IHsgdGltZV9lbnRyeV9zeW5jIH0gZnJvbSBcIi4vbGliL2FwaS90aW1lX2VudHJ5X3N5bmMvdGltZV9lbnRyeV9zeW5jXCI7XG5cdGltcG9ydCB7IFRoZW1lIH0gZnJvbSBcIi4vbGliL2NvbXBvbmVudHMvdGhlbWVcIlxuICAgIGltcG9ydCB7IHRpbWVfZW50cmllc19jb250ZXh0X2luaXQsIHRpbWVfZW50cmllc19jb250ZXh0X3VzZSB9IGZyb20gXCIuL2xpYi9hcGkvdGltZV9lbnRyeS90aW1lX2VudHJpZXNfY29udGV4dFwiO1xuXHRcblx0Ly8gXG5cdC8vIENvbmZpZ1xuXHQvLyBcblxuXHRjb25zdCBiYXNlX3VybCA9IFwiaHR0cHM6Ly9oZWltYXQuc3ByaW50ZWlucy5jb20vYXBpL3YxL1wiXG5cdC8vIGNvbnN0IGJhc2VfdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjYyODY2L2FwaS92MS9cIlxuXG4gICAgLy8gXG4gICAgLy8gQXV0aFxuICAgIC8vIFxuICAgIGxldCBhdXRoX21vZHVsZTogQXV0aF9Nb2R1bGVcbiAgICBhdXRoX21vZHVsZSA9IG5ldyBBdXRoX01vZHVsZSgpO1xuICAgIGNvbnN0IGp3dCA9IGF1dGhfbW9kdWxlLmp3dF9nZXQoKVxuXG4gICAgLy8gXG4gICAgLy8gQVBJXG4gICAgLy8gXG4gICAgY29udGV4dF9hcGlfY3JlYXRlKClcbiAgICBsZXQgYXBpID0gY29udGV4dF9hcGlfZ2V0KClcbiAgICBhcGkuc2V0X2Jhc2VfdXJsKGJhc2VfdXJsKVxuXG4gICAgaWYoand0ICYmIGp3dCAhPT0gXCJcIil7XG4gICAgICAgIGFwaS5qd3Rfc2V0KGp3dClcbiAgICB9XG5cdFxuXHQvL1xuXHQvLyBTZXR1cFxuXHQvL1xuXG4gICAgY29uc3QgYmFzZVVSTCA9IG5ldyBVUkwoaW1wb3J0Lm1ldGEudXJsKVxuICAgIGNvbnN0IGNzc1VSTCA9IG5ldyBVUkwoXCJzdHlsZS5jc3NcIiwgYmFzZVVSTClcbiAgICBjb25zdCBzdHlsZVVSTCA9IGNzc1VSTC50b1N0cmluZygpXG4gICAgXG5cdHRpbWVfZW50cmllc19jb250ZXh0X2luaXQoKVxuXHRjb25zdCBjdHhfdGltZV9lbnRpcmVzID0gdGltZV9lbnRyaWVzX2NvbnRleHRfdXNlKClcblxuXHRjb250ZXh0X3Byb2plY3RfaW5pdCgpXG5cdGNvbnN0IGN0eF9wcm9qZWN0cyA9IGNvbnRleHRfcHJvamVjdF91c2UoKVxuXG5cdGxldCBkYXRlX3N0YXJ0ID0gbmV3IERhdGUoKVxuXHRsZXQgZGF0ZV9lbmQgPSBuZXcgRGF0ZSgpXG5cdCQ6IGxvYWRfcHJvamVjdF9zZXRzKGRhdGVfc3RhcnQsIGRhdGVfZW5kKVxuXHQkOiBsb2FkX3RpbWVfZW50aXJlcyhkYXRlX3N0YXJ0LCBkYXRlX2VuZClcblx0XG5cdHRpbWVfZW50cnlfc3luYyhhcGksIGN0eF90aW1lX2VudGlyZXMpXG5cblx0XG5cdC8vIFxuXHQvLyBGdW5jdGlvbnNcblx0Ly8gXG5cdGFzeW5jIGZ1bmN0aW9uIGxvYWRfdGltZV9lbnRpcmVzKHN0YXJ0OiBEYXRlLCBlbmQ6IERhdGUpe1xuXHRcdGNvbnN0IHRpbWVfZW50aXJlcyA9IGF3YWl0IGFwaS5mZXRjaF90aW1lX2VudGlyZXMoc3RhcnQsIGVuZClcblx0XHRjdHhfdGltZV9lbnRpcmVzLmNsZWFyKClcblx0XHRmb3IoY29uc3QgdGUgb2YgdGltZV9lbnRpcmVzKXtcblx0XHRcdGN0eF90aW1lX2VudGlyZXMuY3JlYXRlX3RpbWVfZW50cnkodGUpXG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZnVuY3Rpb24gbG9hZF9wcm9qZWN0X3NldHMoc3RhcnQ6IERhdGUsIGVuZDogRGF0ZSkge1xuXHRcdGxldCBwcm9qZWN0X3Byb21pc2VzOiBQcm9taXNlPFByb2plY3RbXT5bXT1bXTtcblx0XHRmb3IobGV0IGRpPTA7ZGk8NztkaSsrKSB7XG5cdFx0XHRjb25zdCBkPWRhdGVfYWRkX2RheXMoc3RhcnQsZGkpO1xuXHRcdFx0Y29uc3QgcHJvbT1hcGkuZmV0Y2hfcHJvamVjdHMoZCk7XG5cdFx0XHRwcm9qZWN0X3Byb21pc2VzLnB1c2gocHJvbSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJvamVjdF9zZXRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvamVjdF9wcm9taXNlcyk7XG5cblx0XHRmb3IobGV0IHBpPTAscGw9cHJvamVjdF9zZXRzLmxlbmd0aDsgcGk8cGw7IHBpKyspIHtcblx0XHRcdGNvbnN0IGQ9ZGF0ZV9hZGRfZGF5cyhzdGFydCxwaSk7XG5cdFx0XHRjb25zdCBwcm9qZWN0X3NldD1wcm9qZWN0X3NldHNbcGldO1xuXHRcdFx0Y3R4X3Byb2plY3RzLnNldF9wcm9qZWN0cyhkYXRlX2Zvcm1hdF9pc28oZCkscHJvamVjdF9zZXQpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZV9kYXRlY2hhbmdlZChldmVudDogQ3VzdG9tRXZlbnQ8RGF0ZV9DaGFuZ2VkX0luZm8+KXtcblx0XHRjb25zdCB7c3RhcnQsIGVuZH0gPSBldmVudC5kZXRhaWxcblx0XHRkYXRlX3N0YXJ0ID0gc3RhcnRcblx0XHRkYXRlX2VuZCA9IGVuZFxuXHR9XG5cdFxuXG4gICAgXG48L3NjcmlwdD5cblxuPHN2ZWx0ZTpoZWFkPlxuICAgIDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPXtzdHlsZVVSTH0+XG48L3N2ZWx0ZTpoZWFkPlxuXG48Y2FsZW5kYXI+XG5cdDxUaGVtZT5cblx0XHQ8aDE+SGVpbXRpbWU8L2gxPlxuXHRcdDxDYWxlbmRhciBvbjpkYXRlY2hhbmdlZD17aGFuZGxlX2RhdGVjaGFuZ2VkfSAvPlxuXHQ8L1RoZW1lPlxuPC9jYWxlbmRhcj5cblxuPHN0eWxlPlxuXHRjYWxlbmRhcntcblx0XHRkaXNwbGF5OiBcdFx0XHRncmlkO1xuXHRcdGdyaWQtdGVtcGxhdGUtcm93czogYXV0byBtaW5tYXgoMCwgMWZyKTtcbiAgICBcdGZsZXgtZGlyZWN0aW9uOiBcdGNvbHVtbjtcblx0XHRoZWlnaHQ6ICBcdFx0XHQxMDAlO1xuXHR9XG5cblx0LyogOmdsb2JhbChjYWxlbmRlciAuZWMtZGF5LmVjLXRvZGF5KXtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiBub25lO1xuXHR9ICovXG48L3N0eWxlPlxuIiwiaW1wb3J0IEFwcCBmcm9tIFwiLi9BcHAuc3ZlbHRlXCJcblxuZnVuY3Rpb24gaW5pdCAoKTogdm9pZCB7XG4gICAgLy8gZXhjZXB0aW9uOiB0byBib290c3RyYXAgc3ZlbHRlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ld1xuICAgIG5ldyBBcHAoe1xuICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlldy1yb290XCIpISxcbiAgICAgICAgcHJvcHM6ICB7fSxcbiAgICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbml0XG4iXSwibmFtZXMiOlsibm9vcCIsImlkZW50aXR5IiwieCIsImFzc2lnbiIsInRhciIsInNyYyIsImsiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJhIiwiYiIsImlzX2VtcHR5Iiwib2JqIiwic3Vic2NyaWJlIiwic3RvcmUiLCJjYWxsYmFja3MiLCJjYWxsYmFjayIsInVuc3ViIiwiZ2V0X3N0b3JlX3ZhbHVlIiwidmFsdWUiLCJfIiwiY29tcG9uZW50X3N1YnNjcmliZSIsImNvbXBvbmVudCIsImNyZWF0ZV9zbG90IiwiZGVmaW5pdGlvbiIsImN0eCIsIiQkc2NvcGUiLCJzbG90X2N0eCIsImdldF9zbG90X2NvbnRleHQiLCJnZXRfc2xvdF9jaGFuZ2VzIiwiZGlydHkiLCJsZXRzIiwibWVyZ2VkIiwibGVuIiwiaSIsInVwZGF0ZV9zbG90X2Jhc2UiLCJzbG90Iiwic2xvdF9kZWZpbml0aW9uIiwic2xvdF9jaGFuZ2VzIiwiZ2V0X3Nsb3RfY29udGV4dF9mbiIsInNsb3RfY29udGV4dCIsImdldF9hbGxfZGlydHlfZnJvbV9zY29wZSIsImxlbmd0aCIsInNldF9zdG9yZV92YWx1ZSIsInJldCIsImFjdGlvbl9kZXN0cm95ZXIiLCJhY3Rpb25fcmVzdWx0IiwiZ2xvYmFscyIsImFwcGVuZCIsInRhcmdldCIsIm5vZGUiLCJpbnNlcnQiLCJhbmNob3IiLCJkZXRhY2giLCJkZXN0cm95X2VhY2giLCJpdGVyYXRpb25zIiwiZGV0YWNoaW5nIiwiZWxlbWVudCIsIm5hbWUiLCJ0ZXh0IiwiZGF0YSIsInNwYWNlIiwiZW1wdHkiLCJsaXN0ZW4iLCJldmVudCIsImhhbmRsZXIiLCJvcHRpb25zIiwicHJldmVudF9kZWZhdWx0IiwiYXR0ciIsImF0dHJpYnV0ZSIsImNoaWxkcmVuIiwic2V0X2RhdGEiLCJzZXRfaW5wdXRfdmFsdWUiLCJpbnB1dCIsInNldF9zdHlsZSIsImtleSIsImltcG9ydGFudCIsInRvZ2dsZV9jbGFzcyIsInRvZ2dsZSIsImN1c3RvbV9ldmVudCIsInR5cGUiLCJkZXRhaWwiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50IiwicHJvcHMiLCJjdXJyZW50X2NvbXBvbmVudCIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImdldF9jdXJyZW50X2NvbXBvbmVudCIsImJlZm9yZVVwZGF0ZSIsIm9uTW91bnQiLCJhZnRlclVwZGF0ZSIsImNyZWF0ZUV2ZW50RGlzcGF0Y2hlciIsInNldENvbnRleHQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImJ1YmJsZSIsImRpcnR5X2NvbXBvbmVudHMiLCJiaW5kaW5nX2NhbGxiYWNrcyIsInJlbmRlcl9jYWxsYmFja3MiLCJmbHVzaF9jYWxsYmFja3MiLCJyZXNvbHZlZF9wcm9taXNlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsImZsdXNoIiwidGljayIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJzZWVuX2NhbGxiYWNrcyIsImZsdXNoaWR4Iiwic2F2ZWRfY29tcG9uZW50IiwidXBkYXRlIiwiZSIsIiQkIiwiZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyIsImZpbHRlcmVkIiwidGFyZ2V0cyIsImMiLCJvdXRyb2luZyIsIm91dHJvcyIsImdyb3VwX291dHJvcyIsImNoZWNrX291dHJvcyIsInRyYW5zaXRpb25faW4iLCJibG9jayIsImxvY2FsIiwidHJhbnNpdGlvbl9vdXQiLCJlbnN1cmVfYXJyYXlfbGlrZSIsImFycmF5X2xpa2Vfb3JfaXRlcmF0b3IiLCJvdXRyb19hbmRfZGVzdHJveV9ibG9jayIsImxvb2t1cCIsInVwZGF0ZV9rZXllZF9lYWNoIiwib2xkX2Jsb2NrcyIsImdldF9rZXkiLCJkeW5hbWljIiwibGlzdCIsImRlc3Ryb3kiLCJjcmVhdGVfZWFjaF9ibG9jayIsIm5leHQiLCJnZXRfY29udGV4dCIsIm8iLCJuIiwib2xkX2luZGV4ZXMiLCJuZXdfYmxvY2tzIiwibmV3X2xvb2t1cCIsImRlbHRhcyIsInVwZGF0ZXMiLCJjaGlsZF9jdHgiLCJ3aWxsX21vdmUiLCJkaWRfbW92ZSIsIm5ld19ibG9jayIsIm9sZF9ibG9jayIsIm5ld19rZXkiLCJvbGRfa2V5IiwiY3JlYXRlX2NvbXBvbmVudCIsIm1vdW50X2NvbXBvbmVudCIsImZyYWdtZW50IiwiYWZ0ZXJfdXBkYXRlIiwibmV3X29uX2Rlc3Ryb3kiLCJkZXN0cm95X2NvbXBvbmVudCIsIm1ha2VfZGlydHkiLCJpbml0IiwiaW5zdGFuY2UiLCJjcmVhdGVfZnJhZ21lbnQiLCJub3RfZXF1YWwiLCJhcHBlbmRfc3R5bGVzIiwicGFyZW50X2NvbXBvbmVudCIsInJlYWR5IiwicmVzdCIsIm5vZGVzIiwiU3ZlbHRlQ29tcG9uZW50IiwiX19wdWJsaWNGaWVsZCIsImluZGV4IiwiUFVCTElDX1ZFUlNJT04iLCJFbXBsb3llZSIsImVtcGxveWVlIiwibmV3X3RoaXMiLCJFbXBsb3llZV9BUEkiLCJodHRwIiwiYmFzZV91cmwiLCJlbXBfaWQiLCJ1cmwiLCJyZXNwIiwiZW1wbG95ZWVfZnJvbV9yZXNwb25zZSIsImFwaV9wYXRoIiwic3Vic2NyaWJlcl9xdWV1ZSIsInJlYWRhYmxlIiwic3RhcnQiLCJ3cml0YWJsZSIsInN0b3AiLCJzdWJzY3JpYmVycyIsInNldCIsIm5ld192YWx1ZSIsInJ1bl9xdWV1ZSIsInN1YnNjcmliZXIiLCJpbnZhbGlkYXRlIiwiZGVyaXZlZCIsInN0b3JlcyIsImluaXRpYWxfdmFsdWUiLCJzaW5nbGUiLCJzdG9yZXNfYXJyYXkiLCJhdXRvIiwic3RhcnRlZCIsInZhbHVlcyIsInBlbmRpbmciLCJjbGVhbnVwIiwic3luYyIsInJlc3VsdCIsInVuc3Vic2NyaWJlcnMiLCJQcm9qZWN0cyIsInAiLCJkYXRlIiwicHJvamVjdHMiLCJwcm9qZWN0c19tYXAiLCJwcm9qZWN0IiwicHJvamVjdHNfZm9yX2RhdGUiLCJjb250ZXh0X2tleV92MiIsImNvbnRleHRfcHJvamVjdF9pbml0IiwiY29udGV4dF9wcm9qZWN0X3VzZSIsIm5ld19wcm9qZWN0IiwiaWQiLCJ0YXNrcyIsIm5ld190YXNrIiwiZGF0ZV9mb3JtYXRfdGltZSIsImRhdGVfZm9ybWF0X2lzbyIsInllYXIiLCJtb250aCIsImRheSIsImRhdGVfYWRkX2RheXMiLCJkYXlzIiwiZGF0ZV9maXJzdF9kYXlfb2Zfd2VlayIsImZpcnN0X2RheV9vZl93ZWVrX2luZGV4IiwiZGF5X29mX3dlZWsiLCJmaXJzdF9kYXlfb2Zfd2VlayIsImRpZmYiLCJkYXRlX2R1cmF0aW9uX2luX21pbnV0ZXMiLCJlbmQiLCJkYXRlX21pbnV0ZXNfdG9faG91cnNfYW5kX21pbnV0ZXMiLCJkdXJhdGlvbiIsImhvdXJzIiwibWludXRlcyIsIlByb2plY3RfQVBJIiwiZW1wbG95ZWVfaWQiLCJwcm9qZWN0c19mcm9tX3Jlc3BvbnNlIiwidCIsInRhIiwidGIiLCJ1bmRlZmluZWQiLCJWRVJTSU9OIiwiTEFSR0VfQVJSQVlfU0laRSIsIkNPUkVfRVJST1JfVEVYVCIsIkZVTkNfRVJST1JfVEVYVCIsIklOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQiLCJIQVNIX1VOREVGSU5FRCIsIk1BWF9NRU1PSVpFX1NJWkUiLCJQTEFDRUhPTERFUiIsIkNMT05FX0RFRVBfRkxBRyIsIkNMT05FX0ZMQVRfRkxBRyIsIkNMT05FX1NZTUJPTFNfRkxBRyIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiQ09NUEFSRV9VTk9SREVSRURfRkxBRyIsIldSQVBfQklORF9GTEFHIiwiV1JBUF9CSU5EX0tFWV9GTEFHIiwiV1JBUF9DVVJSWV9CT1VORF9GTEFHIiwiV1JBUF9DVVJSWV9GTEFHIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJXUkFQX0ZMSVBfRkxBRyIsIkRFRkFVTFRfVFJVTkNfTEVOR1RIIiwiREVGQVVMVF9UUlVOQ19PTUlTU0lPTiIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwiTEFaWV9GSUxURVJfRkxBRyIsIkxBWllfTUFQX0ZMQUciLCJMQVpZX1dISUxFX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNQVhfSU5URUdFUiIsIk5BTiIsIk1BWF9BUlJBWV9MRU5HVEgiLCJNQVhfQVJSQVlfSU5ERVgiLCJIQUxGX01BWF9BUlJBWV9MRU5HVEgiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJhc3luY1RhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZG9tRXhjVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwibnVsbFRhZyIsIm9iamVjdFRhZyIsInByb21pc2VUYWciLCJwcm94eVRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsInVuZGVmaW5lZFRhZyIsIndlYWtNYXBUYWciLCJ3ZWFrU2V0VGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQ4Q2xhbXBlZFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltU3RhcnQiLCJyZVdoaXRlc3BhY2UiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNBc3RyYWxSYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicmVDb21ib0hhbGZNYXJrc1JhbmdlIiwicnNDb21ib1N5bWJvbHNSYW5nZSIsInJzQ29tYm9SYW5nZSIsInJzRGluZ2JhdFJhbmdlIiwicnNMb3dlclJhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzTm9uQ2hhclJhbmdlIiwicnNQdW5jdHVhdGlvblJhbmdlIiwicnNTcGFjZVJhbmdlIiwicnNVcHBlclJhbmdlIiwicnNWYXJSYW5nZSIsInJzQnJlYWtSYW5nZSIsInJzQXBvcyIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc01vZGlmaWVyIiwicnNOb25Bc3RyYWwiLCJyc1JlZ2lvbmFsIiwicnNTdXJyUGFpciIsInJzVXBwZXIiLCJyc1pXSiIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyc09wdENvbnRyTG93ZXIiLCJyc09wdENvbnRyVXBwZXIiLCJyZU9wdE1vZCIsInJzT3B0VmFyIiwicnNPcHRKb2luIiwicnNPcmRMb3dlciIsInJzT3JkVXBwZXIiLCJyc1NlcSIsInJzRW1vamkiLCJyc1N5bWJvbCIsInJlQXBvcyIsInJlQ29tYm9NYXJrIiwicmVVbmljb2RlIiwicmVVbmljb2RlV29yZCIsInJlSGFzVW5pY29kZSIsInJlSGFzVW5pY29kZVdvcmQiLCJjb250ZXh0UHJvcHMiLCJ0ZW1wbGF0ZUNvdW50ZXIiLCJ0eXBlZEFycmF5VGFncyIsImNsb25lYWJsZVRhZ3MiLCJkZWJ1cnJlZExldHRlcnMiLCJodG1sRXNjYXBlcyIsImh0bWxVbmVzY2FwZXMiLCJzdHJpbmdFc2NhcGVzIiwiZnJlZVBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZ2xvYmFsIiwiZnJlZVNlbGYiLCJyb290IiwiZnJlZUV4cG9ydHMiLCJleHBvcnRzIiwiZnJlZU1vZHVsZSIsIm1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsIm5vZGVVdGlsIiwidHlwZXMiLCJub2RlSXNBcnJheUJ1ZmZlciIsIm5vZGVJc0RhdGUiLCJub2RlSXNNYXAiLCJub2RlSXNSZWdFeHAiLCJub2RlSXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiYXBwbHkiLCJmdW5jIiwidGhpc0FyZyIsImFyZ3MiLCJhcnJheUFnZ3JlZ2F0b3IiLCJhcnJheSIsInNldHRlciIsIml0ZXJhdGVlIiwiYWNjdW11bGF0b3IiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJwcmVkaWNhdGUiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJjb21wYXJhdG9yIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJvZmZzZXQiLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJhc2NpaVRvQXJyYXkiLCJzdHJpbmciLCJhc2NpaVdvcmRzIiwiYmFzZUZpbmRLZXkiLCJjb2xsZWN0aW9uIiwiZWFjaEZ1bmMiLCJiYXNlRmluZEluZGV4IiwiZnJvbUluZGV4IiwiZnJvbVJpZ2h0Iiwic3RyaWN0SW5kZXhPZiIsImJhc2VJc05hTiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VNZWFuIiwiYmFzZVN1bSIsIm9iamVjdCIsImJhc2VQcm9wZXJ0eU9mIiwiYmFzZVJlZHVjZSIsImJhc2VTb3J0QnkiLCJjb21wYXJlciIsImN1cnJlbnQiLCJiYXNlVGltZXMiLCJiYXNlVG9QYWlycyIsImJhc2VUcmltIiwidHJpbW1lZEVuZEluZGV4IiwiYmFzZVVuYXJ5IiwiYmFzZVZhbHVlcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJjb3VudEhvbGRlcnMiLCJwbGFjZWhvbGRlciIsImRlYnVyckxldHRlciIsImVzY2FwZUh0bWxDaGFyIiwiZXNjYXBlU3RyaW5nQ2hhciIsImNociIsImdldFZhbHVlIiwiaGFzVW5pY29kZSIsImhhc1VuaWNvZGVXb3JkIiwiaXRlcmF0b3JUb0FycmF5IiwiaXRlcmF0b3IiLCJtYXBUb0FycmF5IiwibWFwIiwib3ZlckFyZyIsInRyYW5zZm9ybSIsImFyZyIsInJlcGxhY2VIb2xkZXJzIiwic2V0VG9BcnJheSIsInNldFRvUGFpcnMiLCJzdHJpY3RMYXN0SW5kZXhPZiIsInN0cmluZ1NpemUiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsInVuZXNjYXBlSHRtbENoYXIiLCJ1bmljb2RlV29yZHMiLCJydW5JbkNvbnRleHQiLCJBcnJheSIsIkRhdGUiLCJFcnJvciIsIkZ1bmN0aW9uIiwiTWF0aCIsIk9iamVjdCIsIlJlZ0V4cCIsIlN0cmluZyIsIlR5cGVFcnJvciIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJoYXNPd25Qcm9wZXJ0eSIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlN5bWJvbCIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsInN5bUl0ZXJhdG9yIiwic3ltVG9TdHJpbmdUYWciLCJkZWZpbmVQcm9wZXJ0eSIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImN0eE5vdyIsImN0eFNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJuYXRpdmVJc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwiRGF0YVZpZXciLCJNYXAiLCJQcm9taXNlIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInN5bWJvbFRvU3RyaW5nIiwibG9kYXNoIiwiaXNPYmplY3RMaWtlIiwiaXNBcnJheSIsIkxhenlXcmFwcGVyIiwiTG9kYXNoV3JhcHBlciIsIndyYXBwZXJDbG9uZSIsImJhc2VDcmVhdGUiLCJwcm90byIsImlzT2JqZWN0IiwiYmFzZUxvZGFzaCIsImNoYWluQWxsIiwibGF6eUNsb25lIiwiY29weUFycmF5IiwibGF6eVJldmVyc2UiLCJsYXp5VmFsdWUiLCJkaXIiLCJpc0FyciIsImlzUmlnaHQiLCJhcnJMZW5ndGgiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJhdGVlcyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJiYXNlV3JhcHBlclZhbHVlIiwib3V0ZXIiLCJpdGVySW5kZXgiLCJjb21wdXRlZCIsIkhhc2giLCJlbnRyaWVzIiwiZW50cnkiLCJoYXNoQ2xlYXIiLCJoYXNoRGVsZXRlIiwiaGFzaEdldCIsImhhc2hIYXMiLCJoYXNoU2V0IiwiTGlzdENhY2hlIiwibGlzdENhY2hlQ2xlYXIiLCJsaXN0Q2FjaGVEZWxldGUiLCJhc3NvY0luZGV4T2YiLCJsYXN0SW5kZXgiLCJsaXN0Q2FjaGVHZXQiLCJsaXN0Q2FjaGVIYXMiLCJsaXN0Q2FjaGVTZXQiLCJNYXBDYWNoZSIsIm1hcENhY2hlQ2xlYXIiLCJtYXBDYWNoZURlbGV0ZSIsImdldE1hcERhdGEiLCJtYXBDYWNoZUdldCIsIm1hcENhY2hlSGFzIiwibWFwQ2FjaGVTZXQiLCJzaXplIiwiU2V0Q2FjaGUiLCJzZXRDYWNoZUFkZCIsInNldENhY2hlSGFzIiwiU3RhY2siLCJzdGFja0NsZWFyIiwic3RhY2tEZWxldGUiLCJzdGFja0dldCIsInN0YWNrSGFzIiwic3RhY2tTZXQiLCJwYWlycyIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNCdWZmZXIiLCJpc1R5cGUiLCJpc1R5cGVkQXJyYXkiLCJza2lwSW5kZXhlcyIsImlzSW5kZXgiLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsInNvdXJjZSIsImNvcHlPYmplY3QiLCJrZXlzIiwiYmFzZUFzc2lnbkluIiwia2V5c0luIiwiYmFzZUF0IiwicGF0aHMiLCJza2lwIiwiZ2V0IiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJpbml0Q2xvbmVBcnJheSIsInRhZyIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiY29weVN5bWJvbHNJbiIsImNvcHlTeW1ib2xzIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwiaXNTZXQiLCJzdWJWYWx1ZSIsImlzTWFwIiwia2V5c0Z1bmMiLCJnZXRBbGxLZXlzSW4iLCJnZXRBbGxLZXlzIiwiYmFzZUNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJ3YWl0Iiwic2V0VGltZW91dCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsInZhbHVlc0luZGV4IiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbGwiLCJ0b0ludGVnZXIiLCJ0b0xlbmd0aCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwic3ltYm9sc0Z1bmMiLCJiYXNlR2V0VGFnIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW5SYW5nZSIsImJhc2VJbnRlcnNlY3Rpb24iLCJhcnJheXMiLCJvdGhMZW5ndGgiLCJvdGhJbmRleCIsImNhY2hlcyIsIm1heExlbmd0aCIsInNlZW4iLCJiYXNlSW52ZXJ0ZXIiLCJiYXNlSW52b2tlIiwicGFyZW50IiwibGFzdCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0FycmF5QnVmZmVyIiwiYmFzZUlzRGF0ZSIsImJhc2VJc0VxdWFsIiwiYmFzZUlzRXF1YWxEZWVwIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImVxdWFsQnlUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNNYXAiLCJiYXNlSXNNYXRjaCIsIm1hdGNoRGF0YSIsIm5vQ3VzdG9taXplciIsInNyY1ZhbHVlIiwiYmFzZUlzTmF0aXZlIiwiaXNNYXNrZWQiLCJwYXR0ZXJuIiwiYmFzZUlzUmVnRXhwIiwiYmFzZUlzU2V0IiwiYmFzZUlzVHlwZWRBcnJheSIsImlzTGVuZ3RoIiwiYmFzZUl0ZXJhdGVlIiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwicHJvcGVydHkiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsImJhc2VNZXJnZURlZXAiLCJuZXdWYWx1ZSIsInNhZmVHZXQiLCJtZXJnZUZ1bmMiLCJpc1R5cGVkIiwiaXNBcnJheUxpa2VPYmplY3QiLCJjbG9uZVR5cGVkQXJyYXkiLCJpc1BsYWluT2JqZWN0IiwidG9QbGFpbk9iamVjdCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwiY3JpdGVyaWEiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGljayIsImJhc2VQaWNrQnkiLCJiYXNlU2V0IiwiYmFzZVByb3BlcnR5RGVlcCIsImJhc2VQdWxsQWxsIiwiaW5kZXhPZiIsImJhc2VQdWxsQXQiLCJpbmRleGVzIiwicHJldmlvdXMiLCJiYXNlVW5zZXQiLCJiYXNlUmFuZ2UiLCJzdGVwIiwiYmFzZVJlcGVhdCIsImJhc2VSZXN0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJhY3Rpb25zIiwiYWN0aW9uIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJ0b1N0cmluZyIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiY2xlYXJUaW1lb3V0IiwiYnVmZmVyIiwiY2xvbmVBcnJheUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiY2xvbmVEYXRhVmlldyIsImRhdGFWaWV3IiwiY2xvbmVSZWdFeHAiLCJyZWdleHAiLCJjbG9uZVN5bWJvbCIsInN5bWJvbCIsInR5cGVkQXJyYXkiLCJjb21wYXJlQXNjZW5kaW5nIiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJvYmpDcml0ZXJpYSIsIm90aENyaXRlcmlhIiwib3JkZXJzTGVuZ3RoIiwib3JkZXIiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJnZXRTeW1ib2xzIiwiZ2V0U3ltYm9sc0luIiwiY3JlYXRlQWdncmVnYXRvciIsImluaXRpYWxpemVyIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVCaW5kIiwiaXNCaW5kIiwiQ3RvciIsImNyZWF0ZUN0b3IiLCJ3cmFwcGVyIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsIndvcmRzIiwiZGVidXJyIiwidGhpc0JpbmRpbmciLCJjcmVhdGVDdXJyeSIsImFyaXR5IiwiZ2V0SG9sZGVyIiwiY3JlYXRlUmVjdXJyeSIsImNyZWF0ZUh5YnJpZCIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJnZXRGdW5jTmFtZSIsImZ1bmNOYW1lIiwiZ2V0RGF0YSIsImlzTGF6aWFibGUiLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiaXNBcnkiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVBhcnRpYWwiLCJjcmVhdGVSYW5nZSIsInRvRmluaXRlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3SG9sZGVyc1JpZ2h0IiwibmV3UGFydGlhbHMiLCJuZXdQYXJ0aWFsc1JpZ2h0IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInBhaXIiLCJjcmVhdGVUb1BhaXJzIiwiY3JlYXRlV3JhcCIsIm1lcmdlRGF0YSIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiaXNQYXJ0aWFsIiwiYXJyU3RhY2tlZCIsIm90aFN0YWNrZWQiLCJhcnJWYWx1ZSIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJjb252ZXJ0Iiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvdGhQcm9wcyIsIm9ialN0YWNrZWQiLCJza2lwQ3RvciIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZmxhdHRlbiIsIm90aGVyRnVuYyIsImlzS2V5YWJsZSIsImlzT3duIiwidW5tYXNrZWQiLCJzdHViQXJyYXkiLCJjdG9yU3RyaW5nIiwidHJhbnNmb3JtcyIsImdldFdyYXBEZXRhaWxzIiwibWF0Y2giLCJoYXNQYXRoIiwiaGFzRnVuYyIsImluc2VydFdyYXBEZXRhaWxzIiwiZGV0YWlscyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJtZW1vaXplQ2FwcGVkIiwibWVtb2l6ZSIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm90aGVyQXJncyIsIm9sZEFycmF5Iiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJ1cGRhdGVXcmFwRGV0YWlscyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwicmFuZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiY2h1bmsiLCJjb21wYWN0IiwiY29uY2F0IiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZyb21QYWlycyIsImhlYWQiLCJpbml0aWFsIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwiam9pbiIsInNlcGFyYXRvciIsImxhc3RJbmRleE9mIiwibnRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInB1bGxBdCIsInJlbW92ZSIsInJldmVyc2UiLCJzbGljZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic29ydGVkVW5pcSIsInNvcnRlZFVuaXFCeSIsInRhaWwiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bmlxIiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnppcCIsImdyb3VwIiwidW56aXBXaXRoIiwid2l0aG91dCIsInhvciIsInhvckJ5IiwieG9yV2l0aCIsInppcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJ6aXBXaXRoIiwiY2hhaW4iLCJ0YXAiLCJpbnRlcmNlcHRvciIsInRocnUiLCJ3cmFwcGVyQXQiLCJ3cmFwcGVyQ2hhaW4iLCJ3cmFwcGVyQ29tbWl0Iiwid3JhcHBlck5leHQiLCJ0b0FycmF5IiwiZG9uZSIsIndyYXBwZXJUb0l0ZXJhdG9yIiwid3JhcHBlclBsYW50IiwiY2xvbmUiLCJ3cmFwcGVyUmV2ZXJzZSIsIndyYXBwZWQiLCJ3cmFwcGVyVmFsdWUiLCJjb3VudEJ5IiwiZXZlcnkiLCJmaWx0ZXIiLCJmaW5kIiwiZmluZExhc3QiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmb3JFYWNoIiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImlzU3RyaW5nIiwiaW52b2tlTWFwIiwia2V5QnkiLCJvcmRlckJ5IiwicGFydGl0aW9uIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJyZWplY3QiLCJuZWdhdGUiLCJzYW1wbGUiLCJzYW1wbGVTaXplIiwic2h1ZmZsZSIsInNvbWUiLCJzb3J0QnkiLCJub3ciLCJhZnRlciIsImJlZm9yZSIsImJpbmQiLCJiaW5kS2V5IiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImxlYWRpbmdFZGdlIiwidGltZXJFeHBpcmVkIiwicmVtYWluaW5nV2FpdCIsInRpbWVTaW5jZUxhc3RDYWxsIiwidGltZVNpbmNlTGFzdEludm9rZSIsInRpbWVXYWl0aW5nIiwic2hvdWxkSW52b2tlIiwidHJhaWxpbmdFZGdlIiwiY2FuY2VsIiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImRlZmVyIiwiZGVsYXkiLCJmbGlwIiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIm9uY2UiLCJvdmVyQXJncyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwic3ByZWFkIiwidGhyb3R0bGUiLCJ1bmFyeSIsIndyYXAiLCJjYXN0QXJyYXkiLCJjbG9uZVdpdGgiLCJjbG9uZURlZXAiLCJjbG9uZURlZXBXaXRoIiwiY29uZm9ybXNUbyIsImd0IiwiZ3RlIiwiaXNBcnJheUJ1ZmZlciIsImlzQm9vbGVhbiIsImlzRGF0ZSIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc0Vycm9yIiwiaXNGaW5pdGUiLCJpc0ludGVnZXIiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hTiIsImlzTnVtYmVyIiwiaXNOYXRpdmUiLCJpc051bGwiLCJpc05pbCIsImlzUmVnRXhwIiwiaXNTYWZlSW50ZWdlciIsImlzVW5kZWZpbmVkIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0IiwibHQiLCJsdGUiLCJzaWduIiwicmVtYWluZGVyIiwiaXNCaW5hcnkiLCJ0b1NhZmVJbnRlZ2VyIiwiYXNzaWduSW4iLCJhc3NpZ25JbldpdGgiLCJhc3NpZ25XaXRoIiwiYXQiLCJjcmVhdGUiLCJwcm90b3R5cGUiLCJwcm9wZXJ0aWVzIiwiZGVmYXVsdHMiLCJwcm9wc0luZGV4IiwicHJvcHNMZW5ndGgiLCJkZWZhdWx0c0RlZXAiLCJtZXJnZVdpdGgiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uc0luIiwiaGFzIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJtYXBLZXlzIiwibWFwVmFsdWVzIiwibWVyZ2UiLCJvbWl0Iiwib21pdEJ5IiwicGlja0J5IiwicGljayIsInByb3AiLCJzZXRXaXRoIiwidG9QYWlycyIsInRvUGFpcnNJbiIsImlzQXJyTGlrZSIsInVuc2V0IiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwiY2xhbXAiLCJpblJhbmdlIiwicmFuZG9tIiwiZmxvYXRpbmciLCJ0ZW1wIiwiY2FtZWxDYXNlIiwid29yZCIsImNhcGl0YWxpemUiLCJ1cHBlckZpcnN0IiwiZW5kc1dpdGgiLCJwb3NpdGlvbiIsImVzY2FwZSIsImVzY2FwZVJlZ0V4cCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJwYWQiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJwYWRTdGFydCIsInBhcnNlSW50IiwicmFkaXgiLCJyZXBlYXQiLCJyZXBsYWNlIiwic25ha2VDYXNlIiwic3BsaXQiLCJsaW1pdCIsInN0YXJ0Q2FzZSIsInN0YXJ0c1dpdGgiLCJ0ZW1wbGF0ZSIsInNldHRpbmdzIiwiaW1wb3J0cyIsImltcG9ydHNLZXlzIiwiaW1wb3J0c1ZhbHVlcyIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbnRlcnBvbGF0ZSIsInJlRGVsaW1pdGVycyIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsImF0dGVtcHQiLCJ0b0xvd2VyIiwidG9VcHBlciIsInRyaW0iLCJ0cmltRW5kIiwidHJpbVN0YXJ0IiwidHJ1bmNhdGUiLCJvbWlzc2lvbiIsInN1YnN0cmluZyIsIm5ld0VuZCIsInVuZXNjYXBlIiwidXBwZXJDYXNlIiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiY29uZCIsImNvbmZvcm1zIiwiZGVmYXVsdFRvIiwiZmxvdyIsImZsb3dSaWdodCIsIm1hdGNoZXMiLCJtYXRjaGVzUHJvcGVydHkiLCJtZXRob2QiLCJtZXRob2RPZiIsIm1peGluIiwibm9Db25mbGljdCIsIm50aEFyZyIsIm92ZXIiLCJvdmVyRXZlcnkiLCJvdmVyU29tZSIsInByb3BlcnR5T2YiLCJyYW5nZSIsInJhbmdlUmlnaHQiLCJzdHViT2JqZWN0Iiwic3R1YlN0cmluZyIsInN0dWJUcnVlIiwidGltZXMiLCJ0b1BhdGgiLCJ1bmlxdWVJZCIsInByZWZpeCIsImFkZCIsImF1Z2VuZCIsImFkZGVuZCIsImNlaWwiLCJkaXZpZGUiLCJkaXZpZGVuZCIsImRpdmlzb3IiLCJmbG9vciIsIm1heCIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbiIsIm1pbkJ5IiwibXVsdGlwbHkiLCJtdWx0aXBsaWVyIiwibXVsdGlwbGljYW5kIiwicm91bmQiLCJzdWJ0cmFjdCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwic3VtIiwic3VtQnkiLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwidGhpcyIsIlRpbWVfRW50cnkiLCJ0aW1lX2VudHJ5IiwiVGltZV9FbnRyeV9TdGF0ZSIsIlRpbWVfRW50cnlfQWN0aW9uIiwic3RhdGVfbWFjaGluZSIsInRpbWVfZW50cnlfZXhlY3V0ZV9hY3Rpb24iLCJtdXRhdGVkX3RpbWVfZW50cnkiLCJuZXdfc3RhdGUiLCJUaW1lX0VudHJ5X0FQSSIsImZyb20iLCJ0byIsInRpbWVfZW50cmllc19mcm9tX3Jlc3BvbnNlIiwicGF5bG9hZCIsInRpbWVfZW50cnlfdG9fcG9zdF90cmFja2VkX3RpbWVzIiwidGltZV9lbnRyeV90b19wdXRfdHJhY2tlZF90aW1lcyIsInRpbWVfZW50cnlfdHlwZSIsInRpbWVfZW50aXJlcyIsInR0ZCIsInR0IiwiX2EiLCJIVFRQIiwiand0IiwiYm9keSIsImJvZHlfdGV4dCIsImpzb25fYm9keSIsImVyciIsIkFQSSIsImQiLCJmIiwidGUiLCJjbGFpbXMiLCJwYXJzZV9qd3QiLCJ0b2tlbiIsImJhc2U2NCIsImpzb25fcGF5bG9hZCIsImNvbnRleHRfa2V5IiwiY29udGV4dF9hcGlfY3JlYXRlIiwiY29udGV4dF9hcGlfZ2V0IiwiX0F1dGhfTW9kdWxlIiwiQXV0aF9Nb2R1bGUiLCJidG5UZXh0RGF5IiwiYnRuVGV4dCIsImJ0blRleHRXZWVrIiwicGVyaW9kIiwidGVzdCIsInNldENvbnRlbnQiLCJjb250ZW50IiwiY2hpbGQiLCJEQVlfSU5fU0VDT05EUyIsImNyZWF0ZURhdGUiLCJfZnJvbUxvY2FsRGF0ZSIsIl9mcm9tSVNPU3RyaW5nIiwiY3JlYXRlRHVyYXRpb24iLCJzZWNvbmRzIiwiZXhwIiwicGFydCIsIndlZWtzIiwiY2xvbmVEYXRlIiwiYWRkRHVyYXRpb24iLCJzdWJ0cmFjdERheSIsInN1YnRyYWN0RHVyYXRpb24iLCJhZGREYXkiLCJzZXRNaWRuaWdodCIsInRvTG9jYWxEYXRlIiwidG9JU09TdHJpbmciLCJmb3JtYXRSYW5nZSIsImludGwiLCJvcHRzMSIsIm9wdHMyIiwiaW50bDIiLCJmdWxsMSIsImZ1bGwyIiwicGFydDEiLCJwYXJ0MiIsImNvbW1vbiIsIl9jb21tb25DaHVua3MiLCJkYXRlc0VxdWFsIiwiZGF0ZTEiLCJkYXRlczIiLCJkYXRlMiIsIm5leHRDbG9zZXN0RGF5IiwicHJldkNsb3Nlc3REYXkiLCJub1RpbWVQYXJ0Iiwic3RyIiwicGFydHMiLCJzdHIxIiwic3Vic3RyMSIsInN0cjIiLCJzdWJzdHIyIiwicmVzMSIsIl9jdXQiLCJqIiwicmVzMiIsInN1YnN0ciIsImhhbmRsZSIsInF1ZXVlU3RvcmUiLCJxdWV1ZSIsImZsdXNoRGVib3VuY2UiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaHRtbCIsImVsIiwiaGFzWVNjcm9sbCIsInJlY3QiLCJhbmNlc3RvciIsInVwIiwiaGVpZ2h0IiwicGF5bG9hZFByb3AiLCJzZXRQYXlsb2FkIiwiaGFzUGF5bG9hZCIsImdldFBheWxvYWQiLCJnZXRFbGVtZW50V2l0aFBheWxvYWQiLCJ5Iiwic2hhZG93RWwiLCJjcmVhdGVWaWV3IiwiX3ZpZXdUaXRsZSIsIl9jdXJyZW50UmFuZ2UiLCJfYWN0aXZlUmFuZ2UiLCJ0b1ZpZXdXaXRoTG9jYWxEYXRlcyIsImV2ZW50SWQiLCJjcmVhdGVFdmVudHMiLCJjcmVhdGVFdmVudFNvdXJjZXMiLCJjcmVhdGVFdmVudENodW5rIiwic29ydEV2ZW50Q2h1bmtzIiwiY2h1bmtzIiwicHJlcGFyZUV2ZW50Q2h1bmtzIiwiaGlkZGVuRGF5cyIsImxvbmdDaHVua3MiLCJwcmV2Q2h1bmsiLCJkYXRlcyIsInJlcG9zaXRpb25FdmVudCIsIl9iIiwibWFyZ2luIiwibG9uZ0NodW5rIiwiY3JlYXRlRXZlbnRDb250ZW50IiwiZGlzcGxheUV2ZW50RW5kIiwiZXZlbnRDb250ZW50IiwidGhlbWUiLCJfaW50bEV2ZW50VGltZSIsIl92aWV3IiwidGltZVRleHQiLCJ0b0V2ZW50V2l0aExvY2FsRGF0ZXMiLCJjcmVhdGVFdmVudENsYXNzZXMiLCJldmVudENsYXNzTmFtZXMiLCJfY2xvbmVFdmVudCIsImNsb25lRXZlbnQiLCJkYXRlRm4iLCJldmVudEludGVyc2VjdHMiLCJyZXNvdXJjZSIsInRpbWVNb2RlIiwiaGVscGVyRXZlbnQiLCJkaXNwbGF5IiwicHJldmlld0V2ZW50IiwiZ2hvc3RFdmVudCIsInBvaW50ZXJFdmVudCIsImJnRXZlbnQiLCJ3cml0YWJsZTIiLCJwYXJzZXIiLCJkZXJpdmVkMiIsImluaXRWYWx1ZSIsInN0b3JlVmFsdWUiLCJoYXNTdWJzY3JpYmVycyIsImxvY2FsZSIsImZvcm1hdCIsIiRsb2NhbGUiLCIkZm9ybWF0IiwiaW50bFJhbmdlIiwiY3JlYXRlT3B0aW9ucyIsInBsdWdpbnMiLCJwbHVnaW4iLCJjcmVhdGVQYXJzZXJzIiwicGFyc2VycyIsInByZXYiLCJtb250aE1vZGUiLCJzdGF0ZSIsIiR2aWV3IiwiYWN0aXZlUmFuZ2UiLCIkX2N1cnJlbnRSYW5nZSIsIiRmaXJzdERheSIsIiRzbG90TWF4VGltZSIsIiRfbW9udGhNb2RlIiwic3RhcnQyIiwiY3VycmVudFJhbmdlIiwiJGRhdGUiLCIkZHVyYXRpb24iLCJ2aWV3RGF0ZXMiLCIkX2FjdGl2ZVJhbmdlIiwiJGhpZGRlbkRheXMiLCJ2aWV3VGl0bGUiLCIkX3RpdGxlSW50bFJhbmdlIiwiZXZlbnRzIiwiX2V2ZW50cyIsImFib3J0Q29udHJvbGxlciIsImZldGNoaW5nIiwiZGVib3VuY2VIYW5kbGUiLCIkZXZlbnRzIiwiJGV2ZW50U291cmNlcyIsIiRfZmV0Y2hlZFJhbmdlIiwiJGxhenlGZXRjaGluZyIsIiRsb2FkaW5nIiwic3RvcExvYWRpbmciLCJmYWlsdXJlIiwic3VjY2VzcyIsInN0YXJ0U3RyIiwiZW5kU3RyIiwicGFyYW1zIiwiaGVhZGVycyIsInJlc3BvbnNlIiwiaW50ZXJ2YWwiLCJ0b2RheSIsIiRfbm93IiwiU3RhdGUiLCJvcHRpb24iLCJ2aWV3MiIsImNvbW1vbk9wdHMiLCJwYXJzZU9wdHMiLCJ2aWV3cyIsInZpZXdPcHRzIiwib3B0cyIsIm5ld1ZpZXciLCJfc2V0IiwidF92YWx1ZSIsImJ1dHRvbl8xIiwiYnV0dG9uXzFfY2xhc3NfdmFsdWUiLCJidXR0b25fMV9hcmlhX2xhYmVsX3ZhbHVlIiwiaDIiLCJoMl9jbGFzc192YWx1ZSIsImNyZWF0ZV9pZl9ibG9jayIsImNyZWF0ZV9pZl9ibG9ja18xIiwiY3JlYXRlX2lmX2Jsb2NrXzIiLCJjcmVhdGVfaWZfYmxvY2tfMyIsImNyZWF0ZV9pZl9ibG9ja180IiwiYnV0dG9ucyIsIiQkcHJvcHMiLCJidXR0b25UZXh0IiwiaXNUb2RheSIsImNsaWNrX2hhbmRsZXJfMSIsImJ1dHRvbiIsIiQkaW52YWxpZGF0ZSIsImRpdiIsImRpdl9jbGFzc192YWx1ZSIsImVhY2hfdmFsdWVfMSIsImVhY2hfYmxvY2tzIiwiaGVhZGVyVG9vbGJhciIsInNlY3Rpb25zIiwiJGhlYWRlclRvb2xiYXIiLCJkYXRlc1NldCIsIl9hdXhpbGlhcnkiLCJfcXVldWUiLCJydW5EYXRlc1NldCIsIiRkYXRlc1NldCIsIiRfdmlldyIsIl92aWV3Q29tcG9uZW50IiwiX3ZpZXdDbGFzcyIsIl9ib2R5RWwiLCJfaW50ZXJhY3Rpb24iLCJfaUNsYXNzIiwiX3Njcm9sbGFibGUiLCJldmVudFNvdXJjZXMiLCJzZXRPcHRpb24iLCJnZXRPcHRpb24iLCJyZWZldGNoRXZlbnRzIiwiZ2V0RXZlbnRzIiwiJF9ldmVudHMiLCJnZXRFdmVudEJ5SWQiLCJhZGRFdmVudCIsInVwZGF0ZUV2ZW50cyIsInVwZGF0ZUV2ZW50IiwicmVtb3ZlRXZlbnRCeUlkIiwidW5zZWxlY3QiLCIkX2ludGVyYWN0aW9uIiwiZGF0ZUZyb21Qb2ludCIsImRheUVsIiwiJF9xdWV1ZSIsInJlY2hlY2tTY3JvbGxhYmxlIiwiJF9ib2R5RWwiLCIkX3Njcm9sbGFibGUiLCIkX3Nsb3RUaW1lTGltaXRzIiwiJF9pbnRsU2xvdExhYmVsIiwiJHNsb3REdXJhdGlvbiIsInNsb3RUaW1lTGltaXRzIiwiJF92aWV3RGF0ZXMiLCIkZmxleGlibGVTbG90VGltZUxpbWl0cyIsIiRzbG90TWluVGltZSIsIm1pbk1pbiIsIm1pbkZuIiwibWF4Rm4iLCJtYXhNYXgiLCJsb29wIiwibWluU3RhcnQiLCJtYXhFbmQiLCJncm91cEV2ZW50Q2h1bmtzIiwiY3JlYXRlQWxsRGF5Q29udGVudCIsImFsbERheUNvbnRlbnQiLCJkaXYwIiwiZGl2MF9jbGFzc192YWx1ZSIsImRpdjEiLCJkaXYxX2NsYXNzX3ZhbHVlIiwiZGl2MiIsImRpdjJfY2xhc3NfdmFsdWUiLCJkaXYzIiwiZGl2M19jbGFzc192YWx1ZSIsIl90aW1lcyIsImFsbERheVRleHQiLCIkYWxsRGF5Q29udGVudCIsIl92aWV3RGF0ZXMiLCJfc2xvdFRpbWVMaW1pdHMiLCJzY3JvbGxUaW1lIiwic2xvdER1cmF0aW9uIiwic2xvdEhlaWdodCIsImxpbmVzIiwidGltZUxpbWl0TWluIiwic2Nyb2xsVG9UaW1lIiwiJHNjcm9sbFRpbWUiLCIkc2xvdEhlaWdodCIsIiQkdmFsdWUiLCIkX3RpbWVzIiwic3dpdGNoX3ZhbHVlIiwiaXNfZnVuY3Rpb25fMSIsImV2ZW50QmFja2dyb3VuZENvbG9yIiwiZXZlbnRUZXh0Q29sb3IiLCJldmVudENvbG9yIiwiZXZlbnRDbGljayIsImV2ZW50RGlkTW91bnQiLCJldmVudE1vdXNlRW50ZXIiLCJldmVudE1vdXNlTGVhdmUiLCJzbG90RXZlbnRPdmVybGFwIiwiX2lDbGFzc2VzIiwiX3Jlc0JnQ29sb3IiLCJfcmVzVHh0Q29sb3IiLCJjbGFzc2VzIiwic3R5bGUiLCIkZXZlbnREaWRNb3VudCIsImNyZWF0ZUhhbmRsZXIiLCJqc0V2ZW50IiwiY3JlYXRlRHJhZ0hhbmRsZXIiLCJpbnRlcmFjdGlvbiIsInJlc2l6ZSIsInRvcCIsIm1heEhlaWdodCIsImJnQ29sb3IiLCIkX3Jlc0JnQ29sb3IiLCIkZXZlbnRCYWNrZ3JvdW5kQ29sb3IiLCIkZXZlbnRDb2xvciIsInR4dENvbG9yIiwiJF9yZXNUeHRDb2xvciIsIiRldmVudFRleHRDb2xvciIsIiRzbG90RXZlbnRPdmVybGFwIiwiJHRoZW1lIiwiJF9pQ2xhc3NlcyIsIiRldmVudENsYXNzTmFtZXMiLCIkZGlzcGxheUV2ZW50RW5kIiwiJGV2ZW50Q29udGVudCIsIiRfaW50bEV2ZW50VGltZSIsIl9ub3ciLCJfdG9kYXkiLCIkX3RvZGF5IiwiZXZlbnRfY2hhbmdlcyIsImlmX2Jsb2NrMCIsImdldF9rZXlfMSIsImlmX2Jsb2NrMiIsIl9pRXZlbnRzIiwiaGlnaGxpZ2h0ZWREYXRlcyIsIm5vd0luZGljYXRvciIsImJnQ2h1bmtzIiwiaUNodW5rcyIsImhpZ2hsaWdodCIsImNyZWF0ZVBvaW50ZXJFbnRlckhhbmRsZXIiLCIkX2lFdmVudHMiLCIkaGlnaGxpZ2h0ZWREYXRlcyIsInJlcG9zaXRpb24iLCJFdmVudCIsImRheUNodW5rcyIsInJlZnMiLCJyZWYiLCJfaW50bERheUhlYWRlciIsImFsbERheVNsb3QiLCIkX3ZpZXdDbGFzcyIsIlRpbWVHcmlkIiwiVmlldyIsImJ1c3kiLCJhbmltYXRlIiwibWluTGltaXQiLCJtYXhMaW1pdCIsImxpc3Rlbl8xIiwid2luZG93XzEiLCJjcmVhdGVQcmV2ZW50RGVmYXVsdEhhbmRsZXIiLCJBQ1RJT05fRFJBRyIsIkFDVElPTl9SRVNJWkUiLCJBQ1RJT05fU0VMRUNUIiwiQUNUSU9OX0NMSUNLIiwiQUNUSU9OX05PX0FDVElPTiIsInZhbGlkSnNFdmVudCIsImNvbmRpdGlvbiIsIl9tb250aE1vZGUiLCJfZHJhZ2dhYmxlIiwiZHJhZ1Njcm9sbCIsImRhdGVzQWJvdmVSZXNvdXJjZXMiLCJldmVudERyYWdNaW5EaXN0YW5jZSIsImV2ZW50RHJhZ1N0YXJ0IiwiZXZlbnREcmFnU3RvcCIsImV2ZW50RHJvcCIsImV2ZW50TG9uZ1ByZXNzRGVsYXkiLCJldmVudFJlc2l6ZVN0YXJ0IiwiZXZlbnRSZXNpemVTdG9wIiwiZXZlbnRSZXNpemUiLCJsb25nUHJlc3NEZWxheSIsInNlbGVjdGFibGUiLCJzZWxlY3RGbiIsInNlbGVjdEJhY2tncm91bmRDb2xvciIsInNlbGVjdExvbmdQcmVzc0RlbGF5Iiwic2VsZWN0TWluRGlzdGFuY2UiLCJ1bnNlbGVjdEZuIiwidW5zZWxlY3RBdXRvIiwidW5zZWxlY3RDYW5jZWwiLCJkYXRlQ2xpY2siLCJpbnRlcmFjdGluZyIsIm5ld0RhdGUiLCJuZXdSZXNvdXJjZSIsImZyb21YIiwiZnJvbVkiLCJ0b1giLCJ0b1kiLCJib2R5RWwiLCJib2R5UmVjdCIsImNsaXBFbCIsImNsaXBSZWN0IiwiZGVsdGEiLCJhbGxEYXkiLCJpQ2xhc3MiLCJtaW5FbmQiLCJzZWxlY3RTdGVwIiwic2VsZWN0ZWQiLCJub0RhdGVDbGljayIsInRpbWVyIiwidmlld3BvcnQiLCJkcmFnIiwiZXZlbnRUb0RyYWciLCJmb3JjZURhdGUiLCIkX2RyYWdnYWJsZSIsImNvbXBsZXhBY3Rpb24iLCJtb3ZlIiwic2VsZWN0IiwiJHNlbGVjdGFibGUiLCJkcmFnZ2luZyIsIiRkYXRlc0Fib3ZlUmVzb3VyY2VzIiwiY2FsY1ZpZXdwb3J0Iiwic2VsZWN0aW5nIiwiJHNlbGVjdExvbmdQcmVzc0RlbGF5IiwiJGV2ZW50TG9uZ1ByZXNzRGVsYXkiLCIkbG9uZ1ByZXNzRGVsYXkiLCJkaXN0YW5jZSIsIiRzZWxlY3RNaW5EaXN0YW5jZSIsIiRldmVudERyYWdNaW5EaXN0YW5jZSIsIiRfaUNsYXNzIiwiY3JlYXRlSUV2ZW50U2VsZWN0IiwiY3JlYXRlSUV2ZW50IiwicmVzaXppbmciLCIkZXZlbnRSZXNpemVTdGFydCIsIiRldmVudERyYWdTdGFydCIsImZpbmREYXlFbCIsIm5ld0FsbERheSIsIiRkcmFnU2Nyb2xsIiwidGhyZXNob2xkIiwiaGFuZGxlU2Nyb2xsIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJoYW5kbGVQb2ludGVyVXAiLCIkdW5zZWxlY3RBdXRvIiwiJHVuc2VsZWN0Q2FuY2VsIiwiJHNlbGVjdEZuIiwiJGV2ZW50UmVzaXplU3RvcCIsIiRldmVudERyYWdTdG9wIiwib2xkRXZlbnQiLCJkZXN0cm95SUV2ZW50IiwiJGV2ZW50UmVzaXplIiwiJGV2ZW50RHJvcCIsImV2ZW50UmVmIiwiaW5mbyIsImNsaWNraW5nIiwiJGRhdGVDbGljayIsIiRzZWxlY3RCYWNrZ3JvdW5kQ29sb3IiLCIkdW5zZWxlY3RGbiIsIm5vQ2xpY2siLCJoYW5kbGVUb3VjaFN0YXJ0Iiwic3RvcHMiLCJ2YWxpZEV2ZW50IiwiY29sRGF0ZSIsImNvbEVsIiwiY29sUmVjdCIsImVudGVyVGltZUdyaWQiLCJyZXNvdXJjZU9iaiIsImVudGVyRGF5R3JpZCIsImxlYXZlIiwicmVtb3ZlUG9pbnRlckV2ZW50IiwicnkiLCJjcmVhdGVQb2ludGVyRXZlbnQiLCJldmVudER1cmF0aW9uRWRpdGFibGUiLCJlZGl0YWJsZSIsInJlc2l6YWJsZSIsIiRldmVudER1cmF0aW9uRWRpdGFibGUiLCIkZWRpdGFibGUiLCJldmVudFN0YXJ0RWRpdGFibGUiLCJwb2ludGVyIiwiUmVzaXplciIsImJvZHlTY3JvbGxIYW5kbGVyIiwiJGV2ZW50U3RhcnRFZGl0YWJsZSIsIkludGVyYWN0aW9uIiwiJF9hdXhpbGlhcnkiLCJBdXhpbGlhcnkiLCJERUZBVUxUX0NPTE9SIiwic3RyaW5nX3RvX2NvbG9yIiwiaGFzaCIsImNvbG9yX2hleCIsInZhbHVlX3RvX3JlcGVhdCIsImNvbG9yX3JnYiIsImhleF90b19yZ2IiLCJjb2xvcl9oc3YiLCJyZ2JfdG9faHN2IiwiY29sb3JfcmdiMiIsImhzdl90b19yZ2IiLCJyZ2JfdG9faGV4IiwiaCIsInMiLCJ2IiwiciIsImciLCJxIiwiaGV4IiwiZGl2X3N0eWxlX3ZhbHVlIiwicG9wdXBfMSIsImdhcF9vZmZzZXQiLCJmaW5kX2Nsb3Nlc3Rfc2Nyb2xsaW5nX2VsZW1lbnQiLCJub2RlX2hlaWdodCIsImlzX29wZW4iLCJhbmNob3JfZWwiLCJ0cmFja19zY3JvbGxpbmciLCJwb3B1cCIsImhhbmRsZV9ib2R5X2NsaWNrIiwiaXNfaW5zaWRlIiwiaXNfYW5jaG9yIiwic2V0X2Ryb3Bkb3duX3Bvc2l0aW9uIiwiYW5jaG9yX3JlY3QiLCJwb3B1cF9yZWN0Iiwid2luZG93X3dpZHRoIiwic2Nyb2xsX2VsIiwibmV3X3RvcCIsInNjcm9sbF90b3AiLCJzY3JvbGxfYm90dG9tX2FkanVzdGVkIiwicG9zX3hfcmlnaHQiLCJwb3NfeF9sZWZ0Iiwic2Nyb2xsX3RyYWNraW5nIiwiaGFuZGxlX3BhcmVudF9zY3JvbGwiLCJwb3NfeCIsInBvc195IiwidDBfdmFsdWUiLCJ0Ml92YWx1ZSIsIm9wdGlvbl9zZWxlY3RlZF92YWx1ZSIsIm9wdGlvbl92YWx1ZV92YWx1ZSIsInQwIiwidDIiLCJvcHRncm91cCIsIm9wdGdyb3VwX2xhYmVsX3ZhbHVlIiwiZXZlbnRfZm9ybSIsImZvcm0iLCJsYWJlbDAiLCJzcGFuMCIsImxhYmVsMSIsInNwYW4xIiwidGV4dGFyZWEiLCJidXR0b24wIiwiYnV0dG9uMSIsInNlbGVjdGVkX3Rhc2siLCJkZXNjcmlwdGlvbiIsImRpc3BhdGNoIiwibmV3X3NlbGVjdGVkX3Rhc2siLCJuZXdfZGVzY3JpcHRpb24iLCJoYW5kbGVfdGFza19jaGFuZ2UiLCJ0YXNrX2lkIiwiaGFuZGxlX3N1Ym1pdCIsImhhbmRsZV9kZWxldGUiLCJoYW5kbGVfY21kX2VudGVyIiwiaGFuZGxlX2VzY2FwZSIsIlRpbWVfRW50cmllcyIsInRpbWVfZW50cmllcyIsImRlcml2ZWRfYnlfc3RhdGUiLCJ0aW1lX2VudHJpZXNfdG9fY3JlYXRlIiwibmV3X3RpbWVfZW50cmllcyIsImlkcyIsImNtZHMiLCJjbWQiLCJuZXdfY21kcyIsInRpbWVfZW50cmllc190b19yZXBsYWNlIiwidGltZV9lbnRyaWVzX2NvbnRleHRfaW5pdCIsInRpbWVfZW50cmllc19jb250ZXh0X3VzZSIsInByZXZpb3VzX2tleSIsImV2ZW50Zm9ybV9jaGFuZ2VzIiwiaWZfYmxvY2siLCJjdHhfcHJvamVjdHMiLCJtYWtlX2RheV9oZWFkZXJfZm9ybWF0IiwibnVsbF9kYXRlIiwiZHVyYXRpb25fdG90YWwiLCJhY2MiLCJkdXJhdGlvbl90ZXh0IiwiZGF5X251bWJlciIsIm1vbnRoX251bWJlciIsImV2ZW50X2NvbnRlbnQiLCJsb2FkX2V2ZW50cyIsIm5ld19ldmVudHMiLCJ0aW1lX2VudHJ5X3RvX2V2ZW50IiwiZWMiLCJjb2xvcl9oYXNoIiwiY29sb3IiLCJpc19mb3JtX29wZW4iLCJjdXJfdGltZV9lbnRyeSIsImhhbmRsZV9zYXZlIiwiaGFuZGxlX2Nsb3NlIiwiaGFuZGxlX3VwZGF0ZV9kYXRlcyIsImhhbmRsZV9zZWxlY3QiLCJoYW5kbGVfZXZlbnRfZHJvcCIsImhhbmRsZV9yZXNpemUiLCJoYW5kbGVfZGlkX21vdW50IiwiaGFuZGxlX2NsaWNrIiwiJHByb2plY3Rfc2V0cyIsIiRzdG9yZSIsIiQkc3Vic2NyaWJlX3Byb2plY3Rfc2V0cyIsInByb2plY3Rfc2V0cyIsInRpbWVfZW50cnlfc3luYyIsImFwaSIsInNhdmVfdGltZV9lbnRyaWVzIiwiZGVsZXRlX3RpbWVfZW50cmllcyIsInRpbWVfZW50cmllc190b19zYXZlIiwidXBkYXRlX3Byb21pc2VzIiwiZmluZF93ZWVrX3JhbmdlIiwic2F2ZWRfdGltZV9lbnRpcmVzIiwicmVwbGFjZW1lbnRzIiwidGVfdG9fc2F2ZSIsInNhdmVkX2VudHJ5IiwidGVfc2F2ZWQiLCJ0aW1lX2VudHJpZXNfdG9fZGVsZXRlIiwidXBkYXRlX2NtZHMiLCJkZWxldGVfcHJvbWlzZXMiLCJkZWxldGVkX2lkcyIsInJpIiwiZXJyZF90ZSIsImgxIiwibGluayIsImNhbGVuZGFyIiwiYXV0aF9tb2R1bGUiLCJiYXNlVVJMIiwic3R5bGVVUkwiLCJjdHhfdGltZV9lbnRpcmVzIiwiZGF0ZV9zdGFydCIsImRhdGVfZW5kIiwibG9hZF90aW1lX2VudGlyZXMiLCJsb2FkX3Byb2plY3Rfc2V0cyIsInByb2plY3RfcHJvbWlzZXMiLCJkaSIsInByb20iLCJwaSIsInBsIiwicHJvamVjdF9zZXQiLCJoYW5kbGVfZGF0ZWNoYW5nZWQiLCJBcHAiXSwibWFwcGluZ3MiOiI7OztBQUNPLFNBQVNBLEtBQU87QUFBRTtBQUVsQixNQUFNQyxLQUFXLENBQUNDLE1BQU1BO0FBU3hCLFNBQVNDLEdBQU9DLEdBQUtDLEdBQUs7QUFFaEMsYUFBV0MsS0FBS0Q7QUFBSyxJQUFBRCxFQUFJRSxDQUFDLElBQUlELEVBQUlDLENBQUM7QUFDbkM7QUFBQTtBQUFBLElBQTZCRjtBQUFBO0FBQzlCO0FBdUJPLFNBQVNHLEdBQUlDLEdBQUk7QUFDdkIsU0FBT0EsRUFBRTtBQUNWO0FBRU8sU0FBU0MsS0FBZTtBQUM5QixTQUFPLHVCQUFPLE9BQU8sSUFBSTtBQUMxQjtBQU1PLFNBQVNDLEdBQVFDLEdBQUs7QUFDNUIs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LEdBQVE7QUFBQSxNQUMxRSxHQUFRO0FBQUEsTUFBTSxHQUFRO0FBQUEsTUFDdEIsR0FBUTtBQUFBLE1BQU0sR0FBUTtBQUFBLE1BQ3RCLEdBQVE7QUFBQSxNQUFNLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUNoRCxHQUFRO0FBQUEsTUFBTSxHQUFRO0FBQUEsTUFBSyxHQUFRO0FBQUEsTUFBSyxHQUFRO0FBQUEsTUFDaEQsR0FBUTtBQUFBLE1BQU0sR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQ2hELEdBQVE7QUFBQSxNQUFNLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUNoRCxHQUFRO0FBQUEsTUFBTSxHQUFRO0FBQUEsTUFDdEIsR0FBUTtBQUFBLE1BQU0sR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQzFFLEdBQVE7QUFBQSxNQUFNLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUMxRSxHQUFRO0FBQUEsTUFBTSxHQUFRO0FBQUEsTUFBSyxHQUFRO0FBQUEsTUFBSyxHQUFRO0FBQUEsTUFDaEQsR0FBUTtBQUFBLE1BQU0sR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQUssR0FBUTtBQUFBLE1BQ2hELEdBQVE7QUFBQSxNQUFNLEdBQVE7QUFBQSxNQUFLLEdBQVE7QUFBQSxNQUNuQyxHQUFRO0FBQUEsTUFBTSxHQUFRO0FBQUEsTUFDdEIsR0FBUTtBQUFBLE1BQU0sR0FBUTtBQUFBLE1BQ3RCLEdBQVE7QUFBQTtBQUFBLE1BRVIsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3pDLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN6QyxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDeEQsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3hELEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN4RCxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDdkUsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3ZFLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN4RCxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDeEQsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3hELEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN2RSxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDdkUsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQzFCLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN6QyxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDdkUsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3ZFLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN4RCxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDeEQsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3pDLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN6QyxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDekMsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3pDLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN4RCxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDeEQsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3pDLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN6QyxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDdEYsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3RGLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUMxQixHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFBSyxHQUFVO0FBQUEsTUFDekMsR0FBVTtBQUFBLE1BQU0sR0FBVTtBQUFBLE1BQUssR0FBVTtBQUFBLE1BQ3pDLEdBQVU7QUFBQSxNQUFNLEdBQVU7QUFBQSxNQUFLLEdBQVU7QUFBQSxNQUN6QyxHQUFVO0FBQUEsTUFBTSxHQUFVO0FBQUEsTUFDMUIsR0FBVTtBQUFBLE1BQU0sR0FBVTtB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bm1CO01BQ0kra0IsSUFBTTlrQjtBQUNWLEVBQUE4a0IsRUFBSSxhQUFhN3lELEVBQVEsR0FFdEIrc0MsS0FBT0EsTUFBUSxNQUNkOGxCLEVBQUksUUFBUTlsQixDQUFHO1FBT2JtbkIsSUFBYyxJQUFBLElBQUksWUFBWSxHQUFHLEdBRWpDQyxJQURhLElBQUEsSUFBSSxhQUFhRCxDQUFPLEVBQ25CO0FBRTNCLEVBQUF4RDtRQUNNMEQsSUFBbUJ6RDtBQUV6QixFQUFBcnVEO1FBQ015dUQsSUFBZXh1RDtBQUVqQixNQUFBOHhELElBQWlCLG9CQUFBLEtBQUEsR0FDakJDLElBQWUsb0JBQUE7QUFJbkIsRUFBQTFCLEdBQWdCQyxHQUFLdUIsQ0FBZ0I7QUFNdEIsaUJBQUFHLEVBQWtCL3pELEdBQWFpRCxHQUFBO1VBQ3ZDaXBDLElBQXFCLE1BQUFtbUIsRUFBSSxtQkFBbUJyeUQsR0FBT2lELENBQUc7QUFDNUQsSUFBQTJ3RCxFQUFpQixNQUFBO2VBQ1A3bUIsS0FBTWI7QUFDZixNQUFBMG5CLEVBQWlCLGtCQUFrQjdtQixDQUFFO0FBQUE7QUFJeEIsaUJBQUFpbkIsRUFBa0JoMEQsR0FBYWlELEdBQUE7QUFDekMsUUFBQWd4RCxJQUFBLENBQUE7YUFDSUMsSUFBRyxHQUFFQSxJQUFHLEdBQUVBLEtBQUE7WUFDWHJuQixJQUFFcHFDLEdBQWN6QyxHQUFNazBELENBQUUsR0FDeEJDLElBQUs5QixFQUFJLGVBQWV4bEIsQ0FBQztBQUMvQixNQUFBb25CLEVBQWlCLEtBQUtFLENBQUk7QUFBQTtVQUdyQmhDLElBQXFCLE1BQUEsUUFBUSxJQUFJOEIsQ0FBZ0I7QUFFL0MsYUFBQUcsSUFBRyxHQUFFQyxJQUFHbEMsRUFBYSxRQUFRaUMsSUFBR0MsR0FBSUQsS0FBQTtZQUNyQ3ZuQixJQUFFcHFDLEdBQWN6QyxHQUFNbzBELENBQUUsR0FDeEJFLElBQVluQyxFQUFhaUMsQ0FBRTtBQUNqQyxNQUFBN0QsRUFBYSxhQUFhbHVELEdBQWdCd3FDLENBQUMsR0FBRXluQixDQUFXO0FBQUE7O1dBSWpEQyxFQUFtQmg4RCxHQUFBO0FBQ3BCLFVBQUEsRUFBQSxPQUFBeUgsR0FBTyxLQUFBaUQsTUFBTzFLLEVBQU07U0FDM0JzN0QsSUFBYTd6RCxDQUFBLFFBQ2I4ekQsSUFBVzd3RCxDQUFBO0FBQUE7OztVQXJDVCt3RCxFQUFrQkgsQ0FBb0I7VUFDdENFLEVBQWtCRixHQUFZQyxDQUFRO0FBQUE7Ozs7Ozs7QUNyRDFDLFNBQVN4MUQsS0FBYztBQUduQixNQUFJazJELEdBQUk7QUFBQSxJQUNKLFFBQVEsU0FBUyxlQUFlLFdBQVc7QUFBQSxJQUMzQyxPQUFRLENBQUM7QUFBQSxFQUFBLENBQ1o7QUFDTDsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMiwxOSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OV19
